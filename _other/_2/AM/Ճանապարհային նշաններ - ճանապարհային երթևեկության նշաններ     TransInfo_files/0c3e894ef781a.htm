(function() {
	var BB_APP = {"banner_id":"0c3e894ef781a","banner_width":"200","banner_height":"250","banner_link":"https:\/\/butik.am","banner_name":"","banner_modified":"2018-04-06 10:25:26","banner_lang":"ru","banner_description":"","banner_animation":{"playtimes":"0","animtime":19.4,"objects_length":55,"objects":{"boe_canvas__item_1522995678315":{"id":"boe_canvas__item_1522995678315","name":"b60dbe7cbb","type":"image","subtype":"upload","animstart":0,"animend":2.4,"animin":{"name":"Fade","duration":0.92,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeIn"},"animout":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeOut"},"animpulse":{"name":"None","code":"none","settings":[]}},"boe_canvas__item_1522996067955":{"id":"boe_canvas__item_1522996067955","name":"a50b7141dd","type":"image","subtype":"upload","animstart":4.8,"animend":7.2,"animin":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeIn"},"animout":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeOut"},"animpulse":{"name":"None","code":"none","settings":[]}},"boe_canvas__item_1522996136233":{"id":"boe_canvas__item_1522996136233","name":"bc22033e57","type":"image","subtype":"upload","animstart":7.2,"animend":9.8,"animin":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeIn"},"animout":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeOut"},"animpulse":{"name":"None","code":"none","settings":[]}},"boe_canvas__item_1522996465053":{"id":"boe_canvas__item_1522996465053","name":"465184402d","type":"image","subtype":"upload","animstart":9.8,"animend":12.2,"animin":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeIn"},"animout":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeOut"},"animpulse":{"name":"None","code":"none","settings":[]}},"boe_canvas__item_1522997518604":{"id":"boe_canvas__item_1522997518604","name":"4cee3be477","type":"image","subtype":"upload","animstart":12.2,"animend":14.5,"animin":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeIn"},"animout":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeOut"},"animpulse":{"name":"None","code":"none","settings":[]}},"boe_canvas__item_1522999317947":{"id":"boe_canvas__item_1522999317947","name":"ada80b549f","type":"image","subtype":"upload","animstart":14.5,"animend":16.9,"animin":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeIn"},"animout":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeOut"},"animpulse":{"name":"None","code":"none","settings":[]}},"boe_canvas__item_1522999373489":{"id":"boe_canvas__item_1522999373489","name":"7dd8fdfc92","type":"image","subtype":"upload","animstart":17,"animend":19.4,"animin":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeIn"},"animout":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeOut"},"animpulse":{"name":"None","code":"none","settings":[]}},"boe_canvas__item_1522999474767":{"id":"boe_canvas__item_1522999474767","name":"a5ed0c45e3","type":"image","subtype":"upload","animstart":2.4,"animend":4.8,"animin":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeIn"},"animout":{"name":"Fade","duration":1,"code":"fade","settings":{"left":0,"top":0,"opacity":0,"easing":{"name":"ease-out","name_ru":"ease-out","value":"ease-out","code":"ease_out","active":1,"sort":5},"scale":100,"rotatex":0,"rotatey":0,"rotatez":0,"originx":50,"originy":50},"value":"fadeOut"},"animpulse":{"name":"None","code":"none","settings":[]}}},"fallbacks":[],"is_old":false},"user_id":"7607","id":"02cab97a2d307","banner_embed":"\/\/embed.bannerboo.com\/banners\/0c3e894ef781a.html","banner_type":"banner","target_url":"","target_window":"_blank","preloader":false,"display_type":"animated","responsive":0,"ver":"","embed_domain":"embed.bannerboo.com","URL":"embed.bannerboo.com\/banners\/__embed\/0c3e894ef781a_5af47e27fecc7a6abeced16e147a995c\/"};
	var objBB_APP = function(scriptTarget) 
	{
		var url_params = '';
		BB_APP['protocol'] = ("file:"==window.location.protocol ? "http:" : "") + '//';
		BB_APP['URL'] = BB_APP['protocol']+BB_APP['URL'];

		if (undefined != BB_APP['ver'] && !!BB_APP['ver'])
		{
			BB_APP['URL'] += '?ver='+BB_APP['ver'];
		}
		
		if (BB_APP['responsive'])
		{
			url_params += '&responsive='+BB_APP['responsive'];
		}
		if (BB_APP['preloader'])
		{
			url_params += '&preloader=1';
		}
		if (BB_APP['target_url'])
		{
			url_params += '&target_url='+BB_APP['target_url'];
		}
		if (BB_APP['target_window'] != '_blank')
		{
			url_params += '&target_window='+BB_APP['target_window'];
		}
		if (BB_APP['display_type'] != 'animated')
		{
			url_params += '&display_type='+BB_APP['display_type'];
		}

		if (url_params)
		{
			BB_APP['URL'] += '?' + url_params.substr(1);
		}

		var banner = document.createElement('div');
		banner.setAttribute('id', BB_APP.id);
		banner.setAttribute('style', 'position:relative;overflow:hidden;width:'+BB_APP.banner_width+'px;height:'+BB_APP.banner_height+'px;');

		var banner_responsive = document.createElement('div');
		banner_responsive.setAttribute('class', 'boe_canvas__banner_responsive');
		banner_responsive.setAttribute('style', 'transform:scale(1) translate3d(0px, 0px, 0px);transform-origin: 0px 0px 0px;width:'+BB_APP.banner_width+'px;height:'+BB_APP.banner_height+'px;');

		var banner_inner = document.createElement('div');
		banner_inner.setAttribute('class', 'boe_canvas__banner_inner');
		banner_inner.setAttribute('style', 'width:'+BB_APP.banner_width+'px;height:'+BB_APP.banner_height+'px;');


		var iframe = document.createElement('iframe');
		iframe.setAttribute('src', BB_APP.URL);
		iframe.setAttribute('width', BB_APP.banner_width);
		iframe.setAttribute('height', BB_APP.banner_height);
		iframe.setAttribute('frameborder', '0');
		iframe.setAttribute('allowtransparency', 'true');
		iframe.setAttribute('scrolling', 'no');
		iframe.setAttribute('allowfullscreen', true);
		iframe.setAttribute('style', 'position:absolute;left:0;top:0;max-width:none!important;\
max-height:none!important;border:none;background-color:transparent;height:'+parseInt(BB_APP.banner_height)+'px;width:'+parseInt(BB_APP.banner_width)+'px;\
opacity:1;cursor:pointer;');

		banner_inner.appendChild(iframe);
		banner_responsive.appendChild(banner_inner);
		banner.appendChild(banner_responsive);
		scriptTarget.parentNode.insertBefore(banner, scriptTarget);

		if (BB_APP['responsive'] || BB_APP['preloader'])
		{
			var render_script = document.createElement('script');
			render_script.setAttribute('src', BB_APP['protocol']+BB_APP['embed_domain']+'/assets/render.min.js');

			document.head.appendChild(render_script);

			render_script.onload = function(){
				renderBanner(BB_APP);
			};
		}
	}


	function addEventHandler(element, eventName, handler) 
	{
		if (element.addEventListener) 
		{
			element.addEventListener(eventName, handler, false);
		} 
		else if (element.attachEvent) 
		{
			element.attachEvent("on" + eventName, handler);
		} 
		else 
		{
			element["on" + eventName] = handler;
		}
	}

	function removeEventHandler(elem, eventType, handler) 
	{
		if (elem.removeEventListener) 
		{
			elem.removeEventListener(eventType, handler, false);
		} 
		else if (elem.detachEvent) 
		{
			elem.detachEvent("on" + eventType, handler);
		}
	}

	function initBanner(callback) 
	{
		function getCurScript() 
		{
			cur_script = script_target[script_target.length - 1];

			for (var i = script_target.length - 1; i >= 0; i--)
			{
				if (script_target[i].src.indexOf(BB_APP.banner_id) != -1 
					|| script_target[i].className 
					&& script_target[i].className.indexOf("bannerboo_preview_script") >= 0) 
				{
					cur_script = script_target[i];
					break;
				}
			}
			callback(cur_script);
		}

		var script_target = document.getElementsByTagName("script"),
			cur_script = document.currentScript,
			e;
		
		if (cur_script) callback(cur_script);
		else if (document.readyState == "complete") getCurScript();
		else 
		{
			function onLoad(event) 
			{
				rmEventListensFromScripts(event.target)
			}

			function rmEventListensFromScripts(target) 
			{
				for (var i = 0; i < script_target.length; ++i)
				{
					removeEventHandler(script_target[i], "load", onLoad);
					removeEventHandler(script_target[i], "readystatechange", onReadyBannerState);
				}
				
				if (removeEventHandler(document, "readystatechange", onReadyState), !target
					|| target.src.indexOf(BB_APP.banner_id) == -1 
					&& (!target.className || target.className.indexOf("bannerboo_preview_script") == -1)) 
				{
					getCurScript();
					return;
				}
				callback(target);
			}

			function onReadyBannerState(event) 
			{
				event = event || window.event;
				var target = event.target || event.srcElement;
				
				target.readyState == "complete" && rmEventListensFromScripts(target);
			}

			function onReadyState() 
			{
				document.readyState == "complete" && rmEventListensFromScripts();
			}

			for (e = 0; e < script_target.length; ++e)
			{
				addEventHandler(script_target[e], "load", onLoad);
				addEventHandler(script_target[e], "readystatechange", onReadyBannerState);
			}
			addEventHandler(document, "readystatechange", onReadyState);
		}
	};

	document.body 
		? initBanner(objBB_APP) 
		: addEventListener(window, "load", function() 
		{
			initBanner(objBB_APP)
		});
})();