if (self.CavalryLogger) { CavalryLogger.start_js(["V0SKY"]); }

__d("MessagingTag",[],(function(a,b,c,d,e,f){e.exports={GROUPS:"groups",UNREAD:"unread",FLAGGED:"flagged",ACTION_ARCHIVED:"action:archived",INBOX:"inbox",OTHER:"other",PENDING:"pending",MONTAGE:"montage",PAGES:"pages",PAGE_BACKGROUND:"page_background",EVENT:"event",SENT:"sent",SPAM:"spam",UPDATES:"broadcasts_inbox",BCC:"header:bcc",FILTERED_CONTENT:"filtered_content",FILTERED_CONTENT_BH:"filtered_content_bh",FILTERED_CONTENT_ACCOUNT:"filtered_content_account",FILTERED_CONTENT_QUASAR:"filtered_content_quasar",FILTERED_CONTENT_INVALID_APP:"filtered_content_invalid_app",UNAVAILABLE_ATTACHMENT:"unavailable_attachment",ARCHIVED:"archived",EMAIL:"email",VOICEMAIL:"voicemail",SPAM_SPOOFING:"spam:spoofing",SPOOF_WARNING:"MTA:spoof_warning",SMS_TAG_ROOT:"SMSShortcode:",APP_ID_ROOT:"app_id:",DOMAIN_AUTH_PASS:"MTA:dmarc:pass",DOMAIN_AUTH_FAIL:"MTA:dmarc:fail",MTA_SYSTEM_MESSAGE:"MTA:system_message",EMAIL_MESSAGE:"source:email",ONE_CLICK_MESSAGE:"page_one_click_message",MARKETPLACE:"marketplace",ROOM:"room",PAGE_FOLLOWUP:"page_followup",MESSAGE_REQUEST_AGGREGATION_UNIT:"message_request_aggregation_unit",IRIS_MAPPING:{FOLDER_INVALID:null,FOLDER_INBOX:"inbox",FOLDER_OTHER:"other",FOLDER_SPAM:"spam",FOLDER_PENDING:"pending",FOLDER_MONTAGE:"montage",FOLDER_HIDDEN:"hidden",FOLDER_DISABLED:"disabled",FOLDER_PAGE_BACKGROUND:"page_background",FOLDER_PAGE_DONE:"page_done",FOLDER_BLOCKED:"blocked"}}}),null);
__d("getByPath",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,b,c){a=a;for(var d=0;d<b.length;d++){var e=b[d];if(a&&typeof a!=="string"&&typeof a!=="number"&&e in a)a=a[e];else return c}return a}e.exports=a}),null);
__d("messengerIterateEmoji",["MessengerSupportedEmoji","ifRequired"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){__p&&__p();var f=String(a);while(f){a=b("ifRequired")("MessengerSupportedEmojiUtils",function(a){return a.getEmojiMatchObj(f)},function(){return b("MessengerSupportedEmoji").getEmojiMatchObj(f)});if(a){var g=a.offset+a.length,h=f.substr(0,a.is_supported?a.offset:g);d(h);a.is_supported&&c(a.emoji_str,a.emoji_key,e);h=f.substr(g);f=h}else break}d(f)}e.exports=a}),null);
__d("messengerIterateEmoticons",["EmoticonEmojiList"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a,c,d,e){var f,g,h;a=String(a);while(a){g=b("EmoticonEmojiList").regexp.exec(a);if(g)f=g.index+g[1].length,h=a.substr(0,f),g=g[2],f=a.substr(f+g.length),d(h),c(g,b("EmoticonEmojiList").names[g],e),a=f;else break}d(a)}e.exports=a}),null);
__d("MessengerTextWithEmoticons.react",["cx","fbt","BaseTextWithDecoration.react","EmojiImageURL","EmoticonEmojiList","FBEmojiResource","FBEmojiUtils","Image.react","MessengerHotlikeEmoji.bs","React","messengerIterateEmoji","messengerIterateEmoticons"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=b("React").PropTypes;function j(a,c,d,e){var f=e?128:16;a=!a&&!b("MessengerHotlikeEmoji.bs").isMessengerHotlike(d)?new(b("FBEmojiResource"))(b("FBEmojiUtils").resolveAliasFromKey(d)||d).getImageURL(f):b("EmojiImageURL").getMessengerURL(d,f);d=e?"_1ift _5m3a":"_1ift _2560";return b("React").createElement(b("Image.react"),{alt:c,className:d,src:a})}function k(a,c,d){var e=d?128:16,f=b("EmoticonEmojiList").emote2emojis[c],g=f?b("MessengerHotlikeEmoji.bs").isMessengerHotlike(f)?b("EmojiImageURL").getMessengerURL(f,e):new(b("FBEmojiResource"))(f).getImageURL(e):null;if(g){f=String.fromCodePoint(parseInt(f,e));e=d?"_1ift _5m3a":"_1ift _2560";return b("React").createElement(b("Image.react"),{alt:f,className:e,src:g})}d=h._("Bi\u1ec3u t\u01b0\u1ee3ng c\u1ea3m x\u00fac {emoticonName}",[h._param("emoticonName",c)]);return b("React").createElement("span",{"aria-label":d},a)}function l(a,b,c){return function(d,e,f){var g=function(c,d,a){e(b(c,d,a))};a(String(d),g,f,c)}}i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.shouldComponentUpdate=function(a){return a.text!==this.props.text};a.prototype.render=function(){var a=[l(b("messengerIterateEmoji"),j.bind(null,!!this.props.forceMessengerEmoji),this.props.customSize),l(b("messengerIterateEmoticons"),k,this.props.customSize)];return b("React").createElement(b("BaseTextWithDecoration.react"),babelHelpers["extends"]({},this.props,{text:this.props.text,decorators:a}))};function a(){i.apply(this,arguments)}a.propTypes={text:c.string,customSize:c.bool,forceMessengerEmoji:c.bool};e.exports=a}),null);
__d("MessengerTextWithEntities.react",["BaseTextWithEntities.react","Link.react","MessengerTextWithEmoticons.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;function h(a){return a.replace(/<3\b|&hearts;/g,"\u2665")}c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=g.constructor).call.apply(a,[this].concat(e)),this.$1=function(a){if(this.props.renderEmoticons||this.props.renderEmoji)return b("React").createElement(b("MessengerTextWithEmoticons.react"),{text:a,customSize:this.props.customSize,renderEmoticons:this.props.renderEmoticons,renderEmoji:this.props.renderEmoji});else return h(a)}.bind(this),this.$2=function(a,c){if(this.props.interpolator)return this.props.interpolator(a,c);else return b("React").createElement(b("Link.react"),{href:c.entity},a)}.bind(this),c}a.prototype.render=function(){return b("React").createElement(b("BaseTextWithEntities.react"),babelHelpers["extends"]({},this.props,{aggregatedRanges:this.props.aggregatedRanges,imageRanges:this.props.imageRanges,metaRanges:this.props.metaRanges,rangeRenderer:this.$2,ranges:this.props.ranges,text:this.props.text,textRenderer:this.$1}))};e.exports=a}),null);
__d("ChatReliabilityTypedLogger",["Banzai","GeneratedLoggerUtils","nullthrows"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(){this.$1={}}a.prototype.log=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").BASIC)};a.prototype.logVital=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,b("Banzai").VITAL)};a.prototype.logImmediately=function(){b("GeneratedLoggerUtils").log("logger:ChatReliabilityLoggerConfig",this.$1,{signal:!0})};a.prototype.clear=function(){this.$1={};return this};a.prototype.getData=function(){return babelHelpers["extends"]({},this.$1)};a.prototype.updateData=function(a){this.$1=babelHelpers["extends"]({},this.$1,a);return this};a.prototype.setEvent=function(a){this.$1.event=a;return this};a.prototype.setEventData=function(a){this.$1.event_data=a;return this};a.prototype.setTime=function(a){this.$1.time=a;return this};a.prototype.setWeight=function(a){this.$1.weight=a;return this};c={event:!0,event_data:!0,time:!0,weight:!0};e.exports=a}),null);
__d("ChatReliabilityEvents",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ERROR:"error",CHANNEL_DISCONNECT:"channel_disconnect",CHANNEL_CONNECT:"channel_connect",CHANNEL_INIT:"channel_init",CHANNEL_NOCONFIG:"channel_noconfig",CHANNEL_HISTORY_INVALID:"channel_history_invalid",CHANNEL_STALLED:"channel_stalled",MESSAGE_RECEIVED:"msg_received",MESSAGE_SEND_START:"msg_send_start",THREAD_INFO_ENDPOINT_FATAL:"thread_info_fatal",DFF_ENDPOINT_FATAL:"invalidate_global_state_fatal",DFF_DELTA_INIT:"dff_initiated_by_delta",DFF_HOLE_INIT:"dff_initiated_by_hole",FETCHING_MANY_MESSAGES:"fetching_many_messages",PROCESS_DELTA:"process_delta"})}),null);
__d("ChatReliabilityInstrumentation",["ChatReliabilityEvents","ChatReliabilityTypedLogger","gkx"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=function(a,c){if(!b("gkx")("678576"))return;new(b("ChatReliabilityTypedLogger"))().setEvent(a).setEventData(c).log()};a={logERROR:function(a){g(b("ChatReliabilityEvents").ERROR,a)},logCHANNEL_DISCONNECT:function(a){g(b("ChatReliabilityEvents").CHANNEL_DISCONNECT,a)},logCHANNEL_CONNECT:function(a){g(b("ChatReliabilityEvents").CHANNEL_CONNECT,a)},logCHANNEL_HISTORY_INVALID:function(a){g(b("ChatReliabilityEvents").CHANNEL_HISTORY_INVALID,a)},logMESSAGE_RECEIVED:function(a){g(b("ChatReliabilityEvents").MESSAGE_RECEIVED,a)},logMESSAGE_SEND_START:function(a){g(b("ChatReliabilityEvents").MESSAGE_SEND_START,a)},logCHANNEL_STALLED:function(a){g(b("ChatReliabilityEvents").CHANNEL_STALLED,a)},logCHANNEL_INIT:function(a){g(b("ChatReliabilityEvents").CHANNEL_INIT,a)},logCHANNEL_NOCONFIG:function(a){g(b("ChatReliabilityEvents").CHANNEL_NOCONFIG,a)},logDFF_DELTA_INIT:function(a){g(b("ChatReliabilityEvents").DFF_DELTA_INIT,a)},logDFF_HOLE_INIT:function(a){g(b("ChatReliabilityEvents").DFF_HOLE_INIT,a)},logFETCHING_MANY_MESSAGES:function(a){g(b("ChatReliabilityEvents").FETCHING_MANY_MESSAGES,a)},logPROCESS_DELTA:function(a){g(b("ChatReliabilityEvents").PROCESS_DELTA,a)}};e.exports=a}),null);
__d("MessengerDispatcher",["Dispatcher_DEPRECATED"],(function(a,b,c,d,e,f){"use strict";e.exports=new(b("Dispatcher_DEPRECATED"))()}),null);
__d("MessengerEnvironment",["CurrentEnvironment"],(function(a,b,c,d,e,f){"use strict";a=babelHelpers["extends"]({},b("CurrentEnvironment"),{messengerui:!1,setMessengerUI:function(a){this.messengerui=a}});e.exports=a}),null);
__d("MessengerContextualDialog.react",["cx","AccessibleLayer","ContextualLayerAutoFlipHorizontal","ContextualLayerUpdateOnScroll","LayerHideOnEscape","ReactAbstractContextualDialog","ReactLayer"],(function(a,b,c,d,e,f,g){"use strict";a=12;c=b("ReactLayer").createClass(b("ReactAbstractContextualDialog").createSpec({addedBehaviors:[b("ContextualLayerAutoFlipHorizontal"),b("ContextualLayerUpdateOnScroll"),b("LayerHideOnEscape"),b("AccessibleLayer")],displayName:"MessengerContextualDialog",shouldSetARIAProperties:!1,theme:{wrapperClassName:"_1r_9",arrowDimensions:{offset:a,length:16}}}));e.exports=c}),null);
__d("ImageReact.bs",["Image.react","ReasonReact.bs","bs_js_primitive","bs_js_null_undefined"],(function(a,b,c,d,e,f){"use strict";function a(a,c,d,e,f,g,h,i,j,k){a={className:b("bs_js_null_undefined").fromOption(a),alt:b("bs_js_null_undefined").fromOption(c),src:b("bs_js_null_undefined").fromOption(f),height:b("bs_js_null_undefined").fromOption(g),title:b("bs_js_null_undefined").fromOption(h),width:b("bs_js_null_undefined").fromOption(i),style:b("bs_js_null_undefined").fromOption(j)};d!==void 0&&(a["aria-label"]=b("bs_js_primitive").valFromOption(d));e!==void 0&&(a["aria-busy"]=b("bs_js_primitive").valFromOption(e));return b("ReasonReact.bs").wrapJsForReason(b("Image.react"),a,k)}f.make=a}),null);
__d("MessengerMQTTConnectionEvents",[],(function(a,b,c,d,e,f){"use strict";e.exports={DELTA_EVENT:"messenger-mqtt-delta",STREAM_DISCONNECT:"messenger-mqtt-stream-disconnect",STREAM_CONNECTING:"messenger-mqtt-stream-connecting",STREAM_CONNECT:"messenger-mqtt-stream-connect",STATE_CONNECTED:"Connected",STATE_DISCONNECTED:"Disconnected",STATE_CONNECTING:"Connecting",TYP:"messenger-mqtt-typ"}}),null);
__d("MessengerMQTTGating",["gkx"],(function(a,b,c,d,e,f){"use strict";var g={_forcedOff:!1,isEnabled:function(){return b("gkx")("678651")&&!g._forcedOff},turnOff:function(){g._forcedOff=!0}};e.exports=g}),null);
__d("onAfterLoadSafe",["Run","TimeSlice","requestIdleCallback"],(function(a,b,c,d,e,f){"use strict";a=function(a){return b("TimeSlice").guard(function(){return b("Run").onAfterLoad(function(){b("requestIdleCallback")(a)})},"delayed after load",{propagationType:b("TimeSlice").PropagationType.ORPHAN})()};e.exports=a}),null);
__d("AsyncUploadBase",["ArbiterMixin","AsyncRequest","AsyncResponse","BrowserSupport","Form","forEachObject","mixin","removeFromArray"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g=c&&c.prototype;a.parseFiles=function(a){"use strict";__p&&__p();var c={};b("forEachObject")(a,function(a,b){if(Array.isArray(a))c[b]=a;else{c[b]=[];if(a instanceof window.FileList)for(var d=0;d<a.length;d++)c[b].push(a.item(d));else(a instanceof window.File||a instanceof window.Blob)&&c[b].push(a)}});return c};function a(a){"use strict";g.constructor.call(this),this._customHeader={},this._inFlight=!1,this._limit=10,this._suspended=!1,a&&this.setURI(a),this.setNetworkErrorRetryLimit(0)}a.prototype.setAllowCrossOrigin=function(a){"use strict";this._allowCrossOrigin=!!a;return this};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this._allowCrossPageTransition=!!a;return this};a.prototype.setCustomHttpHeader=function(a,b){"use strict";this._customHeader[a]=b;return this};a.prototype.setData=function(a){"use strict";this._data=a;return this};a.prototype.setLimit=function(a){"use strict";this._limit=a;return this};a.prototype.setNetworkErrorRetryLimit=function(a){"use strict";this._retryLimit=a;return this};a.prototype.setPreprocessHandler=function(a){"use strict";this._preprocessHandler=a;return this};a.prototype.setRelativeTo=function(a){"use strict";this._relativeTo=a;return this};a.prototype.setStatusElement=function(a){"use strict";this._statusElement=a;return this};a.prototype.setURI=function(a){"use strict";this._uri=a;return this};a.prototype.suspend=function(){"use strict";this._suspended=!0;return this};a.prototype.resume=function(){"use strict";this._suspended=!1;this._processQueue();return this};a.prototype.isUploading=function(){"use strict";return this._inFlight};a.prototype._createFileUpload=function(a,b,c){"use strict";return new h(a,b,c)};a.prototype._processQueue=function(){"use strict";__p&&__p();if(this._suspended)return;while(this._pending.length<this._limit){if(!this._waiting.length)break;var a=this._waiting.shift(),b=this._preprocessHandler;b?b(a,this._processUpload.bind(this)):this._processUpload(a);this._pending.push(a)}};a.prototype._processUpload=function(a){"use strict";__p&&__p();var c=b("Form").createFormData(a.getData()||this._data);if(a.getFile()){c.append(a.getName(),a.getFile());var d=a.getFile().uploadID;d&&c.append("upload_id",d);a.getAdditionalData().forEach(function(a,b){return c.append(b,a)})}d=new(b("AsyncRequest"))().setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setURI(this._uri).setRawData(c).setStatusElement(this._statusElement).setHandler(this._success.bind(this,a)).setErrorHandler(this._failure.bind(this,a)).setUploadProgressHandler(this._progress.bind(this,a)).setInitialHandler(this._initial.bind(this,a));for(var e in this._customHeader)d.setRequestHeader(e,this._customHeader[e]);this._relativeTo&&d.setRelativeTo(this._relativeTo);d.send();a.setAsyncRequest(d);this._inFlight=!0;a.getRetryCount()||this.inform("start",a)};a.prototype._abort=function(a){"use strict";this._pending.indexOf(a)!==-1&&(b("removeFromArray")(this._pending,a),this._processQueue()),b("removeFromArray")(this._waiting,a),a.abort()};a.prototype._initial=function(a){"use strict";if(a.isAborted())return;this.inform("initial",a)};a.prototype._success=function(a,b){"use strict";if(a.isAborted()){this.inform("success_after_abort",b);return}this._complete(a);this.inform("success",a.handleSuccess(b));this._processQueue()};a.prototype._retryUpload=function(a){"use strict";a.increaseRetryCount(),this._processUpload(a)};a.prototype._failure=function(a,c){"use strict";if(a.isAborted())return;if(c.error===1004&&a.getRetryCount()<(this._retryLimit||0))return this._retryUpload(a);this._complete(a);this.inform("failure",a.handleFailure(c))!==!1&&b("AsyncResponse").defaultErrorHandler(c);this._processQueue()};a.prototype._progress=function(a,b){"use strict";if(a.isAborted())return;this.inform("progress",a.handleProgress(b))};a.prototype._complete=function(a){"use strict";b("removeFromArray")(this._pending,a),this._pending.length||(this._inFlight=!1)};a.isSupported=function(){"use strict";return b("BrowserSupport").hasFileAPI()};function h(a,b,c){"use strict";this._allowCrossOrigin=!1,this._allowCrossPageTransition=!1,this._additionalData=new Map(),this._success=null,this._response=null,this._progressEvent=null,this._request=null,this._numRetries=0,this._aborted=!1,this._name=a,this._file=b,this._data=c}h.prototype.getName=function(){"use strict";return this._name};h.prototype.getFile=function(){"use strict";return this._file};h.prototype.setFile=function(a){"use strict";this._file=a};h.prototype.getData=function(){"use strict";return this._data};h.prototype.getAdditionalData=function(){"use strict";return this._additionalData};h.prototype.isComplete=function(){"use strict";return this._success!==null};h.prototype.isSuccess=function(){"use strict";return this._success===!0};h.prototype.getResponse=function(){"use strict";return this._response};h.prototype.getProgressEvent=function(){"use strict";return this._progressEvent};h.prototype.setAsyncRequest=function(a){"use strict";this._request=a;return this};h.prototype.increaseRetryCount=function(){"use strict";this._numRetries++;return this};h.prototype.getRetryCount=function(){"use strict";return this._numRetries};h.prototype.isWaiting=function(){"use strict";return!this._request};h.prototype.isAborted=function(){"use strict";return this._aborted};h.prototype.abort=function(){"use strict";this._request=null,this._aborted=!0};h.prototype.handleSuccess=function(a){"use strict";this._success=!0;this._response=a;this._progressEvent=null;return this};h.prototype.handleFailure=function(a){"use strict";this._success=!1;this._response=a;this._progressEvent=null;return this};h.prototype.handleProgress=function(a){"use strict";this._progressEvent=a;return this};e.exports=a}),null);
__d("AsyncUploadRequest",["AsyncUploadBase"],(function(a,b,c,d,e,f){__p&&__p();var g;c=babelHelpers.inherits(a,b("AsyncUploadBase"));g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this._files=null,this._uploads=[],this._fileLessUpload=null,b}a.prototype.setFiles=function(a){"use strict";this._files=b("AsyncUploadBase").parseFiles(a);return this};a.prototype.setAlwaysReturnResponse=function(a){"use strict";this._shouldAlwaysReturnResponse=a};a.prototype.abort=function(){"use strict";this._uploads.forEach(function(a){return this._abort(a)}.bind(this),this)};a.prototype.send=function(){"use strict";__p&&__p();if(this._inFlight)return;this._inFlight=!0;this._uploads=[];for(var a in this._files)this._files[a].forEach(function(b){this._uploads.push(this._createFileUpload(a,b))}.bind(this));this._waiting=this._uploads.slice(0);this._pending=[];this._uploads.length?this._processQueue():(this._fileLessUpload=this._createFileUpload(null,null),this._processUpload(this._fileLessUpload))};a.prototype._processQueue=function(){"use strict";g._processQueue.call(this);if(!this._pending.length&&!this._waiting.length){var a=this._uploads;a=this._shouldAlwaysReturnResponse?this._fileLessUpload!=null?{response:this._fileLessUpload.getResponse(),uploads:a}:{response:a[0].getResponse(),uploads:a}:a;this.inform("complete",a)}};a.isSupported=function(){"use strict";return b("AsyncUploadBase").isSupported()};e.exports=a}),null);
__d("FileForm",["ArbiterMixin","AsyncRequest","AsyncResponse","AsyncUploadRequest","BehaviorsMixin","CurrentUser","DataStore","DOMQuery","Event","Form","JSONPTransport","Parent","URI","isElementNode","mixin","shield"],(function(a,b,c,d,e,f){__p&&__p();var g;function h(a){var c={};a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){c[a.name]=a.files});return c}function i(a){a=b("DOMQuery").scry(a,'input[type="file"]');a.forEach(function(a){a.files=null})}c=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin"),b("BehaviorsMixin")));g=c&&c.prototype;function a(a,c,d){"use strict";__p&&__p();g.constructor.call(this);this._handleSubmit=function(a){if(a.isDefaultPrevented()||a.getTarget()!==this._form)return;if(this.inform("submit")===!1){a.prevent();return}this.submit(a)}.bind(this);this.initial=function(a){return this.inform("initial",{upload:a})}.bind(this);if(a.getAttribute("rel")==="async")throw new Error("FileForm cannot be used with Primer forms.");if((a.getAttribute("method")||"").toUpperCase()!=="POST")throw new Error("FileForm must be used with POST forms.");this._form=a;this._previousEncoding=this._form.enctype;this._form.enctype=this._form.encoding="multipart/form-data";this._files=null;this._customHeader={};c&&this.enableBehaviors(c);this._options=d||{};this.setAllowCrossOrigin(this._options.allowCrossOrigin);this.setAllowCrossPageTransition(this._options.allowCrossPageTransition);this.setUploadInParallel(this._options.uploadInParallel);this.setConcurrentLimit(this._options.concurrentLimit);this.setPreprocessHandler(this._options.preprocessHandler);this.setNetworkErrorRetryLimit(this._options.networkErrorRetryLimit);this._listeners=[b("Event").listen(document.documentElement,"submit",this._handleSubmit),b("Event").listen(this._form,"click",this._click.bind(this))];b("DataStore").set(this._form,"FileForm",this)}a.prototype.getRoot=function(){"use strict";return this._form};a.prototype.setAllowCrossOrigin=function(a){"use strict";this._allowCrossOrigin=!!a;return this};a.prototype.setAllowCrossPageTransition=function(a){"use strict";this._allowCrossPageTransition=!!a;return this};a.prototype.setUploadInParallel=function(a){"use strict";this._uploadInParallel=!!a;return this};a.prototype.setConcurrentLimit=function(a){"use strict";this._concurrentLimit=a;return this};a.prototype.setCustomHttpHeader=function(a,b){"use strict";this._customHeader[a]=b;return this};a.prototype.setPreprocessHandler=function(a){"use strict";this._preprocessHandler=a;return this};a.prototype.setNetworkErrorRetryLimit=function(a){"use strict";this._retryLimit=a;return this};a.prototype.setFiles=function(a){"use strict";this._files=a;return this};a.prototype.canUseXHR=function(){"use strict";var a="FormData"in window;a&&(!new(b("URI"))(this._form.action).isSameOrigin()&&!this._allowCrossOrigin&&(a=!1));return a};a.prototype._click=function(a){"use strict";__p&&__p();a=a.getTarget();while(b("isElementNode")(a)){if(a.type==="submit"){this._clickTarget=a;setTimeout(this._unclick.bind(this),0);break}a=a.parentNode}};a.prototype._unclick=function(){"use strict";this._clickTarget=null};a.prototype._sendViaFrame=function(){"use strict";__p&&__p();var a=this._request=new(b("AsyncRequest"))();a.setStatusElement(this._getStatusElement());a.addStatusIndicator();a.setOption("useIframeTransport",!0);var c=a.handleResponse.bind(a);c=new(b("JSONPTransport"))("iframe",this._form.action,c);var d=c.getTransportFrame(),e=c.getRequestURI().addQueryData({__iframe:!0,__user:b("CurrentUser").getID()});this._form.setAttribute("action",e.toString());c.createContinuationForFileForm_DO_NOT_USE();this._form.setAttribute("target",d.name);a.setJSONPTransport(c);a.setURI(e);a.setHandler(this.success.bind(this,null));a.setErrorHandler(this.failure.bind(this,null));a.setInitialHandler(b("shield")(this.initial,this,null))};a.prototype._sendViaXHR=function(a){__p&&__p();var c=this,d;if(this._uploadInParallel&&b("AsyncUploadRequest").isSupported()){d=new(b("AsyncUploadRequest"))().setPreprocessHandler(this._preprocessHandler).setData(b("Form").serialize(this._form,this._clickTarget)).setNetworkErrorRetryLimit(this._retryLimit);for(var e in this._customHeader)d.setCustomHttpHeader(e,this._customHeader[e]);this._concurrentLimit&&d.setLimit(this._concurrentLimit);this._files?d.setFiles(this._files):d.setFiles(h(this._form));var f=[d.subscribe("progress",function(a,b){this.progress(b,b.getProgressEvent())}.bind(this)),d.subscribe("initial",function(a,b){this.initial(b)}.bind(this)),d.subscribe("success",function(a,b){this.success(b,b.getResponse())}.bind(this)),d.subscribe("start",function(a,b){this.inform("start",{upload:b})}.bind(this)),d.subscribe("failure",function(a,b){this.failure(b,b.getResponse());return!1}.bind(this)),d.subscribe("complete",function(){while(f.length)f.pop().unsubscribe()})]}else{var g,e,i;(function(){__p&&__p();var a,f=c._files;if(f){a=b("Form").createFormData(b("Form").serialize(c._form,c._clickTarget));g=b("AsyncUploadRequest").parseFiles(f);for(e in g)i=g[e],i.length===1?a.append(e,i[0]):(e=e+"[]",i.forEach(function(b){a.append(e,b)}))}else a=b("Form").createFormData(c._form,c._clickTarget);d=new(b("AsyncRequest"))().setRawData(a).setHandler(c.success.bind(c,null)).setErrorHandler(c.failure.bind(c,null)).setUploadProgressHandler(c.progress.bind(c,null)).setInitialHandler(b("shield")(c.initial,c,null));c.inform("start",{upload:null})})()}d.setAllowCrossOrigin(this._allowCrossOrigin).setAllowCrossPageTransition(this._allowCrossPageTransition).setRelativeTo(this._form).setStatusElement(this._getStatusElement()).setURI(this._form.action).send();this._request=d;a&&a.prevent()};a.prototype.forceSendViaXHR=function(){"use strict";return this._sendViaXHR(null)};a.prototype.success=function(a,c){"use strict";c={response:c,upload:a};this.inform("success",c)!==!1&&b("Event").fire(this._form,"success",c);this._cleanup()};a.prototype.failure=function(a,c){"use strict";a={response:c,upload:a};this.inform("failure",a)!==!1&&(b("Event").fire(this._form,"error",a)!==!1&&b("AsyncResponse").defaultErrorHandler(c));this._cleanup()};a.prototype.progress=function(a,b){"use strict";this.inform("progress",{event:b,upload:a})};a.prototype.abort=function(){"use strict";this._request&&(this._request.abort(),this._cleanup())};a.prototype.clear=function(){"use strict";i(this._form)};a.prototype.destroy=function(){"use strict";this._cleanup();while(this._listeners&&this._listeners.length)this._listeners.pop().remove();this._listeners=null;this._form.enctype=this._form.encoding=this._previousEncoding;b("DataStore").remove(this._form,"FileForm")};a.prototype.submit=function(a){"use strict";this.canUseXHR()?this._sendViaXHR(a):this._sendViaFrame()};a.prototype._cleanup=function(){"use strict";this._request=null};a.prototype._getStatusElement=function(){"use strict";return b("Parent").byClass(this._form,"stat_elem")||this._form};a.getInstance=function(a){"use strict";return b("DataStore").get(a,"FileForm")};Object.assign(a,{EVENTS:["start","submit","initial","progress","success","failure"]});e.exports=a}),null);
__d("PhotosUploadID",[],(function(a,b,c,d,e,f){var g=1024;a={getNewID:function(){return(g++).toString()}};e.exports=a}),null);
__d("LiveChatPluginConstants",[],(function(a,b,c,d,e,f){"use strict";a="LiveChatEvent/";b={MQTT:"mqtt",CONNECTED_STATE:"Connected",CONNECTING_STATE:"Connecting",DISCONNECTED_STATE:"Disconnected",CLOSE_TIMESTAMPS:a+"close_timestamps",RESET_BADGING:a+"reset_badging",STATE_UPDATE:a+"state",SWITCH_ACCOUNT:a+"switch_account",TYPING_UPDATE:a+"typing",UNREAD_COUNT_UPDATE:a+"unread_count",PROMPT_FALLBACK_HEIGHT:124,PROMPT_REDESIGN_FALLBACK_HEIGHT:190,PROMPT_CONTAINER_PADDING_HEIGHT:24};e.exports=b}),null);
__d("LiveChatPluginLocalStorageUtil",["BanzaiODS","WebStorage"],(function(a,b,c,d,e,f){__p&&__p();var g="messenger_live_chat";function a(){"use strict";this.domain="",this.pageID="0",this.viewerID="0"}a.prototype.init=function(a,b,c){"use strict";this.domain=a,this.pageID=b,this.viewerID=c};a.prototype.getChatStarted=function(){"use strict";var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.chatStarted||!1};a.prototype.setChatStarted=function(a){"use strict";var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{chatStarted:a}))};a.prototype.getRefSent=function(){"use strict";var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.refSent||!1};a.prototype.setRefSent=function(a){"use strict";var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{refSent:a}))};a.prototype.getIsDialogHidden=function(){"use strict";var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.isDialogHidden||!1};a.prototype.setIsDialogHidden=function(a){"use strict";var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{isDialogHidden:a}))};a.prototype.getRequestID=function(){"use strict";var a=this.getLocalState(this.domain,this.pageID,this.viewerID);return a&&a.requestID||""};a.prototype.setRequestID=function(a){"use strict";var b=this.getLocalState(this.domain,this.pageID,this.viewerID);this.setLocalState(this.domain,this.pageID,this.viewerID,babelHelpers["extends"]({},b,{requestID:a}))};a.prototype.getLocalState=function(a,c,d){"use strict";__p&&__p();try{var e=b("WebStorage").getLocalStorageForRead();if(e){a=this.$1(a,c,d);c=e.getItem(a);if(c)return JSON.parse(c)}return null}catch(a){this.$2();return null}};a.prototype.setLocalState=function(a,c,d,e){"use strict";try{var f=b("WebStorage").getLocalStorage();if(f){a=this.$1(a,c,d);b("WebStorage").setItemGuarded(f,a,JSON.stringify(e))}}catch(a){this.$2()}};a.prototype.removeLocalState=function(a,c,d){"use strict";try{var e=b("WebStorage").getLocalStorage();if(e){a=this.$1(a,c,d);e.removeItem(a)}}catch(a){this.$2()}};a.prototype.$1=function(a,b,c){"use strict";return g+"_"+a+"_"+b+"_"+c};a.prototype.$2=function(){"use strict";b("BanzaiODS").bumpEntityKey("messenger_commerce","customer_chat_plugin.state_session_failed")};e.exports=new a()}),null);
__d("LiveChatPluginLoggerUtil",["BanzaiODS","LiveChatPluginConstants","LiveChatPluginLocalStorageUtil","MessengerDiscoveryEntryPoint","MessengerDiscoveryEntryPointsLoggingHelper","MessengerLiveChatPluginEvent","MessengerLiveChatPluginTypedLogger","MNPlatformAttributionTags","emptyFunction","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a={logAction:function(a,c,d,e,f,g,h){f===void 0&&(f=null);g===void 0&&(g=null);h===void 0&&(h=null);var i=b("LiveChatPluginLocalStorageUtil").getRequestID();new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(c).setPageID(d).setRequestID(i).setEvent(a).setEventTimestamp(Date.now()).setDebugData(e).setThemeColor(f).setLoggedInGreeting(g).setLoggedOutGreeting(h).logVital()},logTTI:function(a,c){this.logTTI=b("emptyFunction");c=b("performanceAbsoluteNow")()-c;new(b("MessengerLiveChatPluginTypedLogger"))().setPageID(a).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDuration(c).setEvent(b("MessengerLiveChatPluginEvent").PLUGIN_TTI).setEventTimestamp(Date.now()).logVital()},logDelta:function(a,c,d,e){var f=b("LiveChatPluginConstants").MQTT;new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(a).setPageID(c).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDebugData(JSON.stringify({seqId:e})).setEvent(b("MessengerLiveChatPluginEvent").DELTA_RECEIVED).setDeltaType(d).setGateway(f).setEventTimestamp(Date.now()).log();b("BanzaiODS").bumpEntityKey("messenger_commerce","customer_chat_plugin.client."+f+".delta_received."+d)},logChatDisplayDone:function(a,c,d){this.logChatDisplayDone=b("emptyFunction");d=b("performanceAbsoluteNow")()-d;new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(a).setPageID(c).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setDuration(d).setEvent(b("MessengerLiveChatPluginEvent").CHAT_DISPLAY_DONE).setEventTimestamp(Date.now()).logVital()},getAttributionTags:function(){return[b("MNPlatformAttributionTags").ATTRIBUTION_TAGS_PREFIX+b("MNPlatformAttributionTags").CUSTOMER_CHAT_PLUGIN,b("MessengerDiscoveryEntryPointsLoggingHelper").getEntryPointsLoggingTagStr([b("MessengerDiscoveryEntryPoint").CUSTOMER_CHAT_PLUGIN])]}};e.exports=a}),null);
__d("MercurySingletonProvider",["CurrentUser"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1={},this.$2=a}a.prototype.getForFBID=function(a){this.$1[a]||(this.$1[a]=new this.$2(a));return this.$1[a]};a.prototype.get=function(){return this.getForFBID(b("CurrentUser").getID())};a.mock=function(a){throw new Error("MercurySingletonProvider.mock() must only be used in tests.")};e.exports=a}),null);
__d("MessageEventStream",["Int64","MercurySingletonProvider","MqttLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();a.getForFBID=function(a){return g.getForFBID(a)};function a(a){this.$2="Disconnected",this.$1=a,this.$3=[],this.$6=b("MqttLogger").getInstance()}a.prototype.init=function(a,c,d,e){__p&&__p();if(!c&&!e)return this;this.$10=a;this.$9=!0;this.$4=c?b("Int64").fromString(c):null;this.$7=d;this.$8=e;this.$5=null;this.$10.subscribe("/t_ms",function(a){return this.$11(a)}.bind(this));this.$10.subscribe("/thread_typing",function(a){this.$12(a)}.bind(this));this.$10.subscribe("/orca_typing_notifications",function(a){this.$12(a)}.bind(this));this.$10.subscribe("/notify_disconnect",function(a){return this.$13(a)}.bind(this));this.connectToIris();return this};a.prototype.connectToIris=function(a){a===void 0&&(a=null),a!==null&&(this.$4=b("Int64").fromString(a)),this.$9=!0,this.$5?this.$14():this.$15()};a.prototype.$16=function(a){var b=null;try{b=JSON.parse(a)}catch(a){this.$6.logError(a,"Unable to process data")}return b};a.prototype.$12=function(a){var b=this.$16(a);if(b==null){this.$6.logWarn("_processTypingData","Unable to process typing data");return}this.$3.forEach(function(a){typeof a.onTypingReceived==="function"&&a.onTypingReceived(b)})};a.prototype.addDeltaStreamListener=function(a){this.$3.push(a)};a.prototype.$13=function(a){this.$6.logWarn("_handleNotifyDisconnect","Disconnecting reason: "+a),(a==="IRIS_CURSOR_LIMIT"||a==="ERROR_QUEUE_LOST"||a==="QUEUE_NOT_FOUND")&&(this.$5=null,this.$9=!1),this.$17(a)};a.prototype.$17=function(a){this.$6.bumpCounter(a+"_request"),this.$3.forEach(function(b){return b.onStreamDisconnect(a)})};a.prototype.$11=function(a){__p&&__p();a=this.$16(a);if(a==null){this.$6.logWarn("_processDeltas","Unable to process delta");return}var b={syncToken:a.syncToken,entityId:a.queueEntityId,errorCode:a.errorCode,firstSeqId:a.firstDeltaSeqId,lastSeqId:a.lastIssuedSeqId};this.$6.debugTrace("Sync data received",JSON.stringify(b));b=this.$1;if(a.syncToken){this.$18(a);return}else if(a.queueEntityId!=b){this.$6.bumpCounter("delta_for_other_fbid");return}else a.errorCode?this.$19(a.errorCode):this.$20(a)};a.prototype.$19=function(a){this.$6.bumpCounter("iris_queue_error."+a),this.$6.logWarn("_handleIrisError","Recevied an error code from sync protocol "+a),this.$5=null,this.$9=!1,this.$17(a)};a.prototype.$18=function(a){this.$5=a.syncToken,this.$4=b("Int64").fromString(a.firstDeltaSeqId.toString()),this.$6.debugTrace("Sync token received",JSON.stringify({token:this.$5})),this.$10.subscribeChannelEvents({onMQTTStateChanged:function(a){this.$9&&this.$2!=="Connected"&&a==="Connected"&&this.connectToIris(),this.$2=a}.bind(this)}),this.$2="Connected"};a.prototype.$20=function(a){var c=a.deltas,d=this.$4;if(c&&d){var e=b("Int64").fromString(a.firstDeltaSeqId.toString());a=b("Int64").fromString(a.lastIssuedSeqId.toString());e.equals(d.add(b("Int64").ONE))?this.$21(e,a,c):e.compare(d)<0?(this.$6.bumpCounter("delta_batch_in_middle"),a.compare(d)>0&&this.$21(d.add(b("Int64").ONE),a,c)):(this.$6.bumpCounter("missing_deltas_get_diffs"),this.$14())}else this.$6.bumpCounter("process_deltas_invalid_state")};a.prototype.$21=function(a,c,d){__p&&__p();a=a;for(var e=0;e<d.length;e++){var f=d[e],g=f["class"]||"Missing",h={seqId:a.toString(),type:g,status:""},i=1;if(g!="Missing")try{i=this.$22(f,g,a,h)}catch(a){h.status="err:"+a.message}else h.status="no type",this.$6.bumpCounter("missing_delta_type");this.$6.debugTrace("onDeltaReceived",JSON.stringify(h));a=a.add(b("Int64").fromInt(i))}this.$4=c};a.prototype.$22=function(a,c,d,e){__p&&__p();var f=1,g="";c==="NoOp"&&(f=a.numNoOps||f,g+="n:"+f);a.irisSeqId||(a.irisSeqId=d.toString(),g+="missing seq id");var h=b("Int64").fromString(a.irisSeqId.toString())||d;h.equals(d)?g+=" seqId match":(g+=" seqId mismatch",this.$6.bumpCounter("seq_id_running_id_mismatch"));var i={type:c,payload:a};this.$3.forEach(function(a){return a.onDeltaReceived(i)});e.status=g;return f};a.prototype.$15=function(){var a={sync_api_version:10,max_deltas_able_to_process:1e3,delta_batch_size:500,encoding:"JSON",entity_fbid:this.$1,initial_titan_sequence_id:this.$4&&this.$4.toString(),device_params:this.$7,queue_position:this.$8};this.$6.debugTrace("Sending create queue request",JSON.stringify({seqId:this.$4&&this.$4.toString()}));this.$10.publish("/messenger_sync_create_queue",JSON.stringify(a))};a.prototype.$14=function(){__p&&__p();if(!this.$4){this.$6.bumpCounter("get_diffs_no_seq_id");return}if(!this.$5){this.$6.bumpCounter("get_diffs_no_sync_token");return}var a={sync_token:this.$5,sync_api_version:10,max_deltas_able_to_process:1e3,delta_batch_size:500,encoding:"JSON",entity_fbid:this.$1,last_seq_id:this.$4.toString()};this.$6.debugTrace("Sending get diff request",JSON.stringify({token:this.$5,seqId:this.$4&&this.$4.toString()}));this.$10.publish("/messenger_sync_get_diffs",JSON.stringify(a))};var g=new(b("MercurySingletonProvider"))(a);e.exports=a}),null);
__d("LiveChatMqttClient",["Arbiter","ChannelConstants","LiveChatPluginConstants","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","MercurySingletonProvider","MessageEventStream","MessengerLiveChatPluginEvent","MessengerLiveChatPluginTypedLogger","MessengerMQTTConnectionEvents","MessengerMQTTGating","MqttChannel","Network"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=225396507985893,h="n",i="wss://edge-chat.facebook.com/chat";function j(a){this.$1=a}j.getForFBID=function(a){return k.getForFBID(a)};j.setUp=function(a,b,c,d){var e=j.getForFBID(b);e.init(a,b,c,d)};j.prototype.init=function(a,c,d,e){__p&&__p();this.$2=a;this.$3=new(b("MqttChannel"))({endpoint:i,userFbid:c,appId:g,initialSubscribedTopics:["/t_ms"],capabilities:0});a={thread_filter:[{other_user_fbid:a}]};!d?b("MessageEventStream").getForFBID(c).init(this.$3,null,a,h).addDeltaStreamListener(this):b("MessageEventStream").getForFBID(c).init(this.$3,d,a).addDeltaStreamListener(this);var f=e!==null?this.$1:null;new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(f).setPageID(this.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent(b("MessengerLiveChatPluginEvent").MQTT_CONNECTION_INITIATED).setEventTimestamp(Date.now()).log();this.$3.subscribeChannelEvents({onMQTTStateChanged:function(a){a===b("LiveChatPluginConstants").CONNECTED_STATE&&(e&&e()),(b("Network").isOnline()||a!=="Connecting")&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,a),new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(f).setPageID(this.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent(b("MessengerLiveChatPluginEvent").MQTT_CONNECTION_STATE_CHANGED).setDebugData(a).setEventTimestamp(Date.now()).log()}.bind(this)});b("Network").addListener("offline",function(){this.$3.getConnectionState()===b("LiveChatPluginConstants").CONNECTED_STATE&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,b("LiveChatPluginConstants").DISCONNECTED_STATE)}.bind(this));b("Network").addListener("online",function(){this.$3.getConnectionState()===b("LiveChatPluginConstants").CONNECTED_STATE&&b("Arbiter").inform(b("LiveChatPluginConstants").STATE_UPDATE,b("LiveChatPluginConstants").CONNECTED_STATE)}.bind(this));this.$3.subscribe("/orca_typing_notifications",function(a){b("Arbiter").inform(b("LiveChatPluginConstants").TYPING_UPDATE,JSON.parse(a).state)})};j.prototype.onDeltaReceived=function(a){__p&&__p();var c=a.type;a=a.payload;try{c=c.replace(/^delta/,"unknown");var d=Number(a.irisSeqId);a={delta:babelHelpers["extends"]({},a,{"class":c}),iseq:d,type:"delta"};var e=b("MessengerMQTTGating").isEnabled()?b("MessengerMQTTConnectionEvents").DELTA_EVENT:b("ChannelConstants").getArbiterType("delta");b("Arbiter").inform(e,{obj:a});b("LiveChatPluginLoggerUtil").logDelta(this.$1,this.$2,c,d)}catch(a){new(b("MessengerLiveChatPluginTypedLogger"))().setUserFbid(this.$1).setPageID(this.$2).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent(b("MessengerLiveChatPluginEvent").DELTA_PARSING_ERROR).setEventTimestamp(Date.now()).logVital()}};j.prototype.onStreamDisconnect=function(a){};var k=new(b("MercurySingletonProvider"))(j);e.exports=j}),null);
__d("LiveChatPluginCloseButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("svg",{width:"10px",height:"10px",viewBox:"0 0 14 14"},b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("g",{transform:"translate(-419.000000, -413.000000)"},b("React").createElement("g",{transform:"translate(164.000000, 396.000000)"},b("React").createElement("g",null,b("React").createElement("g",{transform:"translate(250.000000, 12.000000)"},b("React").createElement("g",null,b("React").createElement("g",null,b("React").createElement("rect",{opacity:"0.200000003",x:"0",y:"0",width:"24",height:"24"}),b("React").createElement("g",{transform:"translate(4.000000, 4.000000)",fill:"#000000"},b("React").createElement("rect",{transform:"translate(8.000000, 8.000000) rotate(45.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"}),b("React").createElement("rect",{transform:"translate(8.000000, 8.000000) rotate(135.000000) translate(-8.000000, -8.000000) ",x:"7",y:"-1",width:"2",height:"18",rx:"1"}))))))))))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginFbts",["fbt"],(function(a,b,c,d,e,f,g){"use strict";a={DEFAULT_LOGGED_IN_GREETING_TEXT:g._("Xin ch\u00e0o! Ch\u00fang t\u00f4i c\u00f3 th\u1ec3 gi\u00fap g\u00ec cho b\u1ea1n?"),DEFAULT_LOGGED_OUT_GREETING_TEXT:g._("Xin ch\u00e0o! Ch\u00fang t\u00f4i lu\u00f4n s\u1eb5n s\u00e0ng tr\u1ea3 l\u1eddi m\u1ecdi c\u00e2u h\u1ecfi c\u1ee7a b\u1ea1n.")};e.exports=a}),null);
__d("PrivacyTransparentOverlay.react",["cx","React"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_4cqr"},this.props.children,b("React").createElement("div",{className:"clearfix"}))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginAnonymousUserPrompt.react",["cx","fbt","Image.react","Link.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MessengerLiveChatPluginEvent","MessengerTextWithEntities.react","PluginOptin","PrivacyTransparentOverlay.react","React","ReactDOM","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=124,k=24,l=24,m=10;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$2=function(){this.$4(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").LOG_IN_TO_MESSENGER_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$3=function(){this.$4(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").CHAT_NOW_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),c}a.prototype.componentDidMount=function(){this.$1(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ANONYMOUS_CHAT_NOW_PROMPT_RENDERED,null,this.props.pageID)};a.prototype.componentDidUpdate=function(){this.$1()};a.prototype.render=function(){return b("React").createElement("div",{className:"_j68"},b("React").createElement("div",{className:"promptHeaderContainer"},b("React").createElement("div",{className:"promptTextContainer"},b("React").createElement("div",{className:"promptHeader",ref:"promptHeader"},this.props.loggedOutGreeting?b("React").createElement(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:this.props.loggedOutGreeting}):b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT),b("React").createElement("div",{className:"promptSubheader",ref:"promptSubheader"},b("React").createElement(b("Link.react"),{className:"notYouLink",onClick:this.$2},h._("H\u00e3y \u0111\u0103ng nh\u1eadp Messenger \u0111\u1ec3 tr\u00f2 chuy\u1ec7n.")))),b("React").createElement(b("PrivacyTransparentOverlay.react"),null,b("React").createElement(b("Image.react"),{className:"profilePicture",src:this.props.pageProfilePictureUri})),b("React").createElement("div",{className:"closeButtonContainer"},b("React").createElement(b("ShimButton.react"),{className:"_4bqf _2t-5",onClick:this.props.onCloseButtonClick},b("React").createElement(b("LiveChatPluginCloseButtonSVG.react"),null)))),b("React").createElement("div",{className:"promptButtonContainer",ref:"promptButtonContainer"},b("React").createElement(b("ShimButton.react"),{className:"_4bqf promptButton",onClick:this.$3,style:{color:this.props.threadColor}},h._("Tr\u00f2 chuy\u1ec7n"))))};a.prototype.$4=function(){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.props.pageID,switch_user:!1}).addReturnParams({customer_chat_origin_uri:this.props.refererUri,referer_uri:this.props.refererUri}).start()};a.prototype.$1=function(){var a=b("ReactDOM").findDOMNode(this.refs.promptHeader),c=b("ReactDOM").findDOMNode(this.refs.promptSubheader),d=b("ReactDOM").findDOMNode(this.refs.promptButtonContainer);if(a instanceof HTMLElement&&c instanceof HTMLElement&&d instanceof HTMLElement){a=a.offsetHeight+c.offsetHeight+d.offsetHeight+l+m;c=a>j?a:j;this.props.anchorIframeResizeFn(c+k,c)}};e.exports=a}),null);
__d("LiveChatPluginPromptButton.react",["ix","cx","Image.react","React","ShimButton.react","asset"],(function(a,b,c,d,e,f,g,h){"use strict";var i;i=babelHelpers.inherits(a,b("React").Component);i&&i.prototype;a.prototype.render=function(){return b("React").createElement(b("ShimButton.react"),{className:"_4bqf promptButton",style:{backgroundColor:this.props.color},onClick:this.props.onClick},b("React").createElement(b("Image.react"),{className:"messengerIcon",src:g("481153")}),this.props.text)};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginPromptHeader.react",["cx","Image.react","LineClamp.react","PrivacyTransparentOverlay.react","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;h=babelHelpers.inherits(a,b("React").Component);h&&h.prototype;a.prototype.render=function(){var a=this.props.pageResponsivenessText!=null?"\u30fb"+this.props.pageResponsivenessText:null;return b("React").createElement("div",{className:"promptHeaderContainer"},b("React").createElement("div",{className:"profilePictureContainer"},b("React").createElement(b("PrivacyTransparentOverlay.react"),null,b("React").createElement(b("Image.react"),{className:"profilePicture",src:this.props.pageProfilePictureUri}))),b("React").createElement("div",{className:"promptHeaderAndBubbleContainer"},b("React").createElement(b("LineClamp.react"),{className:"promptHeaderText",lines:1},b("React").createElement("strong",null,this.props.pageName),a),this.props.greetingTextElem))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginAnonymousUserPromptRedesign.react",["cx","fbt","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","LiveChatPluginPromptHeader.react","MessengerLiveChatPluginEvent","MessengerTextWithEntities.react","PluginOptin","React","ReactDOM"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$4=function(){this.$5(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").LOG_IN_TO_MESSENGER_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),c}a.prototype.componentDidMount=function(){this.$2(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ANONYMOUS_CHAT_NOW_PROMPT_RENDERED,null,this.props.pageID)};a.prototype.componentDidUpdate=function(){this.$2()};a.prototype.render=function(){var a=h._("\u0110\u0103ng nh\u1eadp v\u00e0o Messenger");return b("React").createElement("div",{className:"_7acu"},b("React").createElement(b("LiveChatPluginPromptHeader.react"),{ref:function(a){this.$1=a}.bind(this),greetingTextElem:this.$3(),pageName:this.props.pageName,pageProfilePictureUri:this.props.pageProfilePictureUri,pageResponsivenessText:this.props.pageResponsivenessText}),b("React").createElement("div",{className:"promptFooterContainer",ref:"promptFooter"},b("React").createElement(b("LiveChatPluginPromptButton.react"),{color:this.props.threadColor,onClick:this.$4,text:a}),b("React").createElement("div",{className:"subButtonText"},h._("Chat v\u1edbi {page name} trong Messenger",[h._param("page name",this.props.pageName)]))))};a.prototype.$3=function(){if(this.props.loggedOutGreeting!=null)return b("React").createElement(b("MessengerTextWithEntities.react"),{className:"promptTextBubble",renderEmoji:!0,renderEmoticons:!0,text:this.props.loggedOutGreeting});else return b("React").createElement("div",{className:"promptTextBubble"},b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT)};a.prototype.$5=function(){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.props.pageID,switch_user:!1}).addReturnParams({customer_chat_origin_uri:this.props.refererUri,referer_uri:this.props.refererUri}).start()};a.prototype.$2=function(){var a=b("ReactDOM").findDOMNode(this.$1),c=b("ReactDOM").findDOMNode(this.refs.promptFooter);if(a instanceof HTMLElement&&c instanceof HTMLElement){a=a.offsetHeight+c.offsetHeight;c=Math.max(a,b("LiveChatPluginConstants").PROMPT_REDESIGN_FALLBACK_HEIGHT);this.props.anchorIframeResizeFn(c+b("LiveChatPluginConstants").PROMPT_CONTAINER_PADDING_HEIGHT,c)}};e.exports=a}),null);
__d("LiveChatPluginInformationButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("g",{transform:"translate(-413.000000, -56.000000)"},b("React").createElement("g",{transform:"translate(90.000000, 44.000000)"},b("React").createElement("g",null,b("React").createElement("g",null,b("React").createElement("g",{transform:"translate(324.000000, 13.000000)"},b("React").createElement("circle",{fill:this.props.informationViewOpen?this.props.threadColor:"#FFFFFF",stroke:this.props.threadColor,cx:"11",cy:"11",r:"11"}),b("React").createElement("path",{d:"M11,9 L12,9 L12,17 L13,17 L13,17.5 L9,17.5 L9,17 L10,17 L10,9.5 L9,9.5 L9,9 L11,9 Z M11,4.5 C11.8284271,4.5 12.5,5.17157288 12.5,6 C12.5,6.82842712 11.8284271,7.5 11,7.5 C10.1715729,7.5 9.5,6.82842712 9.5,6 C9.5,5.17157288 10.1715729,4.5 11,4.5 Z",fill:this.props.informationViewOpen?"#FFFFFF":this.props.threadColor}))))))))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginDialogHeader.react",["cx","LineClamp.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginInformationButtonSVG.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g){"use strict";var h;h=babelHelpers.inherits(a,b("React").PureComponent);h&&h.prototype;a.prototype.render=function(){return b("React").createElement("div",{className:"_f_0"},b("React").createElement("div",{className:"_1qd1"},b("React").createElement(b("ShimButton.react"),{className:"_2t-5 _4bqf",onClick:this.props.onCloseButtonClick},b("React").createElement(b("LiveChatPluginCloseButtonSVG.react"),null))),b("React").createElement("div",{className:"_hov"},b("React").createElement(b("LineClamp.react"),{className:"_how",lines:1},this.props.pageName),b("React").createElement(b("LineClamp.react"),{className:"_hox",lines:1},this.props.pageResponsivenessText)),b("React").createElement("div",{className:"_1qd3"},b("React").createElement(b("ShimButton.react"),{className:"_4bqf _17l7",onClick:this.props.onInformationButtonClick},b("React").createElement(b("LiveChatPluginInformationButtonSVG.react"),{informationViewOpen:this.props.informationViewOpen,threadColor:this.props.threadColor}))))};function a(){h.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginDefaultMessengerIconSVG.react",["React","gkx"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("gkx")("802745")?b("React").createElement("svg",{x:"0",y:"0",width:"60px",height:"60px"},b("React").createElement("defs",null,b("React").createElement("linearGradient",{x1:"50%",y1:"0%",x2:"50%",y2:"100%",id:"linearGradient-1"},b("React").createElement("stop",{stopColor:"#00B2FF",offset:"0%"}),b("React").createElement("stop",{stopColor:"#006AFF",offset:"100%"}))),b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("g",null,b("React").createElement("circle",{fill:"#FFFFFF",cx:"30",cy:"30",r:"30"}),b("React").createElement("svg",{x:"10",y:"10"},b("React").createElement("g",null,b("React").createElement("rect",{id:"container",x:"0",y:"0",width:"40",height:"40"}),b("React").createElement("g",{id:"logo"},b("React").createElement("path",{d:"M20,0 C8.7334,0 0,8.2528 0,19.4 C0,25.2307 2.3896,30.2691 6.2811,33.7492 C6.6078,34.0414 6.805,34.4513 6.8184,34.8894 L6.9273,38.4474 C6.9621,39.5819 8.1343,40.3205 9.1727,39.8621 L13.1424,38.1098 C13.4789,37.9612 13.856,37.9335 14.2106,38.0311 C16.0348,38.5327 17.9763,38.8 20,38.8 C31.2666,38.8 40,30.5472 40,19.4 C40,8.2528 31.2666,0 20,0",id:"bubble",fill:"url(#linearGradient-1)"}),b("React").createElement("path",{d:"M7.99009,25.07344 L13.86509,15.75264 C14.79959,14.26984 16.80079,13.90064 18.20299,14.95224 L22.87569,18.45674 C23.30439,18.77834 23.89429,18.77664 24.32119,18.45264 L30.63189,13.66324 C31.47419,13.02404 32.57369,14.03204 32.00999,14.92654 L26.13499,24.24744 C25.20039,25.73014 23.19919,26.09944 21.79709,25.04774 L17.12429,21.54314 C16.69559,21.22164 16.10569,21.22334 15.67879,21.54734 L9.36809,26.33674 C8.52579,26.97594 7.42629,25.96794 7.99009,25.07344",id:"bolt",fill:"#FFFFFF"}))))))):b("React").createElement("svg",{x:"0",y:"0",width:"60",height:"60"},b("React").createElement("defs",null,b("React").createElement("linearGradient",{x1:"50%",y1:"100%",x2:"50%",y2:"0.000340050378%",id:"live-chat-icon-gradient-1"},b("React").createElement("stop",{stopColor:"#0068FF",offset:"4.5%"}),b("React").createElement("stop",{stopColor:"#00C6FF",offset:"95.5%"}))),b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("g",null,b("React").createElement("g",null,b("React").createElement("circle",{fill:"#FFFFFF",cx:"30",cy:"30",r:"30"}),b("React").createElement("g",{transform:"translate(10.000000, 11.000000)"},b("React").createElement("path",{d:"M0,18.7150914 C0,24.5969773 2.44929143,29.6044708 6.95652174,33.0434783 L6.95652174,40 L14.2544529,36.6459314 C16.0763359,37.1551856 18,37.4301829 20,37.4301829 C31.043257,37.4301829 40,29.0529515 40,18.7150914 C40,8.37723141 31.043257,0 20,0 C8.956743,0 0,8.37723141 0,18.7150914 Z",fill:"url(#live-chat-icon-gradient-1)"}),b("React").createElement("polygon",{fill:"#FFFFFF",points:"16.9378907 19.359375 7 25 17.8976562 13.140625 23.0570312 18.640625 33 13 22.1023437 24.859375"}))))))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginLoggedInMobileInterstitial.react",["cx","fbt","ix","AsyncRequest","CurrentUser","Image.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MessengerLiveChatPluginEvent","MessengerLiveChatSettings","PluginOptin","React","ShimButton.react","XMNLiveChatConnectController"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();var j;c=babelHelpers.inherits(a,b("React").Component);j=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=j.constructor).call.apply(a,[this].concat(e)),this.$4=function(){var a=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",this.props.pageID).getURI();this.$1=new(b("AsyncRequest"))().setURI(a).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(this.props.onChatNowClick);this.$1.send();b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").MOBILE_INTERSTITIAL_CONTINUE_AS_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$5=function(){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.props.pageID,switch_user:!0}).addReturnParams({referer_uri:this.props.refererUri}).start(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").NOT_YOU_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$2=function(){this.props.onCloseButtonClick&&(this.props.onCloseButtonClick(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").MOBILE_INTERSTITIAL_CLOSE_CLICKED,this.props.viewerID,this.props.pageID))}.bind(this),c}a.prototype.componentWillUnmount=function(){this.$1&&this.$1.abandon()};a.prototype.render=function(){return b("React").createElement("div",{className:"_6k7_"},b("React").createElement("div",{className:"_6k80"},b("React").createElement(b("ShimButton.react"),{className:"_4bqf _2t-5",onClick:this.$2},b("React").createElement(b("LiveChatPluginCloseButtonSVG.react"),null))),this.$3(),b("React").createElement("div",{className:"_6k81"},b("React").createElement("div",{className:"_6k82"},b("React").createElement(b("LiveChatPluginDefaultMessengerIconSVG.react"),null)),b("React").createElement("div",{className:"_6k83"},h._("\u0110o\u1ea1n chat c\u1ee7a {name}",[h._param("name",this.props.pageName)]),b("React").createElement("br",null),h._("Do Messenger cung c\u1ea5p")),b("React").createElement(b("ShimButton.react"),{className:"_6k84",onClick:this.$4},b("React").createElement(b("Image.react"),{className:"_6k85",src:i("86959")}),h._("Ti\u1ebfp t\u1ee5c d\u01b0\u1edbi t\u00ean {user name}",[h._param("user name",b("CurrentUser").getName())])),b("React").createElement(b("ShimButton.react"),{className:"_6k86",onClick:this.$5},h._("Chuy\u1ec3n t\u00e0i kho\u1ea3n"))))};a.prototype.$3=function(){var a;a=(a=b("MessengerLiveChatSettings").qeSettings)!=null?a.showGreetingTextInterstitial:a;return!a?null:b("React").createElement("div",{className:"_6taj"},b("React").createElement("div",{className:"_6i-9"},this.props.pageName),this.props.loggedInGreeting?this.props.loggedInGreeting:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT)};e.exports=a}),null);
__d("LiveChatPluginLoggedInUserPrompt.react",["cx","fbt","Arbiter","AsyncRequest","CurrentUser","Image.react","Link.react","LiveChatPluginCloseButtonSVG.react","LiveChatPluginFbts","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","MessengerLiveChatPluginEvent","MessengerTextWithEntities.react","Plugin","PluginOptin","PrivacyTransparentOverlay.react","React","ReactDOM","ShimButton.react","XMNLiveChatConnectController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=124,k=24,l=24,m=10;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$4=function(){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.props.pageID,switch_user:!0}).addReturnParams({referer_uri:this.props.refererUri}).start(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").NOT_YOU_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$5=function(){__p&&__p();if(!b("CurrentUser").isLoggedInNow())return;if(this.props.hasMessagingPermission)this.props.onChatNowClick();else if(this.props.canSkipContinuousAs||this.props.isFacebookApp){var a=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",this.props.pageID).getURI();this.$1=new(b("AsyncRequest"))().setURI(a).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(this.props.onChatNowClick);this.$1.send()}else new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:this.props.pageID,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),switch_user:!1}).start(),b("Arbiter").subscribe(b("Plugin").CONNECT,this.props.onChatNowClick);b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").CHAT_NOW_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),c}a.prototype.componentDidMount=function(){this.$2(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").LOGGED_IN_CHAT_NOW_PROMPT_RENDERED,null,this.props.pageID,JSON.stringify({hasMessagingPermission:this.props.hasMessagingPermission}))};a.prototype.componentDidUpdate=function(){this.$2()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.abandon()};a.prototype.render=function(){return b("React").createElement("div",{className:"_j68"},b("React").createElement("div",{className:"promptHeaderContainer"},b("React").createElement("div",{className:"promptTextContainer"},b("React").createElement("div",{className:"promptHeader",ref:"promptHeader"},this.$3()),b("React").createElement("div",{className:"promptSubheader"},b("React").createElement("div",{className:"profilePictureContainer"},b("React").createElement(b("PrivacyTransparentOverlay.react"),null,b("React").createElement(b("Image.react"),{className:"profilePicture",src:this.props.viewerProfilePictureUri}))),b("React").createElement("div",{ref:"promptSubheader"},b("React").createElement("div",{className:"username"},b("CurrentUser").getName()),b("React").createElement(b("Link.react"),{className:"notYouLink",onClick:this.$4},h._("Kh\u00f4ng ph\u1ea3i b\u1ea1n?"))))),b("React").createElement(b("PrivacyTransparentOverlay.react"),null,b("React").createElement(b("Image.react"),{className:"profilePicture",src:this.props.pageProfilePictureUri})),b("React").createElement("div",{className:"closeButtonContainer"},b("React").createElement(b("ShimButton.react"),{className:"_4bqf _2t-5",onClick:this.props.onCloseButtonClick},b("React").createElement(b("LiveChatPluginCloseButtonSVG.react"),null)))),b("React").createElement("div",{className:"fillerDiv"}),b("React").createElement("div",{className:"promptButtonContainer",ref:"promptButtonContainer"},b("React").createElement(b("ShimButton.react"),{className:"_4bqf promptButton",onClick:this.$5,style:{color:this.props.threadColor}},h._("Tr\u00f2 chuy\u1ec7n ngay"))))};a.prototype.$3=function(){if(this.props.loggedInGreeting)return b("React").createElement(b("MessengerTextWithEntities.react"),{renderEmoji:!0,renderEmoticons:!0,text:this.props.loggedInGreeting});else return b("React").createElement("div",null,b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT)};a.prototype.$2=function(){var a=b("ReactDOM").findDOMNode(this.refs.promptHeader),c=b("ReactDOM").findDOMNode(this.refs.promptSubheader),d=b("ReactDOM").findDOMNode(this.refs.promptButtonContainer);if(a instanceof HTMLElement&&c instanceof HTMLElement&&d instanceof HTMLElement){a=a.offsetHeight+c.offsetHeight+d.offsetHeight+l+m;c=Math.max(a,j);this.props.anchorIframeResizeFn(c+k,c)}};e.exports=a}),null);
__d("LiveChatPluginLoggedInUserPromptRedesign.react",["cx","fbt","Arbiter","AsyncRequest","CurrentUser","Link.react","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","LiveChatPluginPromptButton.react","LiveChatPluginPromptHeader.react","MessengerLiveChatPluginEvent","MessengerTextWithEntities.react","Plugin","PluginOptin","React","ReactDOM","XMNLiveChatConnectController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$7=function(){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:this.props.pageID,switch_user:!0}).addReturnParams({referer_uri:this.props.refererUri}).start(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").NOT_YOU_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$6=function(){__p&&__p();if(!b("CurrentUser").isLoggedInNow())return;if(this.props.hasMessagingPermission)this.props.onChatNowClick();else if(this.props.canSkipContinuousAs||this.props.isFacebookApp){var a=b("XMNLiveChatConnectController").getURIBuilder().setString("page_id",this.props.pageID).getURI();this.$1=new(b("AsyncRequest"))().setURI(a).setMethod("POST").setAllowCrossPageTransition(!0).setHandler(this.props.onChatNowClick);this.$1.send()}else new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:this.props.pageID,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),switch_user:!1}).start(),b("Arbiter").subscribe(b("Plugin").CONNECT,this.props.onChatNowClick);b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").CHAT_NOW_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),c}a.prototype.componentDidMount=function(){this.$3(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").LOGGED_IN_CHAT_NOW_PROMPT_RENDERED,null,this.props.pageID,JSON.stringify({hasMessagingPermission:this.props.hasMessagingPermission}))};a.prototype.componentDidUpdate=function(){this.$3()};a.prototype.componentWillUnmount=function(){this.$1&&this.$1.abandon()};a.prototype.render=function(){var a=this.$4();return b("React").createElement("div",{className:"_7acu"},b("React").createElement(b("LiveChatPluginPromptHeader.react"),{ref:function(a){this.$2=a}.bind(this),greetingTextElem:this.$5(),pageName:this.props.pageName,pageProfilePictureUri:this.props.pageProfilePictureUri,pageResponsivenessText:this.props.pageResponsivenessText}),b("React").createElement("div",{className:"fillerDiv"}),b("React").createElement("div",{className:"promptFooterContainer",ref:"promptFooter"},b("React").createElement(b("LiveChatPluginPromptButton.react"),{color:this.props.threadColor,onClick:this.$6,text:a}),b("React").createElement(b("Link.react"),{className:"_4bqf notYouLink",onClick:this.$7},h._("Kh\u00f4ng ph\u1ea3i b\u1ea1n \u01b0? H\u00e3y \u0111\u0103ng nh\u1eadp v\u00e0o Messenger"))))};a.prototype.$4=function(){var a=b("CurrentUser").getShortName();return a!==null?h._("Ti\u1ebfp t\u1ee5c d\u01b0\u1edbi t\u00ean {first name}",[h._param("first name",a)]):h._("Ti\u1ebfp t\u1ee5c")};a.prototype.$5=function(){if(this.props.loggedInGreeting!=null)return b("React").createElement(b("MessengerTextWithEntities.react"),{className:"promptTextBubble",renderEmoji:!0,renderEmoticons:!0,text:this.props.loggedInGreeting});else return b("React").createElement("div",{className:"promptTextBubble"},b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT)};a.prototype.$3=function(){var a=b("ReactDOM").findDOMNode(this.$2),c=b("ReactDOM").findDOMNode(this.refs.promptFooter);if(a instanceof HTMLElement&&c instanceof HTMLElement){a=a.offsetHeight+c.offsetHeight;c=Math.max(a,b("LiveChatPluginConstants").PROMPT_REDESIGN_FALLBACK_HEIGHT);this.props.anchorIframeResizeFn(c+b("LiveChatPluginConstants").PROMPT_CONTAINER_PADDING_HEIGHT,c)}};e.exports=a}),null);
__d("LiveChatPluginAttachmentUploadError",["keyMirror"],(function(a,b,c,d,e,f){"use strict";a=Object.freeze(b("keyMirror")({NO_ERROR:"",UPLOAD_FAILED:"",EXCEEDED_FILE_MAX_SIZE:"",EXCEEDED_MAX_FILES:""}));e.exports=a}),null);
__d("XMNLiveChatPluginFileUploadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/upload/",{})}),null);
__d("cssURL",[],(function(a,b,c,d,e,f){function a(a){return"url('"+a.replace(/[\ud800-\udfff].|[^-a-zA-Z0-9./_?]/g,function(a){return"\\"+a.codePointAt(0).toString(16)+" "})+"')"}e.exports=a}),null);
__d("LiveChatPluginAttachmentUploadClient",["FileForm","LiveChatPluginAttachmentUploadError","LiveChatPluginLoggerUtil","MercuryConstants","MessengerLiveChatPluginEvent","PhotosUploadID","SubscriptionsHandler","XMNLiveChatPluginFileUploadController","cssURL"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=5;function a(a,c,d,e){this.$17=function(a,b){((a=b)!=null?(a=a.response)!=null?(a=a.payload)!=null?a.result:a:a:a)==="success"?this.$25(b):this.$26(b)}.bind(this),this.$1=new Map(),this.$2=new Map(),this.$4=new Map(),this.$5=new Map(),this.$7=d,this.$8=c,this.$9=new(b("SubscriptionsHandler"))(),this.$10=a,this.$11=new Set(),this.$13=new Map(),this.$14=e}a.prototype.onSubmitFileList=function(a){__p&&__p();this.$8(b("LiveChatPluginAttachmentUploadError").NO_ERROR);var c=this.$15();c=this.$16(c);this.$9.addSubscriptions(c.subscribe("success",this.$17));if(a){if(a.length+this.$2.size>g){this.$8(b("LiveChatPluginAttachmentUploadError").EXCEEDED_MAX_FILES);b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ATTACHMENT_UPLOAD_FAILED,this.$14,this.$7,JSON.stringify({error:"exceeded_max_files"}));return}var d={};for(var e=0;e<a.length;e++){var f=a[e];if(f.size>b("MercuryConstants").AttachmentMaxSize){this.$8(b("LiveChatPluginAttachmentUploadError").EXCEEDED_FILE_MAX_SIZE);b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ATTACHMENT_UPLOAD_FAILED,this.$14,this.$7,JSON.stringify({error:"exceeded_max_file_size"}));return}var h=this.$18();d[h]=f;this.$11.add(h);this.$2.set(h,{name:f.name,thumbnail_url:b("cssURL")(window.URL.createObjectURL(f)),type:f.type});b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ATTACHMENT_UPLOAD_SUBMITTED,this.$14,this.$7,JSON.stringify({uploadID:h}))}c.setFiles(d);c.forceSendViaXHR()}this.$10(this.$19(),this.$20())};a.prototype.removeAttachment=function(a){this.$11["delete"](a),this.$1["delete"](a),this.$2["delete"](a),this.$5["delete"](a),this.$4["delete"](a),this.$13["delete"](a),this.$10(this.$19(),this.$20(),this.$21(),this.$22(),this.$23(),this.$24()),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ATTACHMENT_UPLOAD_REMOVED,this.$14,this.$7,JSON.stringify({uploadID:a}))};a.prototype.removeAllAttachments=function(){this.$1=new Map(),this.$2=new Map(),this.$4=new Map(),this.$5=new Map(),this.$11=new Set(),this.$13=new Map(),this.$10(this.$19(),this.$20(),this.$21(),this.$22(),this.$23(),this.$24())};a.prototype.$25=function(a){var c=a.response.payload;a=a.upload.getName();c=c.metadata[0];this.$11.has(a)&&(this.$11["delete"](a),c.image_id?this.$5.set(a,c.image_id):c.gif_id?this.$1.set(a,c.gif_id):c.video_id?this.$13.set(a,c.video_id):this.$4.set(a,c.file_id),this.$10(this.$19(),this.$20()),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ATTACHMENT_UPLOAD_COMPLETED,this.$14,this.$7,JSON.stringify({uploadID:a})));this.$27()||this.$10(this.$19(),this.$20(),this.$21(),this.$22(),this.$23(),this.$24())};a.prototype.$26=function(a){this.removeAttachment(a.upload.getName()),this.$8(b("LiveChatPluginAttachmentUploadError").UPLOAD_FAILED),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ATTACHMENT_UPLOAD_FAILED,this.$14,this.$7,JSON.stringify({error:"upload_failed"}))};a.prototype.$23=function(){return this.$5.size===0?[]:Array.from(this.$5.values())};a.prototype.$21=function(){return this.$1.size===0?[]:Array.from(this.$1.values())};a.prototype.$24=function(){return this.$13.size===0?[]:Array.from(this.$13.values())};a.prototype.$22=function(){return this.$4.size===0?[]:Array.from(this.$4.values())};a.prototype.$27=function(){return this.$11.size!==0};a.prototype.$19=function(){return this.$2};a.prototype.$20=function(){return this.$11};a.prototype.$15=function(){var a=document.createElement("form");a.action=b("XMNLiveChatPluginFileUploadController").getURIBuilder().getURI().toString();a.method="post";return a};a.prototype.$16=function(a){a=new(b("FileForm"))(a);a.setAllowCrossOrigin(!0);a.setUploadInParallel(!0);return a};a.prototype.$18=function(){return"upload_"+b("PhotosUploadID").getNewID()};a.prototype.destroy=function(){this.$9.release(),delete this.$9};e.exports=a}),null);
__d("LiveChatPluginAttachmentInput.react",["cx","InlineBlock.react","LiveChatPluginAttachmentUploadClient","LiveChatPluginLoggerUtil","MessengerLiveChatPluginEvent","React"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$2=function(){b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").ATTACHMENT_BUTTON_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=new(b("LiveChatPluginAttachmentUploadClient"))(this.props.updateComposerAttachmentsAndIDs,this.props.setComposerAttachmentError,this.props.pageID,this.props.viewerID)};a.prototype.componentWillUnmount=function(){this.$1.destroy()};a.prototype.render=function(){return b("React").createElement(b("InlineBlock.react"),{className:"_64mk _2ez5",onClick:this.$2},b("React").createElement("input",{accept:"application/msword, application/pdf, text/csv, text/plain, image/*, video/*",className:"_2ez6",multiple:!0,name:"attachment[]",onChange:function(a){this.$3(a)}.bind(this),ref:"fileInput",title:"Add Files",type:"file"}))};a.prototype.$3=function(a){this.$1.onSubmitFileList(a.target.files),a.target.value=""};a.prototype.removeAttachment=function(a){this.$1.removeAttachment(a)};a.prototype.removeAllAttachments=function(){this.$1.removeAllAttachments()};e.exports=a}),null);
__d("LiveChatPluginBotMenuButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("g",{fill:this.props.threadColor},b("React").createElement("rect",{x:"2",y:"3",width:"20",height:"1"}),b("React").createElement("rect",{x:"2",y:"11",width:"20",height:"1"}),b("React").createElement("rect",{x:"2",y:"19",width:"20",height:"1"}))))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginArrowButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a=this.props.direction==="left"?b("React").createElement("g",{fill:this.props.threadColor},b("React").createElement("polygon",{points:"5.5 12 16 1.5 18 3.5 9.5 12 18 20.5 16 22.5"})):b("React").createElement("g",{fill:this.props.threadColor},b("React").createElement("polygon",{points:"8 7 9.5 5.5 16 12 9.5 18.5 8 17 13 12"}));return b("React").createElement("svg",{width:"24px",height:"24px",viewBox:"0 0 24 24"},b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},a))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("MNPageMessagingReferralSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ADS",SHORTLINK:"SHORTLINK",MESSENGER_CODE:"MESSENGER_CODE",DISCOVER_TAB:"DISCOVER_TAB",CUSTOMER_CHAT_PLUGIN:"CUSTOMER_CHAT_PLUGIN",BRANDED_CAMERA:"BRANDED_CAMERA",DISCOVERY_TAB:"DISCOVERY_TAB",LIVECHAT_PLUGIN:"LIVECHAT_PLUGIN"})}),null);
__d("MercuryIDs",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isValid:function(a){return!a||typeof a!=="string"?!1:/^\w{3,12}:.+/.test(a)},isValidThreadID:function(a){if(!g.isValid(a))return!1;a=g.tokenize(a);switch(a.type){case"user":case"group":case"support":case"thread":case"root":case"pending":return!0;default:return!1}},tokenize:function(a){if(!a||!g.isValid(a))throw new Error("bad_id_format "+String(a));var b=a.indexOf(":");return{type:a.substr(0,b),value:a.substr(b+1)}},getUserIDFromParticipantID:function(a){if(!g.isValid(a))throw new Error("bad_id_format "+a);a=g.tokenize(a);var b=a.type;a=a.value;return b==="fbid"?a:null},getParticipantIDFromUserID:function(a){if(isNaN(a))throw new Error("Not a user ID: "+a);return"fbid:"+a},getUserIDFromThreadID:function(a){return!this.isCanonical(a)?null:this.tokenize(a).value},getThreadIDFromUserID:function(a){return"user:"+a},getThreadIDFromThreadFBID:function(a){return"thread:"+a},getThreadIDFromSupportInboxItemID:function(a){return"support:"+a},getThreadFBIDFromThreadID:function(a){return this.tokenize(a).value},getThreadKeyfromThreadIDUserID:function(a,b){__p&&__p();if(!a||!g.isValid(a))throw new Error("bad_id_format "+String(a));var c=this.tokenize(a).type;a=this.tokenize(a).value;if(c!=="user")return"g"+a;c="";var d="";if(a.length!==b.length)a.length>b.length?(c=a,d=b):(c=b,d=a);else if(b===a)return b+"u"+a;else{var e=0;while(e<a.length&&e<b.length)if(a[e]===b[e])e++;else{a[e]>b[e]?(c=a,d=b):(c=b,d=a);break}}return d+"u"+c},getThreadIDFromParticipantID:function(a){a=this.getUserIDFromParticipantID(a);return a?this.getThreadIDFromUserID(a):null},getParticipantIDFromFromThreadID:function(a){a=this.getUserIDFromThreadID(a);return a?this.getParticipantIDFromUserID(a):null},getSupportInboxItemIDFromThreadID:function(a){return this.tokenize(a).value},isCanonical:function(a){return this.isValid(a)&&this.tokenize(a).type==="user"},isGroupChat:function(a){return this.isValid(a)&&this.tokenize(a).type!=="user"},isLocalThread:function(a){return this.isValid(a)&&this.tokenize(a).type==="root"}};e.exports=g}),null);
__d("WorkForeignEntityType",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({FOREIGN:"FOREIGN",NOT_FOREIGN:"NOT_FOREIGN"})}),null);
__d("ChatPerfEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ASYNC_REQUEST:"async_request",SIDEBAR_FROM_CLIENT_TTI:"sidebar_from_client_tti",SIDEBAR_FROM_SERVER_TTI:"sidebar_from_server_tti",SIDEBAR_DISPLAY_DONE:"sidebar_display_done",TTI:"tti",CHAT_CONVERSATION_TTI:"chat_conversation_tti",CHAT_INIT_STORES:"chat_init_stores",CHAT_INIT_DATA:"chat_init_data",CHAT_INIT_UI:"chat_init_ui",CHAT_INIT_SOUND:"chat_init_sound",CHAT_DISPLAY_DONE:"chat_display_done"})}),null);
__d("TypingStates",[],(function(a,b,c,d,e,f){a=Object.freeze({INACTIVE:0,TYPING:1,QUITTING:2});e.exports=a}),null);
__d("XMNCommercePostbackCTAController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/postback/",{cta_id:{type:"String",required:!0},message_id:{type:"String"},ref:{type:"String"},ref_source:{type:"Enum",enumType:1},ref_type:{type:"Enum",enumType:1}})}),null);
__d("LiveChatPluginBotMenuDialog.react",["cx","fbt","AsyncRequest","Link.react","LiveChatPluginArrowButtonSVG.react","LiveChatPluginLoggerUtil","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercurySourceType","MessengerLiveChatPluginEvent","MNCommerceCallToActionType","MNPageMessagingReferralSource","React","ShimButton.react","Tooltip.react","XMNCommercePostbackCTAController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.state={navigationPath:[]},this.$11=function(){this.props.closeDialogFn(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").BOT_MENU_URL_REDIRECT_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$1=b("MercuryMessageActions").getForFBID(this.props.viewerID),this.$2=new(b("MercuryMessageObject"))(this.props.viewerID),this.$3=b("LiveChatPluginLoggerUtil").getAttributionTags(),this.$4=b("MercuryIDs").getThreadIDFromUserID(this.props.pageID)}a.prototype.render=function(){var a=null,c=[],d=this.props.menuItems;for(var e=0;e<this.state.navigationPath.length;e++){var f=this.state.navigationPath[e];d!=null&&(a=d[f].title,d=d[f].nested_ctas)}c=d&&d.map(function(b,a){return this.$5(b,a)}.bind(this));return b("React").createElement("div",{className:"_6d42"},this.$6(a||h._("Menu")),c)};a.prototype.$6=function(a){var c=this.state.navigationPath.length!==0?b("React").createElement(b("Link.react"),{className:"_4bqf _6d43",onClick:function(a){this.setState(function(a){return{navigationPath:a.navigationPath.slice(0,-1)}})}.bind(this)},b("React").createElement(b("LiveChatPluginArrowButtonSVG.react"),{direction:"left",threadColor:this.props.threadColor})):null;return b("React").createElement("div",{className:"_6d44 _6d45"},c,a)};a.prototype.$5=function(a,c){__p&&__p();var d;switch(a.action_type){case b("MNCommerceCallToActionType").POSTBACK:d=this.$7(a);break;case b("MNCommerceCallToActionType").OPEN_URL:d=this.$8(a);break;case b("MNCommerceCallToActionType").NAVIGATION:d=this.$9(a,c);break;default:d=this.$10(a);break}return b("React").createElement("div",{className:"_6d46",key:a.id},b("React").createElement("div",{className:"_6d45 _4bqf"},d))};a.prototype.$10=function(a){return b("React").createElement(b("Tooltip.react"),{className:"_6d47",tooltip:h._("\u0110\u1ec3 s\u1eed d\u1ee5ng t\u00ednh n\u0103ng n\u00e0y, h\u00e3y d\u00f9ng \u1ee9ng d\u1ee5ng Messenger.")},a.title)};a.prototype.$8=function(a){return b("React").createElement(b("Link.react"),{className:"_6d48",href:a.action_link,onClick:this.$11,style:{color:this.props.threadColor},target:"_blank"},a.title)};a.prototype.$9=function(a,c){var d=function(a){this.setState(function(a){return{navigationPath:a.navigationPath.concat(c)}})}.bind(this);return b("React").createElement(b("ShimButton.react"),{className:"_6d49",onClick:d},b("React").createElement(b("Link.react"),{style:{color:this.props.threadColor}},a.title),b("React").createElement("div",{className:"_6d4a"},b("React").createElement(b("LiveChatPluginArrowButtonSVG.react"),{direction:"right",threadColor:this.props.threadColor})))};a.prototype.$7=function(a){var c=function(c){this.props.closeDialogFn();this.$1.send(this.$2.constructCTAConfirmationMessageObject(a.title,b("MercurySourceType").CUSTOMER_CHAT_PLUGIN,this.$4,null,this.$3));c=b("XMNCommercePostbackCTAController").getURIBuilder().setString("cta_id",a.id).setEnum("ref_source",b("MNPageMessagingReferralSource").CUSTOMER_CHAT_PLUGIN).getURI();new(b("AsyncRequest"))().setURI(c).setAllowCrossPageTransition(!0).setMethod("POST").send();b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").BOT_MENU_POSTBACK_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this);return b("React").createElement(b("Link.react"),{className:"_6d48",onClick:c,style:{color:this.props.threadColor}},a.title)};e.exports=a}),null);
__d("LiveChatPluginBotMenuButton.react",["csx","cx","AsyncRequest","LiveChatPluginBotMenuButtonSVG.react","LiveChatPluginBotMenuDialog.react","LiveChatPluginLoggerUtil","MessengerContextualDialog.react","MessengerLiveChatPluginEvent","Parent","React","ReactDOM","ShimButton.react","Style","XMessengerBotsMenuController"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.state={flyoutOpen:!1,menuItems:null},this.$4=function(){this.setState(function(a){return{flyoutOpen:!a.flyoutOpen}},this.$8)}.bind(this),this.$7=function(){this.setState({flyoutOpen:!1})}.bind(this),this.$6=function(){this.state.flyoutOpen&&this.$3()}.bind(this),this.$8=function(){b("LiveChatPluginLoggerUtil").logAction(this.state.flyoutOpen?b("MessengerLiveChatPluginEvent").BOT_MENU_OPENED:b("MessengerLiveChatPluginEvent").BOT_MENU_CLOSED,this.props.viewerID,this.props.pageID)}.bind(this),c}a.prototype.UNSAFE_componentWillMount=function(){this.$2()};a.prototype.componentWillUnmount=function(){this.$1&&(this.$1.abort(),this.$1=null),this.state.flyoutOpen&&this.$3()};a.prototype.render=function(){return b("React").createElement(b("ShimButton.react"),{className:"_661n",onClick:this.$4,ref:"botMenuContainer"},b("React").createElement(b("LiveChatPluginBotMenuButtonSVG.react"),{threadColor:this.props.threadColor}),this.$5())};a.prototype.$5=function(){return!this.state.flyoutOpen||!this.state.menuItems?null:b("React").createElement(b("MessengerContextualDialog.react"),{alignment:"right",contextRef:function(){return this.refs.botMenuContainer}.bind(this),hideOnBlur:!0,onBeforeHide:this.$6,position:"above",ref:function(a){if(this.props.isMobile&&a){a=b("Parent").bySelector(b("ReactDOM").findDOMNode(a),"._1r_9");var c=window.innerWidth<310?window.innerWidth-10:300;b("Style").set(a,"max-width",c+"px");b("Style").set(a,"-webkit-tap-highlight-color","transparent")}}.bind(this),shown:this.state.flyoutOpen,width:window.innerWidth<310?window.innerWidth-10:300},b("React").createElement(b("LiveChatPluginBotMenuDialog.react"),{closeDialogFn:this.$7,menuItems:this.state.menuItems,pageID:this.props.pageID,threadColor:this.props.threadColor,viewerID:this.props.viewerID}))};a.prototype.$2=function(){var a=b("XMessengerBotsMenuController").getURIBuilder().setString("page_id",this.props.pageID).getURI();this.$1=new(b("AsyncRequest"))().setURI(a).setHandler(function(a){this.setState({menuItems:a.payload.menu})}.bind(this)).setErrorHandler(function(a){this.setState({menuItems:[]})}.bind(this));this.$1.send()};a.prototype.$3=function(){this.setState({flyoutOpen:!1},this.$8)};e.exports=a}),null);
__d("LiveChatPluginLikeButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("svg",{height:"24px",preserveAspectRatio:"xMinYMax meet",viewBox:"0 0 40.16 42.24",width:"22px"},b("React").createElement("path",{d:"M935.36,1582.44a0,0,0,0,0,0,.06,3.59,3.59,0,0,1-.72,6.53,0,0,0,0,0,0,0,3.56,3.56,0,0,1,.71,2.13,3.6,3.6,0,0,1-3,3.54, 0,0,0,0,0,0,.05,3.56,3.56,0,0,1,.38,1.61,3.61,3.61,0,0,1-3.42,3.6H910v-19.6l5.27-7.9a4,4,0,0,0,.66-2.31l-0.1-4c-0.22-2.4-.09-2.06, 1.13-2.37,2-.51,7.16,1.59,5.13,12.17h11.06A3.59,3.59,0,0,1,935.36,1582.44ZM899,1581h7v22h-7v-22Z",transform:"translate(-898.5 -1563.26)",fill:"none",fillRule:"evenodd",stroke:this.props.threadColor,strokeLinecap:"round",strokeWidth:"2"}))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginMessageComposerAttachmentItem.react",["cx","ix","Image.react","React","ShimButton.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;i=babelHelpers.inherits(a,b("React").PureComponent);i&&i.prototype;a.prototype.render=function(){var a=this.props.attachment;if(a.type.startsWith("image/"))return[b("React").createElement("div",{className:"_3l_i",key:this.props.uploadID+"item",style:{backgroundImage:a.thumbnail_url}}),b("React").createElement(b("ShimButton.react"),{className:"_3l_j _3l_k",key:this.props.uploadID+"removeButton",onClick:this.props.removeAttachment})];var c=b("React").createElement("div",{className:"_3l_l",style:{backgroundColor:this.props.threadColor}},b("React").createElement(b("Image.react"),{src:a.type.startsWith("video/")?h("359148"):h("359146")}));a=a.name;var d=a.split(".").pop().toUpperCase();return b("React").createElement("div",{className:"_3l_m"},c,b("React").createElement("div",{className:"_3l_n"},b("React").createElement("div",{className:"_3l_o"},d),b("React").createElement("div",{className:"_3l_p"},a)),b("React").createElement(b("ShimButton.react"),{className:"_3l_j _3l_q",onClick:this.props.removeAttachment}))};function a(){i.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginMessageComposerAttachmentShelf.react",["cx","fbt","LiveChatPluginAttachmentUploadError","LiveChatPluginMessageComposerAttachmentItem.react","React","XUISpinner.react"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(a){i.constructor.call(this,a),this.$1=new Map()}a.prototype.render=function(){__p&&__p();if(this.props.attachments.size===0&&this.props.error===b("LiveChatPluginAttachmentUploadError").NO_ERROR)return null;this.props.attachments.forEach(function(a,b){this.$1.has(b)||this.$1.set(b,a)}.bind(this));this.$1.forEach(function(a,b){this.props.attachments.has(b)||this.$1["delete"](b)}.bind(this));var a=Array.from(this.$1).map(function(a){var c=a[0];a=a[1];return b("React").createElement("div",{className:"_1i5v",key:c},b("React").createElement(b("LiveChatPluginMessageComposerAttachmentItem.react"),{attachment:a,removeAttachment:function(){this.props.removeAttachment(c)}.bind(this),threadColor:this.props.threadColor,uploadID:c}),this.props.uploadingAttachments.has(c)?b("React").createElement(b("XUISpinner.react"),{className:"_1i63",background:"dark",size:"large"}):null)}.bind(this));return b("React").createElement("div",{className:"_1i69"},this.$2(),b("React").createElement("div",{className:"_2l9u"},a))};a.prototype.$2=function(){__p&&__p();var a;switch(this.props.error){case b("LiveChatPluginAttachmentUploadError").EXCEEDED_MAX_FILES:a=h._("Upload no more than 5 files at once. Please try again.");break;case b("LiveChatPluginAttachmentUploadError").EXCEEDED_FILE_MAX_SIZE:a=h._("This file exceeds the size limit of 25MB.");break;case b("LiveChatPluginAttachmentUploadError").UPLOAD_FAILED:a=h._("This file couldn't be uploaded. Please try again.");break;case b("LiveChatPluginAttachmentUploadError").NO_ERROR:default:return null}return b("React").createElement("div",{className:"_2l9v"},a)};e.exports=a}),null);
__d("LiveChatPluginSendButtonSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").PureComponent);g&&g.prototype;a.prototype.render=function(){return b("React").createElement("svg",{width:"22px",height:"22px",viewBox:"0 0 22 22"},b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("g",{transform:"translate(-5.000000, -5.000000)",fill:this.props.threadColor},b("React").createElement("g",null,b("React").createElement("g",{transform:"translate(5.000000, 5.000000)"},b("React").createElement("path",{d:"M2.0300068,0.145970044 L20.9662955,9.37015518 C22.3445682,10.0420071 22.3445682,11.9582654 20.9662955,12.6296618 L2.0300068,21.853847 C1.09728834,22.3084288 0,21.6475087 0,20.6317597 L0.806953417,13.8945654 C0.882225434,13.2659853 1.39089595,12.7699536 2.03608467,12.6957083 L12.0229514,11.6795038 C12.8612292,11.5943266 12.8612292,10.4054904 12.0229514,10.3203132 L2.03608467,9.30410872 C1.39089595,9.23031889 0.882225434,8.7342872 0.806953417,8.10525162 L0,1.36805729 C0,0.352308292 1.09728834,-0.3081563 2.0300068,0.145970044"}))))))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginMessageComposer.react",["cx","fbt","AbstractTextInput.react","Keys","LiveChatPluginAttachmentInput.react","LiveChatPluginAttachmentUploadError","LiveChatPluginBotMenuButton.react","LiveChatPluginLikeButtonSVG.react","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposerAttachmentShelf.react","LiveChatPluginSendButtonSVG.react","MercuryIDs","MercuryMessageActions","MercuryMessageObject","MercurySourceType","MessengerLiveChatPluginEvent","React","ShimButton.react","StickerConstants"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i;c=babelHelpers.inherits(a,b("React").PureComponent);i=c&&c.prototype;function a(a){__p&&__p();i.constructor.call(this,a),this.state={attachmentsDataMap:new Map(),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:"",uploadingAttachments:new Set()},this.$20=function(a){this.props.onChange(),this.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:a.target.value})}.bind(this),this.$21=function(a){a.keyCode===b("Keys").RETURN&&(a.preventDefault(),this.$18())}.bind(this),this.$18=function(){__p&&__p();if(this.state.uploadingAttachments.size!==0)return;var a=this.state.inputValue.trim();if(a&&a.length>0||this.state.attachmentsDataMap.size>0){a=this.$7.constructUserGeneratedMessageObject(a,b("MercurySourceType").CUSTOMER_CHAT_PLUGIN,this.$8,null,null,this.$9);this.$4.length>0&&(a.has_attachment=!0,a.image_ids=this.$4);this.$1.length>0&&(a.has_attachment=!0,a.gif_ids=this.$1);this.$10.length>0&&(a.has_attachment=!0,a.video_ids=this.$10);this.$3.length>0&&(a.has_attachment=!0,a.file_ids=this.$3);this.$6.send(a);this.setState({inputValue:""});this.$22();b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").MESSAGE_SENT,this.props.viewerID,this.props.pageID,this.state.attachmentsDataMap.size>0?JSON.stringify({attachments:Array.from(this.state.attachmentsDataMap.keys())}):null)}}.bind(this),this.$19=function(){this.$6.send(this.$7.constructStickerMessageObject(b("StickerConstants").HOT_LIKE_SMALL_STICKER_ID,b("MercurySourceType").CUSTOMER_CHAT_PLUGIN,this.$8,this.$9)),this.setState({error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,inputValue:""}),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").LIKE_BUTTON_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$11=function(a){this.$2&&this.$2.removeAttachment(a)}.bind(this),this.$16=function(a){this.setState({error:a})}.bind(this),this.$17=function(a,c,d,e,f,g){d&&(this.$1=d),e&&(this.$3=e),f&&(this.$4=f),g&&(this.$10=g),this.setState({attachmentsDataMap:new Map(a),error:b("LiveChatPluginAttachmentUploadError").NO_ERROR,uploadingAttachments:new Set(c)}),this.focus()}.bind(this),this.$6=b("MercuryMessageActions").getForFBID(this.props.viewerID),this.$7=b("MercuryMessageObject").getForFBID(this.props.viewerID),this.$8=b("MercuryIDs").getThreadIDFromUserID(this.props.pageID),this.$9=b("LiveChatPluginLoggerUtil").getAttributionTags(),this.$1=[],this.$3=[],this.$4=[],this.$10=[]}a.prototype.render=function(){return b("React").createElement("div",{className:"_336a"+(this.props.disableInput?" _664i":"")},b("React").createElement(b("LiveChatPluginMessageComposerAttachmentShelf.react"),{attachments:this.state.attachmentsDataMap,error:this.state.error,removeAttachment:this.$11,threadColor:this.props.threadColor,uploadingAttachments:this.state.uploadingAttachments}),b("React").createElement("div",{className:"_4zbw"},this.$12(),this.$13(),b("React").createElement("div",{className:"_kmd"},this.$14(),this.$15())))};a.prototype.$14=function(){return this.props.isMobile||this.props.disableInput?null:b("React").createElement(b("LiveChatPluginAttachmentInput.react"),{pageID:this.props.pageID,ref:function(a){this.$2=a}.bind(this),setComposerAttachmentError:this.$16,updateComposerAttachmentsAndIDs:this.$17,viewerID:this.props.viewerID})};a.prototype.$15=function(){if(this.props.disableInput)return null;if(this.state.inputValue.length>0||this.state.attachmentsDataMap.size>0)return b("React").createElement(b("ShimButton.react"),{className:"_4bqf _64mk _64ml",onClick:this.$18},b("React").createElement(b("LiveChatPluginSendButtonSVG.react"),{threadColor:this.props.threadColor}));else return b("React").createElement(b("ShimButton.react"),{className:"_4bqf _64mk _68t0",onClick:this.$19},b("React").createElement(b("LiveChatPluginLikeButtonSVG.react"),{threadColor:this.props.threadColor}))};a.prototype.$13=function(){return this.props.disableInput?b("React").createElement("div",{className:"_664k"},h._("Tr\u00ecnh bi\u00ean so\u1ea1n b\u1ecb t\u1eaft cho cu\u1ed9c tr\u00f2 chuy\u1ec7n n\u00e0y.")):b("React").createElement("div",{className:"_4fwe"},b("React").createElement(b("AbstractTextInput.react"),{onBlur:this.props.onBlur,onChange:this.$20,onClick:this.props.onClick,onFocus:this.props.onFocus,onKeyDown:this.$21,ref:function(a){this.$5=a}.bind(this),placeholder:h._("Nh\u1eadp tin nh\u1eafn...").toString(),value:this.state.inputValue}))};a.prototype.$12=function(){return this.props.hasMenu?b("React").createElement(b("LiveChatPluginBotMenuButton.react"),{isMobile:this.props.isMobile,threadColor:this.props.threadColor,pageID:this.props.pageID,viewerID:this.props.viewerID}):null};a.prototype.$22=function(){this.$2&&this.$2.removeAllAttachments()};a.prototype.focus=function(){this.$5&&this.$5.focusInput()};e.exports=a}),null);
__d("LiveChatPluginMobilePrompt.react",["ix","cx","Image.react","LiveChatPluginFbts","LiveChatPluginLoggerUtil","MessengerLiveChatPluginEvent","React","ShimButton.react","asset","setTimeout"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();var i,j=24,k=24;c=babelHelpers.inherits(a,b("React").Component);i=c&&c.prototype;function a(){var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=i.constructor).call.apply(a,[this].concat(e)),this.$4=function(){this.props.onClick(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").MOBILE_REDESIGN_PROMPT_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$3=function(){this.props.onCloseButtonClick&&(this.props.onCloseButtonClick(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").MOBILE_PROMPT_CLOSE_CLICKED,this.props.viewerID,this.props.pageID))}.bind(this),c}a.prototype.componentDidMount=function(){b("setTimeout")(function(){this.$2()}.bind(this),750),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").MOBILE_REDESIGN_PROMPT_RENDERED,this.props.viewerID,this.props.pageID)};a.prototype.componentDidUpdate=function(a){(this.props.isLoggedIn&&a.loggedInGreeting!==this.props.loggedInGreeting||!this.props.isLoggedIn&&a.loggedOutGreeting!==this.props.loggedOutGreeting)&&this.$2()};a.prototype.render=function(){return b("React").createElement("div",{className:"_6i-7"},b("React").createElement(b("ShimButton.react"),{className:"_6lg-",onClick:this.$3},b("React").createElement(b("Image.react"),{src:g("491580")})),b("React").createElement(b("ShimButton.react"),{onClick:this.$4},this.$5()))};a.prototype.$2=function(){if(this.$1){var a=this.$1.offsetHeight+j+k;this.props.anchorIframeResizeFn(a,a)}};a.prototype.$5=function(){var a;this.props.isLoggedIn?this.props.loggedInGreeting!=null?a=this.props.loggedInGreeting:a=b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT:this.props.loggedOutGreeting!=null?a=this.props.loggedOutGreeting:a=b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT;return b("React").createElement("div",{className:"_6i-8",ref:function(a){return this.$1=a}.bind(this)},b("React").createElement("div",{className:"_6i-9"},this.props.pageName),b("React").createElement("div",null,a))};e.exports=a}),null);
__d("codedError",["fbt","invariant"],(function(a,b,c,d,e,f,g,h){"use strict";__p&&__p();function a(a){h(0,2095)}a.withParams=function(a,b){h(0,2095)};a._=function(a,b,c,d){b=b(g);c=c(g,d);d=b+": "+c;d=new Error(d);Object.assign(d,{framesToPop:1,code:a,description:c,summary:b});return d};e.exports=a}),null);
__d("XMNLiveChatBlockMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/block/",{page_id:{type:"String",required:!0}})}),null);
__d("XMNLiveChatUnblockMessageController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/plugins/live_chat/unblock/",{page_id:{type:"String",required:!0}})}),null);
__d("LiveChatPluginDialogContainer.react",["cx","AsyncRequest","JSResource","LiveChatPluginAnonymousUserPrompt.react","LiveChatPluginAnonymousUserPromptRedesign.react","LiveChatPluginDialogHeader.react","LiveChatPluginLoggedInMobileInterstitial.react","LiveChatPluginLoggedInUserPrompt.react","LiveChatPluginLoggedInUserPromptRedesign.react","LiveChatPluginLoggerUtil","LiveChatPluginMessageComposer.react","LiveChatPluginMobilePrompt.react","MercuryIDs","MercuryThreadActions","MessengerLiveChatPluginEvent","MessengerLiveChatSettings","MessengerSpinner.react","MessengerState.bs","Placeholder.react","React","ReactCSSTransitionGroup","ReactDOM","UnverifiedXD","UserAgent","XMNLiveChatBlockMessageController","XMNLiveChatUnblockMessageController","emptyFunction","gkx","lazyLoadComponent","performanceAbsoluteNow"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MercuryThreadActions").get(),j=b("lazyLoadComponent")(b("JSResource")("LiveChatPluginDialogBody.react").__setRef("LiveChatPluginDialogContainer.react"));d=babelHelpers.inherits(a,b("React").Component);h=d&&d.prototype;function a(a){__p&&__p();h.constructor.call(this,a),this.state={chatPromptHeight:-1,dialogBodyHeight:-1,informationViewOpen:!1,isPageBlocked:!1},this.$4=(c=b("MessengerLiveChatSettings").qeSettings)!=null?c.showNewDesign:c,this.$9=function(a,b){this.setState({chatPromptHeight:b}),this.props.anchorIframeResizeFn(a)}.bind(this),this.$5=function(){var a=b("ReactDOM").findDOMNode(this),c=b("ReactDOM").findDOMNode(this.$3),d=b("ReactDOM").findDOMNode(this.$1);if(a&&a instanceof HTMLElement&&c&&c instanceof HTMLElement&&d&&d instanceof HTMLElement){a=a.getBoundingClientRect().height-c.getBoundingClientRect().height-d.getBoundingClientRect().height;a!==this.state.dialogBodyHeight&&this.setState({dialogBodyHeight:a})}}.bind(this),this.$17=function(){this.props.onMobilePromptClick&&this.props.onMobilePromptClick(this.props.isLoggedIn,this.props.canSkipContinuousAs,this.props.pageID,this.props.refererUri,this.props.viewerID)}.bind(this),this.$11=function(){var a=b("XMNLiveChatBlockMessageController").getURIBuilder().setString("page_id",this.props.pageID).getURI();this.setState({isPageBlocked:!0});new(b("AsyncRequest"))().setURI(a).setAllowCrossPageTransition(!0).send();b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").BLOCK_MESSAGE_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$13=function(){var a=b("XMNLiveChatUnblockMessageController").getURIBuilder().setString("page_id",this.props.pageID).getURI();this.setState({isPageBlocked:!1});new(b("AsyncRequest"))().setURI(a).setAllowCrossPageTransition(!0).send();b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").UNBLOCK_MESSAGE_CLICKED,this.props.viewerID,this.props.pageID)}.bind(this),this.$12=function(){this.setState(function(){return{informationViewOpen:!1}})}.bind(this),this.$10=function(){this.setState(function(a){return{informationViewOpen:!a.informationViewOpen}},this.$18)}.bind(this),this.$18=function(){b("LiveChatPluginLoggerUtil").logAction(this.state.informationViewOpen?b("MessengerLiveChatPluginEvent").INFORMATION_BUTTON_OPENED:b("MessengerLiveChatPluginEvent").INFORMATION_BUTTON_CLOSED,this.props.viewerID,this.props.pageID)}.bind(this),this.$2=b("performanceAbsoluteNow")()}a.prototype.componentDidMount=function(){this.props.isMobile&&this.props.chatStarted&&this.props.hasMessagingPermission&&window.addEventListener("resize",this.$5);if(this.props.chatStarted&&this.props.hasMessagingPermission&&this.props.isLoggedIn){var a=b("ReactDOM").findDOMNode(this);a&&a instanceof HTMLElement&&(a.addEventListener("click",function(){this.$6()}.bind(this)),this.props.isMobile||a.addEventListener("click",function(){this.$7()}.bind(this)))}};a.prototype.render=function(){__p&&__p();if(this.props.isMobile&&this.$4&&!this.props.chatStarted)return this.$8();var a,c;!this.props.chatStarted||!this.props.hasMessagingPermission?(c=!0,this.props.isLoggedIn?a=b("gkx")("782555")?b("React").createElement(b("LiveChatPluginLoggedInUserPromptRedesign.react"),{anchorIframeResizeFn:this.$9,canSkipContinuousAs:this.props.canSkipContinuousAs,hasMessagingPermission:this.props.hasMessagingPermission,isFacebookApp:this.props.isFacebookApp,key:"logged_in_prompt",loggedInGreeting:this.props.loggedInGreeting,onChatNowClick:this.props.onChatNowClick,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePictureUri:this.props.pageProfilePictureUri,pageResponsivenessText:this.props.pageResponsivenessText,refererUri:this.props.refererUri,threadColor:this.props.threadColor,viewerID:this.props.viewerID,viewerProfilePictureUri:this.props.viewerProfilePictureUri}):b("React").createElement(b("LiveChatPluginLoggedInUserPrompt.react"),{anchorIframeResizeFn:this.$9,canSkipContinuousAs:this.props.canSkipContinuousAs,hasMessagingPermission:this.props.hasMessagingPermission,isFacebookApp:this.props.isFacebookApp,key:"logged_in_prompt",loggedInGreeting:this.props.loggedInGreeting,onChatNowClick:this.props.onChatNowClick,onCloseButtonClick:this.props.onCloseButtonClick,pageID:this.props.pageID,pageProfilePictureUri:this.props.pageProfilePictureUri,refererUri:this.props.refererUri,threadColor:this.props.threadColor,viewerID:this.props.viewerID,viewerProfilePictureUri:this.props.viewerProfilePictureUri}):a=b("gkx")("782555")?b("React").createElement(b("LiveChatPluginAnonymousUserPromptRedesign.react"),{anchorIframeResizeFn:this.$9,key:"anonymous_prompt",loggedOutGreeting:this.props.loggedOutGreeting,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePictureUri:this.props.pageProfilePictureUri,pageResponsivenessText:this.props.pageResponsivenessText,refererUri:this.props.refererUri,threadColor:this.props.threadColor,viewerID:this.props.viewerID}):b("React").createElement(b("LiveChatPluginAnonymousUserPrompt.react"),{anchorIframeResizeFn:this.$9,key:"anonymous_prompt",loggedOutGreeting:this.props.loggedOutGreeting,onCloseButtonClick:this.props.onCloseButtonClick,pageID:this.props.pageID,pageProfilePictureUri:this.props.pageProfilePictureUri,refererUri:this.props.refererUri,threadColor:this.props.threadColor,viewerID:this.props.viewerID})):this.props.isLoggedIn?(c=!1,a=b("React").createElement("div",{className:"_3gog"+(this.props.isMobile?"":" _6ati")+(this.props.isMobile?" _6atj":""),key:"dialog_container",style:this.props.isMobile?null:{borderRadius:"9pt"}},b("React").createElement(b("LiveChatPluginDialogHeader.react"),{informationViewOpen:this.state.informationViewOpen,onCloseButtonClick:this.props.onCloseButtonClick,onInformationButtonClick:this.$10,pageID:this.props.pageID,pageName:this.props.pageName,pageResponsivenessText:this.props.pageResponsivenessText,ref:function(a){return this.$3=a}.bind(this),threadColor:this.props.threadColor,viewerID:this.props.viewerID}),b("React").createElement("div",{className:"_424s"},b("React").createElement(b("Placeholder.react"),{fallback:b("React").createElement("div",{className:"spinner"},b("React").createElement(b("MessengerSpinner.react"),{color:"blue",size:b("MessengerSpinner.react").large_size}))},b("React").createElement(j,{blockMessage:this.$11,deliveryReceipt:b("MessengerState.bs").deliveryReceipts(this.props.messengerState),dialogBodyHeight:this.state.dialogBodyHeight,fromTime:this.$2,isMobile:this.props.isMobile,isMuted:this.props.isMuted,isPageBlocked:this.state.isPageBlocked,informationViewOpen:this.state.informationViewOpen,messengerState:this.props.messengerState,onClick:this.$12,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePictureUri:this.props.pageProfilePictureUri,readReceipt:this.props.readReceipt,threadColor:this.props.threadColor,unblockMessage:this.$13,viewerID:this.props.viewerID}))),b("React").createElement(b("LiveChatPluginMessageComposer.react"),{disableInput:this.props.disableInput,hasMenu:this.props.hasMenu,isMobile:this.props.isMobile,onBlur:this.$14()?this.$15:b("emptyFunction"),onChange:this.$12,onClick:this.$12,onFocus:this.$14()?this.$16:b("emptyFunction"),pageID:this.props.pageID,ref:function(a){return this.$1=a}.bind(this),threadColor:this.props.threadColor,viewerID:this.props.viewerID}))):(a=null,c=!1);var d=this.state.chatPromptHeight!==-1&&c?{height:this.state.chatPromptHeight}:{};if(!b("UserAgent").isBrowser("IE <= 9")&&!this.props.isMobile)return b("React").createElement("div",{className:(this.state.chatPromptHeight!==-1&&!c?"_6atk":"")+(c?"":" _6atl")+" _6atm",style:d},b("React").createElement(b("ReactCSSTransitionGroup"),{transitionName:{enter:"_6atn",enterActive:"_6ato",leave:"_6atp",leaveActive:"_6atq"},transitionEnterTimeout:200,transitionLeaveTimeout:200},a));else return b("React").createElement("div",{className:(!c&&!this.props.isMobile?"_6atl":"")+(!c&&this.props.isMobile?" _6atr":"")+" _6atm",style:d},a)};a.prototype.$8=function(){return this.props.showInterstitialOnPage&&this.props.isLoggedIn?b("React").createElement(b("LiveChatPluginLoggedInMobileInterstitial.react"),{loggedInGreeting:this.props.loggedInGreeting,onChatNowClick:this.props.onChatNowClick,onCloseButtonClick:this.props.onCloseButtonClickWithoutLog,pageID:this.props.pageID,pageName:this.props.pageName,refererUri:this.props.refererUri,viewerID:this.props.viewerID}):b("React").createElement(b("LiveChatPluginMobilePrompt.react"),{anchorIframeResizeFn:this.$9,isLoggedIn:this.props.isLoggedIn,loggedInGreeting:this.props.loggedInGreeting,loggedOutGreeting:this.props.loggedOutGreeting,onClick:this.$17,onCloseButtonClick:this.props.onCloseButtonClickWithoutLog,pageID:this.props.pageID,pageName:this.props.pageName,viewerID:this.props.viewerID})};a.prototype.$15=function(){b("UnverifiedXD").send({type:"liveChatPluginBlurComposer"})};a.prototype.$16=function(){b("UnverifiedXD").send({type:"liveChatPluginFocusComposer"})};a.prototype.$14=function(){return/iPhone|iPad|iPod/.test(navigator.userAgent)};a.prototype.$6=function(){i.markRead(b("MercuryIDs").getThreadIDFromUserID(this.props.pageID))};a.prototype.$7=function(){this.$1&&this.$1.focus()};e.exports=a}),null);
__d("XMNPlatformCustomerChatPluginOpenThreadController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/messages/commerce/customer_chat_plugin/open_thread/",{page_id:{type:"FBID",required:!0},request_id:{type:"String",required:!0},referer_uri:{type:"String",required:!0},ref:{type:"String"}})}),null);
__d("LiveChatPlugin.react",["cx","Arbiter","AsyncRequest","CurrentUser","LiveChatMqttClient","LiveChatPluginConstants","LiveChatPluginDialogContainer.react","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","MessengerLiveChatPluginEvent","MessengerState.bs","React","XMNPlatformCustomerChatPluginOpenThreadController","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=b("MessengerState.bs").jsComponent;c=babelHelpers.inherits(a,b("React").PureComponent);h=c&&c.prototype;function a(){__p&&__p();var a,c;for(var d=arguments.length,e=new Array(d),f=0;f<d;f++)e[f]=arguments[f];return c=(a=h.constructor).call.apply(a,[this].concat(e)),this.$1=!1,this.state={chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),hasMessagingPermission:this.props.hasMessagingPermission,loggedInGreeting:this.props.loggedInGreeting,loggedOutGreeting:this.props.loggedOutGreeting,refParam:this.props.refParam,showInterstitialOnPage:this.props.showInterstitialOnPage},this.$5=function(){this.props.onCloseButtonClick(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").CHAT_DIALOG_CLOSED,this.props.viewerID,this.props.pageID)}.bind(this),this.startChat=function(){this.props.onChatNowClick(),!this.state.hasMessagingPermission?this.$3(!0):this.$6(),b("setTimeout")(function(){this.setState({chatStarted:!0,hasMessagingPermission:!0},function(){b("LiveChatPluginLocalStorageUtil").setChatStarted(!0),b("Arbiter").inform(b("LiveChatPluginConstants").RESET_BADGING)})}.bind(this),30)}.bind(this),this.$6=function(){var a=b("LiveChatPluginLocalStorageUtil").getRefSent();if(!a){a=b("XMNPlatformCustomerChatPluginOpenThreadController").getURIBuilder().setFBID("page_id",this.props.pageID).setString("ref",this.state.refParam).setString("referer_uri",this.props.refererUri).setString("request_id",b("LiveChatPluginLocalStorageUtil").getRequestID()).getRequest(new(b("AsyncRequest"))());a.setAllowCrossPageTransition(!0).setMethod("POST").send();b("LiveChatPluginLocalStorageUtil").setRefSent(!0)}}.bind(this),c}a.prototype.componentDidMount=function(){this.$1=!0,b("CurrentUser").isLoggedIn()||(this.setState({chatStarted:!1}),b("LiveChatPluginLocalStorageUtil").setChatStarted(!1),b("LiveChatPluginLocalStorageUtil").setRefSent(!1)),this.state.chatStarted&&this.state.hasMessagingPermission?(this.$3(!0),b("LiveChatPluginLocalStorageUtil").setChatStarted(!0)):this.props.hasMessagingPermission&&this.$3(!1),this.$2=b("Arbiter").subscribe("Connect.Unsafe.updateCustomerChat",function(a,b){a={};var c=this.$4(b.logged_in_greeting),d=this.$4(b.logged_out_greeting);c!==null&&(a.loggedInGreeting=c);d!==null&&(a.loggedOutGreeting=d);b.ref&&(a.refParam=b.ref);this.setState(a)}.bind(this)),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").PLUGIN_LOADED,null,this.props.pageID,JSON.stringify({greetingDialogDisplay:this.props.greetingDialogDisplay,greetingDialogDelay:this.props.greetingDialogDelay,isMobile:this.props.isMobile,reloaded:this.props.reloaded,isDialogHidden:b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),isMuted:this.props.isMuted}),this.props.threadColor,this.state.loggedInGreeting,this.state.loggedOutGreeting)};a.prototype.componentWillUnmount=function(){this.$1=!1,this.$2&&b("Arbiter").unsubscribe(this.$2)};a.prototype.render=function(){return b("React").createElement("div",{className:"_30ss"+(!this.props.isMobile||!this.state.chatStarted?" _3-8j":"")},b("React").createElement(i,{fbid:this.props.viewerID},function(a){return b("React").createElement(b("LiveChatPluginDialogContainer.react"),{anchorIframeResizeFn:this.props.anchorIframeResizeFn,canSkipContinuousAs:this.props.canSkipContinuousAs,chatStarted:this.state.chatStarted,disableInput:this.props.disableInput,hasMenu:this.props.hasMenu,hasMessagingPermission:this.state.hasMessagingPermission,isFacebookApp:this.props.isFacebookApp,isLoggedIn:this.props.isLoggedIn,isMobile:this.props.isMobile,isMuted:this.props.isMuted,loggedInGreeting:this.state.loggedInGreeting,loggedOutGreeting:this.state.loggedOutGreeting,messengerState:a,onChatNowClick:this.startChat,onCloseButtonClick:this.$5,onCloseButtonClickWithoutLog:this.props.onCloseButtonClick,onMobilePromptClick:this.props.onMobilePromptClick,pageID:this.props.pageID,pageName:this.props.pageName,pageProfilePictureUri:this.props.pageProfilePictureUri,pageResponsivenessText:this.props.pageResponsivenessText,readReceipt:this.props.readReceipt,refererUri:this.props.refererUri,showInterstitialOnPage:this.state.showInterstitialOnPage,threadColor:this.props.threadColor?this.props.threadColor:"#0084FF",viewerID:this.props.viewerID,viewerProfilePictureUri:this.props.viewerProfilePictureUri})}.bind(this)))};a.prototype.$3=function(a){b("LiveChatMqttClient").setUp(this.props.pageID,this.props.viewerID,null,a?this.$6:null)};a.prototype.$4=function(a){if(!a)return null;else if(Array.from(a).length>80)return null;else return a};a.prototype.updateShowInterstitialOnPage=function(a){this.$1&&this.setState({showInterstitialOnPage:a})};e.exports=a}),null);
__d("LiveChatPluginBadgeSVG.react",["React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){var a={fontSize:"8px",text:this.props.unreadCount,cx:"12",cy:"8",rx:"8",ry:"8"};if(this.props.unreadCount===0)return null;else this.props.unreadCount>20?(a.text="20+",a.cx="11",a.rx="9"):this.props.unreadCount<10&&(a.fontSize="9px");return b("React").createElement("svg",{x:"40",y:"0",width:"20",height:"20"},b("React").createElement("ellipse",{cx:a.cx,cy:a.cy,rx:a.rx,ry:a.ry,fill:"#e8423e"}),b("React").createElement("text",{x:"12",y:"8",textAnchor:"middle",fill:"#ffffff",fontSize:a.fontSize,fontFamily:"Arial",dy:".4em"},a.text))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginMessengerIconSVGWithColor.react",["React","gkx"],(function(a,b,c,d,e,f){"use strict";var g;g=babelHelpers.inherits(a,b("React").Component);g&&g.prototype;a.prototype.render=function(){return b("gkx")("802745")?b("React").createElement("svg",{x:"0",y:"0",width:"60px",height:"60px"},b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("g",null,b("React").createElement("circle",{fill:this.props.threadColor,cx:"30",cy:"30",r:"30"}),b("React").createElement("svg",{x:"10",y:"10"},b("React").createElement("g",{transform:"translate(0.000000, -10.000000)",fill:"#FFFFFF"},b("React").createElement("g",{id:"logo",transform:"translate(0.000000, 10.000000)"},b("React").createElement("path",{d:"M20,0 C31.2666,0 40,8.2528 40,19.4 C40,30.5472 31.2666,38.8 20,38.8 C17.9763,38.8 16.0348,38.5327 14.2106,38.0311 C13.856,37.9335 13.4789,37.9612 13.1424,38.1098 L9.1727,39.8621 C8.1343,40.3205 6.9621,39.5819 6.9273,38.4474 L6.8184,34.8894 C6.805,34.4513 6.6078,34.0414 6.2811,33.7492 C2.3896,30.2691 0,25.2307 0,19.4 C0,8.2528 8.7334,0 20,0 Z M7.99009,25.07344 C7.42629,25.96794 8.52579,26.97594 9.36809,26.33674 L15.67879,21.54734 C16.10569,21.22334 16.69559,21.22164 17.12429,21.54314 L21.79709,25.04774 C23.19919,26.09944 25.20039,25.73014 26.13499,24.24744 L32.00999,14.92654 C32.57369,14.03204 31.47419,13.02404 30.63189,13.66324 L24.32119,18.45264 C23.89429,18.77664 23.30439,18.77834 22.87569,18.45674 L18.20299,14.95224 C16.80079,13.90064 14.79959,14.26984 13.86509,15.75264 L7.99009,25.07344 Z"}))))))):b("React").createElement("svg",{x:"0",y:"0",width:"60",height:"60"},b("React").createElement("g",{stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd"},b("React").createElement("g",null,b("React").createElement("g",null,b("React").createElement("circle",{fill:this.props.threadColor,cx:"30",cy:"30",r:"30"}),b("React").createElement("g",{transform:"translate(10.000000, 11.000000)",fill:"#FFFFFF"},b("React").createElement("path",{d:"M0,18.7150914 C0,8.37723141 8.956743,0 20,0 C31.043257,0 40,8.37723141 40,18.7150914 C40,29.0529515 31.043257,37.4301829 20,37.4301829 C18,37.4301829 16.0763359,37.1551856 14.2544529,36.6459314 L6.95652174,40 L6.95652174,33.0434783 C2.44929143,29.6044708 0,24.5969773 0,18.7150914 Z M16.9276495,19.6993886 L22.109375,25.0798234 L33.0434783,13.4782609 L23.0672554,18.9962636 L17.890625,13.6158288 L6.95652174,25.2173913 L16.9276495,19.6993886 Z"}))))))};function a(){g.apply(this,arguments)}e.exports=a}),null);
__d("LiveChatPluginBadgableMessengerIcon.react",["Arbiter","LiveChatPluginBadgeSVG.react","LiveChatPluginConstants","LiveChatPluginDefaultMessengerIconSVG.react","LiveChatPluginLocalStorageUtil","LiveChatPluginMessengerIconSVGWithColor.react","React"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("React").Component);g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.state={unreadCount:this.props.unreadCount},this.$1=null,b}a.prototype.componentDidMount=function(){this.$1=b("Arbiter").subscribe(b("LiveChatPluginConstants").UNREAD_COUNT_UPDATE,function(a,b){this.setState({unreadCount:b})}.bind(this))};a.prototype.componentWillUnmount=function(){this.$1&&b("Arbiter").unsubscribe(this.$1)};a.prototype.render=function(){var a=this.props.threadColor!=null?b("React").createElement(b("LiveChatPluginMessengerIconSVGWithColor.react"),{threadColor:this.props.threadColor}):b("React").createElement(b("LiveChatPluginDefaultMessengerIconSVG.react"),null),c=null;(!b("LiveChatPluginLocalStorageUtil").getChatStarted()||b("LiveChatPluginLocalStorageUtil").getIsDialogHidden())&&(c=b("React").createElement(b("LiveChatPluginBadgeSVG.react"),{unreadCount:this.state.unreadCount}));return b("React").createElement("svg",{width:"60px",height:"60px",viewBox:"0 0 60 60"},a,c)};e.exports=a}),null);
__d("LiveChatGreetingDialogDisplayMode",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({UNSET:"unset",SHOW:"show",HIDE:"hide",FADE:"fade"})}),null);
__d("LiveChatPluginMount",["Arbiter","Bootloader","CurrentUser","LiveChatGreetingDialogDisplayMode","LiveChatPlugin.react","LiveChatPluginBadgableMessengerIcon.react","LiveChatPluginConstants","LiveChatPluginFbts","LiveChatPluginLocalStorageUtil","LiveChatPluginLoggerUtil","MessengerLiveChatPluginEvent","MessengerLiveChatPluginTypedLogger","MessengerLiveChatSettings","Plugin","PluginOptin","React","ReactDOM","ShimButton.react","Style","UnverifiedXD","performanceAbsoluteNow"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={HIDE:"hide",SHOW:"show",FADE_OUT:"fade_out"};function a(a){__p&&__p();var c=a.container,d=a.canSkipContinuousAs,e=a.disableInput,f=a.greetingDialogDisplay,g=a.greetingDialogDelay,h=a.greetingDialogFadeDelay,i=a.hasMenu,j=a.hasMessagingPermission;a.icebreakerQuestions;var k=a.initSeqID,l=a.isFacebookApp,m=a.isThreadDeleted,n=a.isMuted,o=a.loggedInGreeting,p=a.loggedOutGreeting,q=a.originDomain,r=a.pageID,s=a.pageName,t=a.pageProfilePictureUri,u=a.pageResponsivenessText;a.qeParameters;var v=a.readReceipt,w=a.refererUri,x=a.refParam,y=a.reloaded,z=a.requestID,A=a.soundURLs,B=a.threadCSSColor,C=a.unreadCount;a=a.viewerProfilePictureUri;this.$13=function(a,d,e,f,c){this.$22();var g=this.$10?this.$10:b("LiveChatPluginFbts").DEFAULT_LOGGED_IN_GREETING_TEXT.toString(),h=this.$11?this.$11:b("LiveChatPluginFbts").DEFAULT_LOGGED_OUT_GREETING_TEXT.toString();a?d?this.$23():this.$24(e,c,f,g,h):this.$25(e,f,h)}.bind(this);this.$19=function(){this.$22(),this.$20()}.bind(this);this.$18=function(){this.$22(),b("UnverifiedXD").send({type:"liveChatPluginExpandDialogIframe",isMobile:this.$3})}.bind(this);try{var D,E=b("performanceAbsoluteNow")();this.$3=/iPhone|iPod|iPad|Android|Mobile/i.test(navigator.userAgent);this.$10=o;this.$11=p;k||(k=0);var F=b("CurrentUser").isLoggedIn(),G=b("CurrentUser").getID();this.$5=(D=b("MessengerLiveChatSettings").qeSettings)!=null?D.showNewDesign:D;var H=b("LiveChatPluginLocalStorageUtil").getLocalState(q,r,G)===null;this.$12(m,j,q,r,y,z,G,f,g,d,F);F&&b("Bootloader").loadModules(["LiveChatPluginAlerts","MercurySyncDeltaHandler"],function(a,c){a.init(G,r,s,A,n,C),c.get(),b("Arbiter").inform("MercurySyncDeltaHandler/initSeqID",{fbid:G,seqID:k})},"LiveChatPluginMount");b("UnverifiedXD").send({type:"liveChatPluginPrepareAnchorIframe",chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),dialogHidden:this.$2,isMobile:this.$3,passesMobileRedesignGK:this.$5,showInterstitialOnPage:this.$9});var I=b("React").createElement(b("ShimButton.react"),{onClick:function(){this.$3&&this.$5&&!b("LiveChatPluginLocalStorageUtil").getChatStarted()?this.$13(F,d,r,w,G):this.$14(G,r)}.bind(this),style:{cursor:"pointer",outline:"none"}},b("React").createElement(b("LiveChatPluginBadgableMessengerIcon.react"),{threadColor:B,unreadCount:C}));b("Arbiter").subscribeOnce("blankIframeAck",function(a,c){this.$1=c,b("ReactDOM").render(I,c.document.body),b("Style").set(c.document.body,"margin","0"),this.$15(C,j),this.$16(g,f,h,H)}.bind(this));b("Arbiter").subscribe("Connect.Unsafe.CustomerChat.isDialogHidden",function(a,c){c.is_dialog_hidden!=null&&(this.$2=c.is_dialog_hidden,b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(this.$2),b("Arbiter").inform(b("LiveChatPluginConstants").RESET_BADGING))}.bind(this));D=null;v&&v.get("watermark")&&v.get("action")&&(D={watermark:Number(v.get("watermark")),action:Number(v.get("action"))});b("ReactDOM").render(b("React").createElement(b("LiveChatPlugin.react"),{anchorIframeResizeFn:this.$17,canSkipContinuousAs:d,disableInput:e,greetingDialogDelay:g,greetingDialogDisplay:f,hasMenu:i,hasMessagingPermission:j,isFacebookApp:l,isLoggedIn:F,isMobile:this.$3,isMuted:n,loggedInGreeting:o,loggedOutGreeting:p,onChatNowClick:this.$18,onCloseButtonClick:this.$19,onMobilePromptClick:this.$13,pageID:r,pageName:s,pageProfilePictureUri:t,pageResponsivenessText:u,readReceipt:D,ref:function(a){return this.$8=a}.bind(this),refererUri:w,refParam:x,reloaded:y,showInterstitialOnPage:this.$9,threadColor:B,viewerID:G,viewerProfilePictureUri:a}),c);this.$15(C,j);b("LiveChatPluginLoggerUtil").logTTI(r,E)}catch(a){new(b("MessengerLiveChatPluginTypedLogger"))().setPageID(r).setRequestID(b("LiveChatPluginLocalStorageUtil").getRequestID()).setEvent(b("MessengerLiveChatPluginEvent").PLUGIN_LOAD_FAILED).setEventTimestamp(Date.now()).setExceptionType(a.name).setExceptionMessage(a.message).setExceptionStacktrace(a.stack).logVital()}}a.prototype.$16=function(a,c,d,e){__p&&__p();if(!e)return;e=!1;switch(c){case b("LiveChatGreetingDialogDisplayMode").FADE:e=!this.$3&&a>0;break;case b("LiveChatGreetingDialogDisplayMode").SHOW:e=a>0;break;case b("LiveChatGreetingDialogDisplayMode").UNSET:if(this.$3&&this.$5){c=(c=b("MessengerLiveChatSettings").qeSettings)!=null?c.promptDefaultBehavior:c;if(c===g.FADE_OUT){window.setTimeout(function(){this.$2||this.$20()}.bind(this),5e3);return}}else e=this.$3?!1:a>0;break;case b("LiveChatGreetingDialogDisplayMode").HIDE:break;default:break}if(!e)return;this.$7=window.setTimeout(function(){this.$21(d)}.bind(this),a)};a.prototype.$21=function(a){this.$2&&(this.$20(),a&&(this.$6=window.setTimeout(function(){this.$2||this.$20()}.bind(this),a)))};a.prototype.$17=function(a){b("UnverifiedXD").send({type:"liveChatPluginResizeAnchorIframe",height:a})};a.prototype.$15=function(a,c){if(this.$1){b("UnverifiedXD").send({type:"liveChatPluginShowBubbleIframe",dialogHidden:this.$2,showBadge:a>0&&(b("LiveChatPluginLocalStorageUtil").getChatStarted()?this.$2:c)});return}b("UnverifiedXD").send({type:"liveChatPluginGetBubbleIframe",fromIframe:window.name})};a.prototype.$14=function(a,c){this.$22();this.$20();var d=b("LiveChatPluginLocalStorageUtil").getChatStarted();d?d=this.$2?b("MessengerLiveChatPluginEvent").CHAT_DIALOG_CLOSED:b("MessengerLiveChatPluginEvent").CHAT_DIALOG_OPENED:d=this.$2?b("MessengerLiveChatPluginEvent").CHAT_NOW_PROMPT_CLOSED:b("MessengerLiveChatPluginEvent").CHAT_NOW_PROMPT_OPENED;b("LiveChatPluginLoggerUtil").logAction(d,a,c)};a.prototype.$23=function(){b("UnverifiedXD").send({type:"liveChatPluginShowInterstitialOnPage",dialogHidden:this.$2}),window.setTimeout(function(){this.$8&&this.$8.updateShowInterstitialOnPage(!0)}.bind(this),150),this.$2=!1,b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(this.$2)};a.prototype.$24=function(a,c,d,e,f){this.$2||(this.$20(),this.$2=!0,b("LiveChatPluginLocalStorageUtil").setIsDialogHidden(this.$2)),new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!0,page_id:a,request_id:b("LiveChatPluginLocalStorageUtil").getRequestID(),switch_user:!1,greeting_text:e}).start(),b("Arbiter").subscribe(b("Plugin").CONNECT,function(){this.$8&&this.$8.startChat(),this.$2&&this.$20()}.bind(this)),b("Arbiter").subscribe(b("LiveChatPluginConstants").SWITCH_ACCOUNT,function(){this.$26(a,c,d,f),this.$2||this.$20()}.bind(this))};a.prototype.$25=function(a,c,d){this.$2||this.$20(),new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:a,switch_user:!1,greeting_text:d}).addReturnParams({customer_chat_origin_uri:c,referer_uri:c}).start()};a.prototype.$20=function(){b("UnverifiedXD").send({type:this.$2?"liveChatPluginShowDialogIframe":"liveChatPluginHideDialogIframe",chatStarted:b("LiveChatPluginLocalStorageUtil").getChatStarted(),isMobile:this.$3})};a.prototype.$26=function(a,c,d,e){new(b("PluginOptin"))("customer_chat").addLoginParams({logged_in:!1,page_id:a,switch_user:!0,greeting_text:e}).addReturnParams({referer_uri:d}).start(),b("LiveChatPluginLoggerUtil").logAction(b("MessengerLiveChatPluginEvent").NOT_YOU_CLICKED,c,a)};a.prototype.$22=function(){this.$7&&window.clearTimeout(this.$7),this.$6&&window.clearTimeout(this.$6)};a.prototype.$12=function(a,c,d,e,f,h,i,j,k,l,m){__p&&__p();f&&(b("LiveChatPluginLocalStorageUtil").init(d,e,"0"),h=b("LiveChatPluginLocalStorageUtil").getRequestID(),b("LiveChatPluginLocalStorageUtil").removeLocalState(d,e,i));b("LiveChatPluginLocalStorageUtil").init(d,e,i);var n=b("LiveChatPluginLocalStorageUtil").getLocalState(d,e,i);if(!n){if(f)this.$2=!1;else if(j!==b("LiveChatGreetingDialogDisplayMode").UNSET)this.$2=j===b("LiveChatGreetingDialogDisplayMode").HIDE||k>0;else if(this.$5&&this.$3){j=(n=b("MessengerLiveChatSettings").qeSettings)!=null?n.promptDefaultBehavior:n;this.$2=j===g.HIDE;this.$9=j!==null&&j===g.HIDE&&l&&m}else this.$2=this.$3?!0:k>0;b("LiveChatPluginLocalStorageUtil").setLocalState(d,e,i,{chatStarted:f,isDialogHidden:this.$2,requestID:h,refSent:!1})}else this.$2=b("LiveChatPluginLocalStorageUtil").getIsDialogHidden(),this.$9=!1,(!c||a)&&(b("LiveChatPluginLocalStorageUtil").setChatStarted(!1),b("LiveChatPluginLocalStorageUtil").setRefSent(!1)),b("LiveChatPluginLocalStorageUtil").setRequestID(h)};e.exports=a}),null);