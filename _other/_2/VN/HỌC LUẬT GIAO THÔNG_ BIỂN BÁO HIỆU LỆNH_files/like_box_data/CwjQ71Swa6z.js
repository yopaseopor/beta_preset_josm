if (self.CavalryLogger) { CavalryLogger.start_js(["uV5bS"]); }

__d("XBasicFBNuxDismissController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/megaphone/dismiss_fbnux/",{nux_id:{type:"Int",required:!0}})}),null);
__d("XBasicFBNuxViewController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/ajax/megaphone/view_fbnux/",{nux_id:{type:"Int",required:!0}})}),null);
__d("BasicFBNux",["AsyncRequest","XBasicFBNuxDismissController","XBasicFBNuxViewController"],(function(a,b,c,d,e,f){var g={subscribeHide:function(a,b){a.subscribe("hide",g.onDismiss.bind(this,b))},onView:function(a){a=b("XBasicFBNuxViewController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()},onDismiss:function(a){a=b("XBasicFBNuxDismissController").getURIBuilder().setInt("nux_id",a).getURI();new(b("AsyncRequest"))().setURI(a).send()}};e.exports=g}),null);
__d("FullScreen",["ArbiterMixin","CSS","Event","Keys","UserAgent","UserAgent_DEPRECATED","mixin","throttle"],(function(a,b,c,d,e,f){__p&&__p();var g,h={},i=!1,j=function(a){b("Event").getKeyCode(a)===b("Keys").ESC&&a.stopPropagation()},k=function(){i||(document.addEventListener("keydown",j,!0),i=!0)},l=function(){i&&(document.removeEventListener("keydown",j,!0),i=!1)};g=babelHelpers.inherits(a,b("mixin")(b("ArbiterMixin")));g&&g.prototype;a.prototype.listenForEvent=function(a){"use strict";var c=b("throttle")(this.onChange,0,this);h[a.id]||(h[a.id]=!0,b("Event").listen(a,{webkitfullscreenchange:c,mozfullscreenchange:c,MSFullscreenChange:c,fullscreenchange:c}))};a.prototype.enableFullScreen=function(a){"use strict";__p&&__p();this.listenForEvent(a);if(a.webkitRequestFullScreen)b("UserAgent_DEPRECATED").chrome()?a.webkitRequestFullScreen(Element.ALLOW_KEYBOARD_INPUT):a.webkitRequestFullScreen();else if(a.mozRequestFullScreen)a.mozRequestFullScreen();else if(a.msRequestFullscreen)k(),a.msRequestFullscreen();else if(a.requestFullScreen)a.requestFullScreen();else return!1;return!0};a.prototype.disableFullScreen=function(){"use strict";__p&&__p();if(document.webkitCancelFullScreen)document.webkitCancelFullScreen();else if(document.mozCancelFullScreen)document.mozCancelFullScreen();else if(document.msExitFullscreen)document.msExitFullscreen();else if(document.cancelFullScreen)document.cancelFullScreen();else if(document.exitFullScreen)document.exitFullScreen();else return!1;return!0};a.prototype.isFullScreen=function(){"use strict";return document.webkitIsFullScreen||document.fullScreen||document.mozFullScreen||document.msFullscreenElement};a.prototype.toggleFullScreen=function(a){"use strict";if(this.isFullScreen()){this.disableFullScreen();return!1}else return this.enableFullScreen(a)};a.prototype.onChange=function(){"use strict";var a=this.isFullScreen();b("CSS").conditionClass(document.body,"fullScreen",a);this.inform("changed");a||l()};a.prototype.isSupportedWithKeyboardInput=function(){"use strict";return this.isSupported()&&!b("UserAgent").isBrowser("Safari")};a.prototype.isSupported=function(){"use strict";var a=document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled||document.fullscreenEnabled;return a||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen||document.cancelFullScreen||document.exitFullScreen};function a(){"use strict";g.apply(this,arguments)}c=new a();d=b("throttle")(c.onChange,0,c);b("Event").listen(document,{webkitfullscreenchange:d,mozfullscreenchange:d,MSFullscreenChange:d,fullscreenchange:d});e.exports=c}),null);
__d("ViewportTrackingHelper",["DOMDimensions","ge","getElementPosition","getElementRect","getViewportDimensions"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g={isDescendantOf:function(a,b){if(a===b)return!0;while(a&&a.parentElement){if(a.parentElement===b)return!0;a=a.parentElement}return!1},isVisible:function(a,c){return g.isVisibleInDimension(b("getViewportDimensions")(),a,c)},isVisibleUnderBluebar:function(a,c){var d=b("ge")("pagelet_bluebar");return d==null?g.isVisible(a,c):g.isVisibleInDimension(b("getViewportDimensions")(),a,c,d.clientHeight)},isFullyVisibleInContainer:function(a,c){a=b("getElementRect")(a);c=b("getElementRect")(c);return c.top>=a.top&&c.bottom<=a.bottom&&c.left>=a.left&&c.right<=a.right},isVisibleInDimension:function(a,c,d,e){e===void 0&&(e=0);var f=b("getElementPosition")(c);c=b("DOMDimensions").getElementDimensions(c);if(!f.x&&!f.y&&!c.height&&!c.width)return!1;e=Math.max(f.y,e);f=Math.min(f.y+c.height,a.height);a=Math.min(c.height,d);return f-e>=a},getHeightIfVisible:function(a,c){var d=this.getHeightInViewport(a);a=b("DOMDimensions").getElementDimensions(a);a=Math.min(a.height,c);return d>=a?d:0},getHeightInViewport:function(a){var c=b("getElementPosition")(a);a=b("DOMDimensions").getElementDimensions(a);if(!c.x&&!c.y&&!a.x&&!a.y)return 0;var d=b("getViewportDimensions")().height,e=Math.max(c.y,0);c=Math.min(c.y+a.height,d);return c-e},getElementsInViewIgnoreHeight:function(a){var b=!1,c=[];for(var d=0;d<a.length;d++){var e=a[d];if(this.isVisible(e,0,null))c.push(e),b=!0;else if(b)break}return c}};e.exports=g}),null);
__d("getFullScreenElement",[],(function(a,b,c,d,e,f){function a(){return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement}e.exports=a}),null);
__d("VideoPermalinkURI",[],(function(a,b,c,d,e,f){__p&&__p();var g={isValid:function(a){return g.parse(a)!==null},parse:function(a){__p&&__p();if(this.isValidLegacy(a)){var b=a.getQueryData();return b.v?{video_id:b.v,set_token:b.set}:null}b=a.getPath();b[b.length-1]==="/"&&(b=b.substring(0,b.length-1));a=b.split("/");if(a.length>=3&&a[2]==="videos")if(a.length===4&&this.isNumeric(a[3]))return{video_id:a[3],set_token:null};else if(a.length===5){if(this.isNumeric(a[4]))return{video_id:a[4],set_token:a[3]};else if(this.isNumeric(a[3]))return{video_id:a[3],story_id:a[4]}}else if(a.length===6&&this.isNumeric(a[4]))return{video_id:a[4],set_token:a[3],story_id:a[5]};return null},isNumeric:function(a){return/^\d+$/.exec(a)!==null},isValidLegacy:function(a){a=a.getPath();a[a.length-1]==="/"&&(a=a.substring(0,a.length-1));return a==="/photo.php"||a==="/force_photo/photo.php"||a==="/photo"||a==="/force_photo/photo/index.php"||a==="/photo/index.php"||a==="/force_photo/photo"||a==="/video.php"||a==="/video/video.php"?!0:!1},getCustomStoryURI:function(a,b){return a+b+"/"}};e.exports=g}),null);
__d("UITinyViewportAction",["Arbiter","ArbiterMixin","BanzaiScuba","CSS","Event","getDocumentScrollElement","queryThenMutateDOM"],(function(a,b,c,d,e,f){__p&&__p();var g=document.documentElement,h,i,j,k,l=!1,m=!1,n=!1,o=!1,p={init:function(a){__p&&__p();a=b("queryThenMutateDOM").bind(null,function(){k=k||b("getDocumentScrollElement")(),i=g.clientWidth<k.scrollWidth-1,j=g.clientHeight<400,h=j||i},function(){(h!==l||i!==m||j!==n)&&(b("CSS").conditionClass(g,"tinyViewport",h),b("CSS").conditionClass(g,"tinyWidth",i),b("CSS").conditionClass(g,"tinyHeight",j),b("CSS").conditionClass(g,"canHaveFixedElements",!h),p.inform("change",h),b("Arbiter").inform("tinyViewport/change",{tiny:h,tinyWidth:i,tinyHeight:j},"state"),l=h,m=i,n=j);if(!o){var a=new(b("BanzaiScuba"))("www_tinyview_port",null,{addBrowserFields:!0});a.addInteger("clientWidth",g.clientWidth);a.addInteger("clientHeight",g.clientHeight);a.addNormal("view",h?"tiny":"normal");a.post();o=!0}},"TinyViewport");a();b("Arbiter").subscribe("quickling/response",a);b("Event").listen(window,"resize",a)},isTiny:function(){return h},isTinyWidth:function(){return i},isTinyHeight:function(){return j}};Object.assign(p,b("ArbiterMixin"));e.exports=p}),null);
__d("VideoScrollTracker",["Scroll"],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$2=-1,this.$3=!1,this.$4=a}a.prototype.$5=function(){return this.$4?b("Scroll").getTop(this.$4):null};a.prototype.onScroll=function(){if(this.$3){var a=this.$5();a!==null&&a!==void 0&&(this.$1=a<this.$2?"up":"down",this.$6(a))}};a.prototype.$6=function(a){this.$2=a};a.prototype.start=function(){this.$3=!0;var a=this.$5();a!==null&&a!==void 0&&this.$6(a)};a.prototype.stop=function(){this.$3=!1};a.prototype.getLastScrollDirection=function(){return this.$1};a.prototype.destroy=function(){this.stop(),this.$4=null};e.exports=a}),null);
__d("VideoAutoplayRule",[],(function(a,b,c,d,e,f){"use strict";__p&&__p();function a(a){this.$1=!0,this.videoUnit=a}a.prototype.calculateAutoplayScore=function(){throw new Error("Should be overridden")};a.prototype.enableRule=function(){this.$1=!0};a.prototype.disableRule=function(){this.$1=!1};a.prototype.isEnabled=function(){return this.$1};e.exports=a}),null);
__d("DocumentFocusForMutedVideoAutoplayRule",["VideoAutoplayRule"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("VideoAutoplayRule"));g=c&&c.prototype;function a(a){g.constructor.call(this,a)}a.prototype.calculateAutoplayScore=function(){return this.isEnabled()?this.$DocumentFocusForMutedVideoAutoplayRule1():1};a.prototype.$DocumentFocusForMutedVideoAutoplayRule1=function(){var a=this.videoUnit.getVideoPlayerController();return a&&a.isMuted()?document.hasFocus()?1:0:1};e.exports=a}),null);
__d("VideoPlayerLoggerSource",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({ADS:"ads",ANIMATED_IMAGE_SHARE:"animated_image_share",ASSET:"asset",BALLOT:"ballot",BROADCAST_REQUEST_ATTACHMENT:"broadcast_request_attachment",CAMERA_POST:"camera_post",CANDIDATE_VIDEOS:"candidate_videos",CHAINED:"chained",CHAINED_SUGGESTION:"chained_suggestion",CHANNEL:"channel",CONTINUE_WATCHING_RECOMMENDATION:"continue_watching_recommendation",EMBEDDED:"embedded",EMBEDDED_PAGE_PLUGIN:"embedded_page_plugin",EMBEDDED_VIDEO:"embedded_video",EMBEDDED_VIDEO_FROM_UFI:"embedded_video_from_ufi",EMBEDDED_VIDEO_PREVIEW:"embedded_video_preview",GAMEROOM_LIVE_VIDEO_HERO_BANNER:"gameroom_live_video_hero_banner",GAMEROOM_LIVE_VIDEO_TAB:"gameroom_live_video_tab",GAMEROOM_LIVE_VIDEO_THUMBNAIL:"gameroom_live_video_thumbnail",GAMES_VIDEO_LIVE_RECOMMENDATION:"games_video_live_recommendation",GAMES_VIDEO_HOME:"games_video_home",GAMES_VIDEO_HOME_HERO:"games_video_home_hero",GAMES_VIDEO_HOME_STREAMER_HUB:"games_video_home_streamer_hub",GAMES_VIDEO_SINGLE_GAME:"games_video_single_game",GAMES_VIDEO_TOP_WEEKLY_CLIPS_STREAMER_PAGE:"games_video_top_weekly_clips_streamer_page",GAMES_VIDEO_SEARCH_UNIT:"games_video_search_unit",GAMES_VIDEO_SOCIAL_PLUGIN:"games_video_social_plugin",GAMES_VIDEO_HUB:"games_video_hub",GAMES_VIDEO_HUB_REDIRECT_NOTIFICATION:"games_video_hub_redirect_notification",GAMES_VIDEO_HUB_REDIRECT_UNKNOWN:"games_video_hub_redirect_unknown",GROUP_LIVE_VIDEO_MODULE:"group_live_video_module",HTML5:"html5",INLINE:"inline",INSIGHTS:"insights",INTERN_CURATION:"intern_curation",INTERN_EXAMPLE:"intern_example",ISSUES_MODULE:"issues_module",LIVE_BEEPER:"live_beeper",LIVE_CONTROL_PANEL:"live_control_panel",LIVE_MAP:"live_map",LIVE_MAP_LISTVIEW:"live_map_listview",LIVE_MAP_SIDEBAR:"live_map_sidebar",LIVE_MAP_TOOLTIP:"live_map_tooltip",LIVE_MAP_TOOLTIP_FROM_LISTVIEW:"live_map_tooltip_from_listview",LIVE_MAP_TOOLTIP_FROM_MAP:"live_map_tooltip_from_map",LIVE_MAP_TOOLTIP_FROM_WEBGL:"live_map_tooltip_from_webgl",LIVE_VIDEO_BROADCAST:"live_video_broadcast",LIVE_VIDEO_PREVIEW:"live_video_preview",LIVING_ROOM:"living_room",LIVING_ROOM_COMMENTATING:"living_room_commentating",LIVING_ROOM_RECAP_FULLSCREEN:"living_room_recap_fullscreen",LIVING_ROOM_RECAP_INLINE:"living_room_recap_inline",LOOKBACK:"lookback",MEDIA_COLLAGE:"media_collage",MEMORY_LEAK_TEST:"memory_leak_test",MESSAGING:"messaging",MISC:"misc",MOBILE:"mobile",NOT_SPECIFIED_PLEASE_FIX:"not_specified_please_fix",OFFERS_DETAIL:"offers_detail",PAGE_LIVE_VIDEO_MODULE:"page_live_video_module",PAGES_FINCH_MAIN_VIDEO:"pages_finch_main_video",PAGES_FINCH_THUMBNAIL_VIDEO:"pages_finch_thumbnail_video",PAGES_FINCH_TRAILER:"pages_finch_trailer",PAGES_VIDEO_SET:"pages_video_set",PAGES_MESSAGING_VIDEO:"pages_messaging_video",PAGES_COVER:"pages_cover",PAGES_TIMELINE_PAGES_COVER:"pages_timeline_pages_cover",PAGES_COVER_HOVER:"pages_cover_hover",PAGES_HOME_HERO:"pages_home_hero",VIDEO_PAGE_SPOTLIGHT_UNIT:"video_page_spotlight_unit",VIDEO_PAGE_VIDEO_LIST:"video_page_video_list",PERMALINK:"permalink",PROFILE_OVERVIEW:"profile_overview",PROFILE_COVER:"profile_cover",PROFILE_VIDEO:"profile_video",PROFILE_VIDEO_HOVERCARD:"profile_video_hovercard",PROFILE_VIDEO_THUMB:"profile_video_thumb",REPORT_FLOW:"report_flow",REVIEW:"review",SEARCH_LIVE_VIDEO_MODULE:"search_live_video_module",SERP_VIDEOS_TAB:"serp_videos_tab",SLIDESHOW:"slideshow",SNOWLIFT:"snowlift",SRT_REVIEW:"srt_review",TAHOE:"tahoe",TOPIC_CHANNEL_LIVING_ROOM:"topic_channel_living_room",TOPIC_GAMING:"topic_gaming",TRAILER_OG_ATTACHMENT:"trailer_og_attachment",TRAILER_TIMELINE_COLLECTIONS:"trailer_timeline_collections",TRAILER_TIMELINE_UNIT:"trailer_timeline_unit",TRIVIA_GAME_ADMIN_DASHBOARD:"trivia_game_admin_dashboard",TV:"tv",USER_VIDEO_TAB:"user_video_tab",VIDEO_COPYRIGHT_PREVIEW:"video_copyright_preview",VIDEO_HOME_INLINE:"video_home_inline",VIDEO_HOME_EXPLORE:"discover",VIDEO_HOME_WATCHLIST:"watchlist",VIDEO_INLINE_CHAINING:"video_inline_chaining",VIDEOHUB_FEATURED:"videohub_featured",VIDEOHUB_LIVE:"videohub_live",VIDEOHUB_PLAYLIST:"videohub_playlist",WATCH_SCROLL:"watch_scroll",UFI_COMMENT_ATTACHMENT:"ufi_comment_attachment",LIVE_AUTOPLAY_WATCH_AND_SCROLL:"live_autoplay_watch_and_scroll",GAMES_VIDEO_STREAMER_SEARCH_UNIT:"games_video_streamer_unit",GAMES_STREAMER_DASHBOARD:"games_streamer_dashboard",ADS_PREVIEW:"ads_preview",VIDEO_PAGE_UNSPECIFIED:"video_page_unspecified",SPOTLIGHT_LIVE:"spotlight_live",SPOTLIGHT_FEATURED:"spotlight_featured",SPOTLIGHT_POPULAR:"spotlight_popular",SPOTLIGHT_UNKNOWN:"spotlight_unknown",VIDEOS_CARD:"videos_card",VIDEOS_TAB:"videos_tab",PLAYLISTS_TAB:"playlists_tab",PLAYLISTS_CARD:"playlists_card",PLAYLIST_PAGE:"playlist_page",CIVIC_PROPOSAL:"civic_proposal",BUSINESS_FEED:"business_feed",REDIRECTED_WATCH_SERP:"redirected_watch_serp",SOTTO_CONSIDERATION_PAGE:"sotto_consideration_page"})}),null);
__d("VideoAutoplayControllerAbortLoadingHelper",["invariant","VideoPlayerAbortLoadingExperiment","VideoPlayerExperiments","VideoPlayerLoggerSource","VideoPlayerShakaGlobalConfig","getViewportDimensions"],(function(a,b,c,d,e,f,g){__p&&__p();function h(){"use strict";this.$1=new Set(),this.$2=new Map()}h.prototype.maybeAbortLoading=function(){"use strict";__p&&__p();for(var a=this.$1,c=Array.isArray(a),d=0,a=c?a:a[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var e;if(c){if(d>=a.length)break;e=a[d++]}else{d=a.next();if(d.done)break;e=d.value}e=e;var f=b("VideoPlayerShakaGlobalConfig").getString("defer_which_video_to_abort_loading_decisioning_logic","all"),i=e.getVideoPlayerController();i=i?i.isLiveVideo():null;if(i!==null&&(f==="vod"&&i||f==="live"&&!i))continue;if(!e.isState("playing")&&typeof e.abortLoading==="function"&&h.shouldAbortLoadingVideoUnit(e))b("VideoPlayerExperiments").abortLoadingHelperNegativeYAbortLoading?this.$3(e):this.$4(e);else if(b("VideoPlayerExperiments").abortLoadingHelperNegativeYAbortLoading&&e.isState("playing")){f=this.$2.get(e);!f&&g(0,3497);f&&f.abortedLoading&&(f.abortedLoading=!1)}}};h.prototype.$3=function(a){"use strict";if(b("VideoPlayerExperiments").abortLoadingHelperBoundedReloading){var c=b("getViewportDimensions")().height/-2;a.getDistanceToViewport()<b("VideoPlayerExperiments").abortedLoadingPixelBoundary+c&&!a.isVisible()?this.$5(a):a.getDistanceToViewport()>b("VideoPlayerExperiments").reloadingPixelBoundary+c&&this.$6(a)}else a.getDistanceToViewport()<0&&!a.isVisible()&&this.$5(a)};h.prototype.addVideoUnit=function(a){"use strict";this.$1.has(a)||(this.$1.add(a),this.$2.set(a,{y:a.getDistanceToViewport(),timestamp:new Date().valueOf(),v:0,abortedLoading:!1}))};h.prototype.removeVideoUnit=function(a){"use strict";this.$1["delete"](a),this.$2["delete"](a)};h.prototype.calculateFutureScrollPosition=function(a){"use strict";var b=a.y1-a.y0,c=a.t1-a.t0;b=b/c;var d=b-a.v0;d=d/c;c=a.t;c=d*c*c/2+c*b+a.y1;return{v1:b,a:d,S:c}};h.prototype.preloadClosestVideoUnits=function(a){"use strict";this.$7(a).forEach(function(a){return this.$6(a)}.bind(this))};h.prototype.$7=function(a){"use strict";return Array.from(this.$1).filter(function(a){return a.getDistanceToViewport()>=0}).sort(function(a,b){return a.getDistanceToViewport()-b.getDistanceToViewport()}).slice(0,a)};h.prototype.$6=function(a){"use strict";var b=this.$2.get(a);!b&&g(0,3497);var c;b&&(c=b.abortedLoading,b.abortedLoading=!1);c&&typeof a.preload==="function"&&a.preload()};h.prototype.$5=function(a){"use strict";var b=this.$2.get(a);!b&&g(0,3497);var c;b&&(c=b.abortedLoading,b.abortedLoading=!0);!c&&typeof a.abortLoading==="function"&&a.abortLoading()};h.prototype.$4=function(a){"use strict";__p&&__p();var c=b("getViewportDimensions")().height,d=1600;c=c/2;var e=c+d;c=-c;c=c-d;d=this.$2.get(a);!d&&g(0,3497);if(!d)return;var f=a.getDistanceToViewport(),h=d.y;d.y=f;var i=new Date().valueOf(),j=d.timestamp;d.timestamp=i;var k=d.v;if(c<=f&&e>=f){d.abortedLoading&&this.$6(a);return}var l=500;h=this.calculateFutureScrollPosition({y0:h,y1:f,t0:j,t1:i,v0:k,t:l});d.v=h.v1;j=h.S;d.abortedLoading?(f<c&&j>c||f>e&&j<e)&&this.$6(a):this.$5(a)};h.prototype.$8=function(a){"use strict";a=a.getVideoPlayerController();return a?a.getVideoPlayerID():null};h.shouldAbortLoadingVideoUnit=function(a){"use strict";var c=b("VideoPlayerShakaGlobalConfig").getBool("abort_loading_decisioning_logic",!1),d=!c,e=!0;if(a){typeof a.getIsInChannel==="function"&&(e=a.getIsInChannel());typeof a.getSource==="function"&&c&&(d=a.getSource()===b("VideoPlayerLoggerSource").TAHOE);return b("VideoPlayerAbortLoadingExperiment").canAbort&&!e&&!d}return!1};e.exports=h}),null);
__d("VideoPlayerReason",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY:"autoplay_initiated",COMMERCIAL_BREAK:"commercial_break",CONNECTION:"host-connection-error",EMBEDDED_VIDEO_API:"embedded_video_api_initiated",FALLBACK_MODE:"fallback_mode",HOVER:"hover",LOOP:"loop_initiated",NETWORK_INTERRUPTED:"network_interrupted",NETWORK_RESUMED:"network_resumed",PAGE_VISIBILITY:"page_visibility_initiated",SEEK:"seek_initiated",SPHERICAL_FALLBACK:"spherical_fallback",SPHERICAL_SWITCH_CANVAS:"spherical_switch_canvas",SPHERICAL_FAILED:"spherical_failed",UNLOADED:"unloaded",USER:"user_initiated",VIDEO_DATA_REPLACED:"video_data_replaced",VIDEO_DATA_SWITCH:"video_data_switch",VIDEO_VISIBILITY:"video_visibility_initiated",VOD_NOT_READY:"vod_not_ready",WARNING_SCREEN_COVER:"warning_screen_cover"})}),null);
__d("VideoAutoplayControllerBase",["Arbiter","DesktopHscrollUnitEventConstants","Event","SubscriptionsHandler","VideoAutoplayControllerAbortLoadingHelper","VideoPlayerExperiments","VideoPlayerReason","VideoPlayerShakaGlobalConfig","VideoScrollTracker","Visibility","clearTimeout","debounce","destroyOnUnload","emptyFunction","setTimeout","throttle"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g=b("VideoPlayerShakaGlobalConfig").getNumber("abort_loading_delay",3e3);function h(a,b){var c=[];return function(){var d=Date.now();c.unshift(d);var e=0;while(c[++e]+b>d);c=c.slice(0,e);return c.length<=a}}function i(a,c,d){__p&&__p();var e=null;return function(){__p&&__p();for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];if(c()){a.apply(void 0,g);return b("emptyFunction").thatReturnsFalse}else if(!e){var i=b("setTimeout")(function(){e=null,a.apply(void 0,g)},d);e=function(){if(!e)return!1;b("clearTimeout")(i);e=null;return!0}}return e}}function a(a){this.$8=b("emptyFunction"),this.$9=b("emptyFunction"),this.$3=null,this.$2=null,this.$10=[],this.$1=a,this.$4=null,this.$5=new(b("SubscriptionsHandler"))(),b("VideoPlayerShakaGlobalConfig").getBool("autoplay_controller_use_video_scroll_tracker",!1)&&(this.$11=new(b("VideoScrollTracker"))(document.body),this.$11.start()),b("destroyOnUnload")(function(){this.$10=[],this.$3=null,this.$4&&(this.$4.remove(),this.$4=null),this.$5.release(),this.$11&&this.$11.destroy()}.bind(this)),b("VideoPlayerExperiments").autoplayMaxCallsPerWindow&&(this.$6=i(function(a){var b=this.$3;b&&b.playWithoutUnmute(a)}.bind(this),h(b("VideoPlayerExperiments").autoplayMaxCallsPerWindow,b("VideoPlayerExperiments").autoplayThrottleWindow),b("VideoPlayerExperiments").autoplayThrottleDelay)),this.$7=b("emptyFunction").thatReturnsFalse}a.prototype.getVideoUnits=function(){return this.$10};a.prototype.addVideoUnit=function(a){var b=a.getVideoPlayerController();b&&b.registerOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection",function(){return this.getLastScrollDirection()}.bind(this));this.$10.push(a)};a.prototype.removeVideoUnit=function(a){var b=this.$10.findIndex(function(b){return b===a});if(b>-1){this.$10.splice(b,1);b=a.getVideoPlayerController();b&&b.unregisterOption("VideoAutoplayControllerBase/VideoScrollTracker","getLastScrollDirection")}};a.prototype.getPlayingVideoUnit=function(){return this.$3};a.prototype.setPlayingVideoUnit=function(a){this.$3=a,this.$3&&this.setupPlayingVideoUnitSubscriptions()};a.prototype.getLastScrollDirection=function(){return this.$11?this.$11.getLastScrollDirection():null};a.prototype.playVideo=function(a,c){__p&&__p();if(b("VideoPlayerExperiments").disableAutoplayForInactiveTab&&b("Visibility").isHidden()){if(b("VideoPlayerExperiments").removeHiddenVideoTracking){this.setPlayingVideoUnit(null);return}this.$2=a;return}this.setPlayingVideoUnit(a);if(this.$3){a=this.$6;a?this.$7=a.call(this,c):this.$3.playWithoutUnmute(c)}};a.prototype.setupPlayingVideoUnitSubscriptions=function(){throw new Error("Should be overridden")};a.prototype.addSubscriberVideoUnit=function(){this.getVideoUnits().length||(this.$5.addSubscriptions(b("Event").listen(window,"resize",this.updateAutoplay.bind(this)),b("Event").listen(window,"blur",this.$12.bind(this)),b("Event").listen(window,"focus",this.$13.bind(this)),b("Visibility").addListener(b("Visibility").HIDDEN,this.$12.bind(this)),b("Visibility").addListener(b("Visibility").VISIBLE,this.$13.bind(this)),b("Arbiter").subscribe(b("DesktopHscrollUnitEventConstants").HSCROLL_ITEM_SHOWN_EVENT,this.updateAutoplay.bind(this))),this.$14()||this.$15())};a.prototype.$12=function(){b("VideoPlayerExperiments").removeHiddenVideoTracking?this.$16(b("VideoPlayerReason").PAGE_VISIBILITY):this.$2||(this.$2=this.getPlayingVideoUnit(),this.$16(b("VideoPlayerReason").PAGE_VISIBILITY))};a.prototype.$13=function(){b("VideoPlayerExperiments").removeHiddenVideoTracking?this.updateAutoplay():this.$2&&(this.playVideo(this.$2,b("VideoPlayerReason").PAGE_VISIBILITY),this.$2=null)};a.prototype.$15=function(){__p&&__p();var a=function(){this.$11&&this.$11.onScroll(),this.updateAutoplay()}.bind(this);this.$4&&this.$4.remove();this.$8=b("throttle")(a,this.$1);this.$9=b("debounce")(function(){return this.updateAutoplay()}.bind(this),this.$1);var c=b("VideoPlayerShakaGlobalConfig").getBool("autoplay_use_unthrottled_scroll_handler",!1)?function(){return a()}:function(){this.$8(),b("VideoPlayerExperiments").useDebouncedScroll&&this.$9()}.bind(this);this.$4=b("Event").listen(window,"scroll",c)};a.prototype.$14=function(){return!!this.$4};a.prototype.getClosestVideoUnits=function(a){return this.$10.filter(function(a){return a.getDistanceToViewport()>=0}).sort(function(a,b){return a.getDistanceToViewport()-b.getDistanceToViewport()}).slice(0,a)};a.prototype.getVisibleUnits=function(){var a=[];this.$10.forEach(function(b){var c=b.getVideoPlayerController();b.isVisible()?(a.push(b),b.wasVisible||(b.wasVisible=!0,b.logDisplayed(),c&&c.emit("becomeVisible"))):b.wasVisible&&(c&&c.emit("becomeInvisible"),b.wasVisible=!1)});return a};a.prototype.$17=function(a){var c=b("VideoPlayerShakaGlobalConfig").getString("defer_which_video_to_abort_loading_decisioning_logic","all"),d=a.getVideoPlayerController();d=d?d.isLiveVideo():null;return d!==null&&(c==="vod"&&d||c==="live"&&!d)?!1:b("VideoAutoplayControllerAbortLoadingHelper").shouldAbortLoadingVideoUnit(a)};a.prototype.pausePlayingVideo=function(a,c){__p&&__p();var d=this.$3;if(d){var e=function a(){if(!d.isState("playing")){if(b("VideoPlayerExperiments").abortLoadingReUpStillVisibleVideos&&d.isVisible()){b("setTimeout")(a,g);return}typeof d.abortLoading==="function"&&d.abortLoading()}};if(d.isVisible()){var f=d.getVideoPlayerController();if(f&&f.isPlayRequestPending())return}this.$7()||d.pause(a);b("VideoPlayerExperiments").decoupleAbortLoadingFromPause||this.$17(d)&&!c&&b("setTimeout")(e,g);this.$3=null}};a.prototype.$16=function(a){this.pausePlayingVideo(a,!0)};a.prototype.updateAutoplay=function(){throw new Error("Should be overridden")};e.exports=a}),null);
__d("XVideoAutoplayNuxAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/",{})}),null);
__d("XVideoAutoplayNuxDismissAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/dismiss/",{})}),null);
__d("XVideoAutoplayNuxLogViewAsyncController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("/video/autoplay/nux/log/view/",{})}),null);
__d("requestBoundedAnimationFrame",["cancelAnimationFrame","clearTimeout","performanceNow","requestAnimationFrame","setTimeout"],(function(a,b,c,d,e,f){a=function(a,c,d){var e=b("setTimeout")(function(){e=null,f!==null&&b("cancelAnimationFrame")(f),a(b("performanceNow")())},d),f=b("requestAnimationFrame")(function(c){f=null,e!==null&&b("clearTimeout")(e),a(c)},c);return function(){f!==null&&(b("cancelAnimationFrame")(f),f=null),e!==null&&(b("clearTimeout")(e),e=null)}};e.exports=a}),null);
__d("VideoAutoplayControllerX",["csx","AsyncRequest","DocumentFocusForMutedVideoAutoplayRule","DOM","Event","Network","Run","SubscriptionsHandler","VideoAutoplayControllerAbortLoadingHelper","VideoAutoplayControllerBase","VideoPlayerExperiments","VideoPlayerPreloadExperiment","VideoPlayerReason","VideoPlayerShakaGlobalConfig","XVideoAutoplayNuxAsyncController","XVideoAutoplayNuxDismissAsyncController","XVideoAutoplayNuxLogViewAsyncController","clearTimeout","destroyOnUnload","getViewportDimensions","performance","requestBoundedAnimationFrame","requestIdleCallback","setTimeout"],(function(a,b,c,d,e,f,g){"use strict";__p&&__p();var h,i=null,j=b("VideoPlayerExperiments").videoPollingFrequency,k=!1;function l(){return!b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad||k}a=babelHelpers.inherits(m,b("VideoAutoplayControllerBase"));h=a&&a.prototype;function m(){__p&&__p();h.constructor.call(this,j);this.$VideoAutoplayControllerX4=!1;this.$VideoAutoplayControllerX5=!1;this.$VideoAutoplayControllerX6=0;this.$VideoAutoplayControllerX17=new(b("VideoAutoplayControllerAbortLoadingHelper"))();this.$VideoAutoplayControllerX10=new(b("SubscriptionsHandler"))();this.$VideoAutoplayControllerX18=new(b("SubscriptionsHandler"))();this.$VideoAutoplayControllerX12=!0;this.$VideoAutoplayControllerX9=!0;this.$VideoAutoplayControllerX13=!0;this.$VideoAutoplayControllerX2=null;this.$VideoAutoplayControllerX1=null;this.$VideoAutoplayControllerX14=!1;this.$VideoAutoplayControllerX3=null;this.$VideoAutoplayControllerX7=!1;this.$VideoAutoplayControllerX16=!1;this.$VideoAutoplayControllerX15=!1;var a=b("XVideoAutoplayNuxAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setAllowCrossPageTransition().send();b("destroyOnUnload")(function(){this.$VideoAutoplayControllerX19(),b("VideoPlayerExperiments").disableAutoplayOnHomePgUpPgDownEnd&&(this.$VideoAutoplayControllerX11&&b("clearTimeout")(this.$VideoAutoplayControllerX11),this.$VideoAutoplayControllerX8.remove()),this===i&&(i=null)}.bind(this));b("Run").onAfterLoad(function(){k=!0,b("VideoPlayerExperiments").delayAutoplayUntilAfterLoad&&(i&&i.updateAutoplay()),document.hasFocus()||b("Event").fire(window,"blur"),b("VideoPlayerExperiments").disableAutoplayOnHomePgUpPgDownEnd&&this.$VideoAutoplayControllerX20()}.bind(this));b("VideoPlayerShakaGlobalConfig").getBool("use_two_frequency_update_autoplay",!1)&&this.$VideoAutoplayControllerX21(Date.now())}m.$VideoAutoplayControllerX22=function(a){return b("VideoPlayerExperiments").fixVPCCallBeforeLoaded?!(a.isState("fallback")||a.isState("loading")):!0};m.prototype.$VideoAutoplayControllerX20=function(){__p&&__p();var a=33,c=34,d=35,e=36;this.$VideoAutoplayControllerX11=null;var f=function(){this.$VideoAutoplayControllerX23(this.$VideoAutoplayControllerX9),b("clearTimeout")(this.$VideoAutoplayControllerX11),this.$VideoAutoplayControllerX11=null}.bind(this);this.$VideoAutoplayControllerX8=b("Event").listen(document.body,"keydown",function(g){var h=-1;switch(g.keyCode){case a:case c:h=b("VideoPlayerExperiments").pressPgUpPgDownAutoplayShutoffInterval;break;case d:case e:h=b("VideoPlayerExperiments").pressHomeEndAutoplayShutoffInterval;break;default:break}h>-1&&(this.$VideoAutoplayControllerX11?(b("clearTimeout")(this.$VideoAutoplayControllerX11),this.$VideoAutoplayControllerX11=b("setTimeout")(f,h)):this.$VideoAutoplayControllerX12&&(this.$VideoAutoplayControllerX23(!1),this.$VideoAutoplayControllerX11=b("setTimeout")(f,h)))}.bind(this))};m.prototype.$VideoAutoplayControllerX23=function(a){this.$VideoAutoplayControllerX12=a,this.updateAutoplay()};m.registerVideoUnit=function(a){__p&&__p();i==null&&(i=new m());i.addSubscriberVideoUnit();i.registerDefaultAutoplayRules(a);i.addVideoUnit(a);var c=new(b("SubscriptionsHandler"))();c.addSubscriptions.apply(c,i.$VideoAutoplayControllerX24(a));i.$VideoAutoplayControllerX25();a.isVisible()&&l()&&i.updateAutoplay();i.shouldRestoreAllSubsequentStreamBufferSizes()&&i.restoreStreamBufferSize();return function(){i&&i.removeVideoUnit(a),c.release(),i&&a===i.getPlayingVideoUnit()&&(i.$VideoAutoplayControllerX18.release(),i.setPlayingVideoUnit(null))}};m.setShouldAutoplay=function(a){i==null&&(i=new m()),i.$VideoAutoplayControllerX12=a,i.$VideoAutoplayControllerX13=a,i.$VideoAutoplayControllerX9=a,i.updateAutoplay()};m.prototype.$VideoAutoplayControllerX19=function(){this.$VideoAutoplayControllerX10.release(),this.$VideoAutoplayControllerX18.release()};m.setAutoplayNux=function(a,c){__p&&__p();var d=i;if(!d)return;d.$VideoAutoplayControllerX2=a;d.$VideoAutoplayControllerX1=c;d.$VideoAutoplayControllerX14=!0;a=b("DOM").find(c.getContentRoot(),"._5cqr");b("Event").listen(a,"click",function(){d.$VideoAutoplayControllerX26()});a=b("DOM").scry(c.getContentRoot(),"._36gl")[0];a&&b("Event").listen(a,"click",function(){d.$VideoAutoplayControllerX26()})};m.prototype.$VideoAutoplayControllerX26=function(){this.$VideoAutoplayControllerX1&&this.$VideoAutoplayControllerX1.hide();this.$VideoAutoplayControllerX14=!1;var a=b("XVideoAutoplayNuxDismissAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setAllowCrossPageTransition().send()};m.prototype.registerDefaultAutoplayRules=function(a){b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&b("VideoPlayerExperiments").pauseMutedIfNoDocumentFocus&&a.registerAutoplayRule(new(b("DocumentFocusForMutedVideoAutoplayRule"))(a))};m.prototype.setupPlayingVideoUnitSubscriptions=function(){__p&&__p();var a=this.getPlayingVideoUnit();if(!a)return;a.addListener&&(this.$VideoAutoplayControllerX10.release(),this.$VideoAutoplayControllerX10.engage(),a.isLooping()||this.$VideoAutoplayControllerX10.addSubscriptions(a.addListener("finishPlayback",function(){this.setPlayingVideoUnit(null)}.bind(this))),this.$VideoAutoplayControllerX10.addSubscriptions(a.addListener("turnOffAutoplay",function(){this.setPlayingVideoUnit(null)}.bind(this)),a.addListener("pausePlayback",function(){this.$VideoAutoplayControllerX25()}.bind(this)),a.addListener("finishPlayback",function(){this.$VideoAutoplayControllerX25()}.bind(this)),b("Network").addListener("online",function(){this.$VideoAutoplayControllerX25()}.bind(this)),b("Network").addListener("offline",function(){this.$VideoAutoplayControllerX25()}.bind(this))))};m.prototype.$VideoAutoplayControllerX25=function(){__p&&__p();if(b("VideoPlayerExperiments").webVideosBlockAutoplayWhenOffline)if(b("Network").isOnline())this.$VideoAutoplayControllerX12=this.$VideoAutoplayControllerX13;else{this.$VideoAutoplayControllerX13=this.$VideoAutoplayControllerX12;this.$VideoAutoplayControllerX12=!1;return}var a=this.getVideoUnits();for(var c=0;c<a.length;c++){var d=a[c].getVideoPlayerController();d&&(d.getDataInsertionPosition()==="0"&&(this.$VideoAutoplayControllerX7=!0,this.$VideoAutoplayControllerX16===!1&&(m.$VideoAutoplayControllerX22(d)&&d.restoreStreamBufferSize(),d.once("beginPlayback",function(){this.$VideoAutoplayControllerX15=!0,this.restoreStreamBufferSize()}.bind(this)),this.$VideoAutoplayControllerX16=!0)),b("VideoPlayerExperiments").autoplayBlockBlacklist||d.updateAutoplayRestrained())}this.$VideoAutoplayControllerX7||this.restoreStreamBufferSize()};m.prototype.shouldRestoreAllSubsequentStreamBufferSizes=function(){return!this.$VideoAutoplayControllerX7?!0:this.$VideoAutoplayControllerX15};m.prototype.restoreStreamBufferSize=function(){var a=this.getVideoUnits();for(var b=0;b<a.length;b++){var c=a[b].getVideoPlayerController();c&&m.$VideoAutoplayControllerX22(c)&&c.restoreStreamBufferSize()}};m.prototype.$VideoAutoplayControllerX24=function(a){__p&&__p();var c;if(!a.addListener)return[];var d=function(){__p&&__p();if(!a.isMuted()&&a.isState("playing")){var c=this.$VideoAutoplayControllerX3;if(c&&c!==a){var d=c.getVideoPlayerController();if(d){var e=d.getOption("VideoWithLiveBroadcast","isLive");e?d.mute():d.pause(b("VideoPlayerReason").USER)}try{c.pause(b("VideoPlayerReason").USER)}catch(a){}}this.$VideoAutoplayControllerX3=a}}.bind(this);d=[a.addListener("beginPlayback",d),a.addListener("changeVolume",d),a.addListener("unmuteVideo",d)];(c=this.$VideoAutoplayControllerX18).addSubscriptions.apply(c,d);return d};m.prototype.$VideoAutoplayControllerX27=function(a){__p&&__p();var c=a.length,d=null;if(c===1)d=a[0],d=d.isAutoplayable()?d:null,b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&d&&(d=this.$VideoAutoplayControllerX28(d)?d:null);else if(c>1){var e=b("getViewportDimensions")().height/2;a.forEach(function(a){if(!a.isAutoplayable())return;if(b("VideoPlayerExperiments").useBringYourOwnAutoplayRule&&!this.$VideoAutoplayControllerX28(a))return;var c=a.getDOMPosition();c=c.y+c.height/2;c=Math.abs(c-e);a.playPriority=c;(!d||!d.playPriority||a.playPriority<d.playPriority)&&(d=a)}.bind(this))}return d};m.prototype.$VideoAutoplayControllerX28=function(a){var b=!0;a=a.getAutoplayRules();for(var c=0;c<a.length;++c){var d=a[c].calculateAutoplayScore();b=d!==0;if(!b)break}return b};m.prototype.showAutoplayNUX=function(a){__p&&__p();var c=this.$VideoAutoplayControllerX1;if(c&&!c.isShown()){a=a.getVideoPlayerController();a=a?a.getRootNode():null;b("DOM").prependContent(a,this.$VideoAutoplayControllerX2);c.show();a=b("XVideoAutoplayNuxLogViewAsyncController").getURIBuilder().getURI();new(b("AsyncRequest"))(a).setAllowCrossPageTransition().send()}this.$VideoAutoplayControllerX14=!1};m.prototype.addVideoUnit=function(a){a&&h.addVideoUnit.call(this,a),b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&a&&this.$VideoAutoplayControllerX17.addVideoUnit(a)};m.prototype.removeVideoUnit=function(a){a&&h.removeVideoUnit.call(this,a),b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&a&&this.$VideoAutoplayControllerX17.removeVideoUnit(a)};m.prototype.$VideoAutoplayControllerX21=function(a){__p&&__p();var c=b("VideoPlayerShakaGlobalConfig").getNumber("request_bounded_animation_frame_bound",50);this.$VideoAutoplayControllerX29();if(b("VideoPlayerShakaGlobalConfig").getBool("use_ric_cycle",!1)){a=b("VideoPlayerShakaGlobalConfig").getNumber("ric_autoplay_bound",50);var d=b("VideoPlayerShakaGlobalConfig").getBool("use_native_ric",!1);d=d?window.requestIdleCallback:b("requestIdleCallback");return d(function(){this.$VideoAutoplayControllerX21(b("performance").now())}.bind(this),{timeout:a})}b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_lower_raf_cycle",!1)?b("setTimeout")(function(){b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_no_raf",!1)?this.$VideoAutoplayControllerX21(b("performance").now()):b("requestBoundedAnimationFrame")(function(a){this.$VideoAutoplayControllerX21(a)}.bind(this),{priority:1},c)}.bind(this),j):b("requestBoundedAnimationFrame")(function(a){this.$VideoAutoplayControllerX21(a)}.bind(this),{priority:1},c)};m.prototype.$VideoAutoplayControllerX29=function(){__p&&__p();var a=this.$VideoAutoplayControllerX3,c=Date.now(),d=c-this.$VideoAutoplayControllerX6,e=b("VideoPlayerShakaGlobalConfig").getNumber("autoplay_start_video_interval",200);if(b("VideoPlayerShakaGlobalConfig").getBool("update_autoplay_no_high_frequency_ops",!1)&&d<e)return;this.$VideoAutoplayControllerX4&&b("VideoPlayerExperiments").pauseAudioUnitsOffscreen&&a&&a.shouldPauseWhenScrolledOffscreen()&&!a.isVisible()&&a.pause(b("VideoPlayerReason").AUTOPLAY);if(!this.$VideoAutoplayControllerX12){this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY);return}a=this.getVideoUnits();var f=this.getPlayingVideoUnit(),g=this.$VideoAutoplayControllerX4?null:f;this.$VideoAutoplayControllerX4&&f&&f.isVisible()&&(g=this.$VideoAutoplayControllerX27([f]));f&&f!==g&&this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY);if(d>=e){this.$VideoAutoplayControllerX6=c;if(this.$VideoAutoplayControllerX5){d=this.getVisibleUnits();for(var e=0;e<a.length;++e)a[e].isMuted()&&d.indexOf(a[e])===-1&&a[e].pause(b("VideoPlayerReason").AUTOPLAY);g=this.$VideoAutoplayControllerX27(d);g&&g!==f&&(f&&this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY),this.playVideo(g,b("VideoPlayerReason").AUTOPLAY),this.$VideoAutoplayControllerX14&&this.showAutoplayNUX(g));this.getClosestVideoUnits(b("VideoPlayerExperiments").preloadVideosCount).forEach(function(a){return a.preload()});g&&b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoAutoplayControllerX30(g)}this.$VideoAutoplayControllerX5=!1}this.$VideoAutoplayControllerX4=!1};m.prototype.updateAutoplay=function(){__p&&__p();if(b("VideoPlayerShakaGlobalConfig").getBool("use_two_frequency_update_autoplay",!1)){this.$VideoAutoplayControllerX4=!0;this.$VideoAutoplayControllerX5=!0;return}var a=this.getVideoUnits(),c;if(b("VideoPlayerExperiments").pauseOffscreenUnitsFirst){c=this.getVisibleUnits();if(b("VideoPlayerExperiments").pauseOffscreenMutedOnUpdateAutoplay)for(var d=0;d<a.length;++d)a[d].isMuted()&&c.indexOf(a[d])===-1&&a[d].pause(b("VideoPlayerReason").AUTOPLAY)}if(!this.$VideoAutoplayControllerX12){this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY);return}d=this.$VideoAutoplayControllerX3;b("VideoPlayerExperiments").pauseAudioUnitsOffscreen&&d&&d.shouldPauseWhenScrolledOffscreen()&&!d.isVisible()&&d.pause(b("VideoPlayerReason").AUTOPLAY);!b("VideoPlayerExperiments").decoupleAbortLoadingFromPause?this.getClosestVideoUnits(b("VideoPlayerPreloadExperiment").preloadVideosCount).forEach(function(a){a.preload()}):b("VideoPlayerExperiments").abortLoadingHelperDefaultPreloading&&this.$VideoAutoplayControllerX17.preloadClosestVideoUnits(b("VideoPlayerPreloadExperiment").preloadVideosCount);c=this.getVisibleUnits();d=this.$VideoAutoplayControllerX27(c);var e=this.getPlayingVideoUnit();e?d!=e&&(this.pausePlayingVideo(b("VideoPlayerReason").AUTOPLAY),this.playVideo(d,b("VideoPlayerReason").AUTOPLAY),this.$VideoAutoplayControllerX14&&d&&this.showAutoplayNUX(d)):d&&(this.playVideo(d,b("VideoPlayerReason").AUTOPLAY),this.$VideoAutoplayControllerX14&&this.showAutoplayNUX(d));if(!b("VideoPlayerExperiments").pauseOffscreenUnitsFirst&&b("VideoPlayerExperiments").pauseOffscreenMutedOnUpdateAutoplay)for(var e=0;e<a.length;++e)a[e].isMuted()&&c.indexOf(a[e])===-1&&a[e].pause(b("VideoPlayerReason").AUTOPLAY);b("VideoPlayerExperiments").adjustPriorityBasedOnAutoplayIndex&&this.$VideoAutoplayControllerX30(d);b("VideoPlayerExperiments").decoupleAbortLoadingFromPause&&this.$VideoAutoplayControllerX17.maybeAbortLoading()};m.prototype.$VideoAutoplayControllerX30=function(a){__p&&__p();var c=-1,d=this.getVideoUnits();if(a){var e=d.findIndex(function(b){return b===a});e>=0&&(c=e+1)}else{e=b("getViewportDimensions")().height/2;for(var f=0;f<d.length;f++){var g=d[f];g=g.getDOMPosition();g=g.y+g.height/2;if(g-e>0){c=f;break}}}if(c===-1)return;for(var g=0;g<d.length;g++){f=d[g];e=f.getVideoPlayerController();if(!e)continue;g===c?e.setVideoPriorityAdjustment(.1):f===a?e.setVideoPriorityAdjustment(b("VideoPlayerExperiments").offsetToBestUnitPriority):b("VideoPlayerExperiments").dePrioritizeUpfoldVideos&&g<c?e.setVideoPriorityAdjustment(-.5):e.setVideoPriorityAdjustment(0)}};e.exports=m}),null);
__d("VideoAutoplayPlayerBase",["EventEmitter","FBLogger"],(function(a,b,c,d,e,f){"use strict";__p&&__p();var g;c=babelHelpers.inherits(a,b("EventEmitter"));g=c&&c.prototype;function a(){var a,b;for(var c=arguments.length,d=new Array(c),e=0;e<c;e++)d[e]=arguments[e];return b=(a=g.constructor).call.apply(a,[this].concat(d)),this.wasVisible=!1,this.$VideoAutoplayPlayerBase1=[],b}a.prototype.isVisible=function(){throw new Error("Should be overridden")};a.prototype.getDistanceToViewport=function(){throw new Error("Should be overridden")};a.prototype.getVideoPlayerController=function(){b("FBLogger")("video").warn(["VideoAutoplayPlayerBase.getVideoPlayerController()","was called and returned null."].join(" "));return null};a.prototype.logDisplayed=function(){throw new Error("Should be overridden")};a.prototype.playWithoutUnmute=function(a){throw new Error("Should be overridden")};a.prototype.pause=function(a){throw new Error("Should be overridden")};a.prototype.isAutoplayable=function(){throw new Error("Should be overridden")};a.prototype.getDOMPosition=function(){throw new Error("Should be overridden")};a.prototype.isLooping=function(){throw new Error("Should be overridden")};a.prototype.isState=function(a){throw new Error("Should be overridden")};a.prototype.preload=function(){throw new Error("Should be overridden")};a.prototype.isMuted=function(){throw new Error("Should be overridden")};a.prototype.isPlaying=function(){throw new Error("Should be overridden")};a.prototype.shouldPauseWhenScrolledOffscreen=function(){throw new Error("Should be overridden")};a.prototype.getAutoplayRules=function(){return this.$VideoAutoplayPlayerBase1};a.prototype.registerAutoplayRule=function(a){this.$VideoAutoplayPlayerBase1.push(a)};e.exports=a}),null);
__d("VideoPlayerVolumeSettings",["WebStorage"],(function(a,b,c,d,e,f){__p&&__p();function a(){"use strict";this.$1=1,this.$2=1}a.prototype.getVolume=function(){"use strict";var a=b("WebStorage").getLocalStorage();if(a){a=a.getItem("videoPlayerControllerVolume");return a===null||isNaN(+a)?1:+a}return this.$1};a.prototype.getSessionVolume=function(){"use strict";return this.$1};a.prototype.setSessionVolume=function(a){"use strict";this.$1=a};a.prototype.saveVolume=function(a){"use strict";var c=b("WebStorage").getLocalStorage();c&&c.setItem("videoPlayerControllerVolume",a);this.$1=a};a.prototype.getLastVolumeBeforeMute=function(){"use strict";var a=b("WebStorage").getLocalStorage();if(a){a=a.getItem("videoPlayerControllerLastVolumeBeforeMute");return a===null||isNaN(+a)?1:+a}return this.$2};a.prototype.saveLastVolumeBeforeMute=function(a){"use strict";var c=b("WebStorage").getLocalStorage();c&&c.setItem("videoPlayerControllerLastVolumeBeforeMute",a);this.$2=a};c=new a();e.exports=c}),null);
__d("logVideosClickTracking",["clickRefAction"],(function(a,b,c,d,e,f){function a(a){b("clickRefAction")("click",a,null,"FORCE")}e.exports=a}),null);
__d("HTMLMediaElementReadyStates",[],(function(a,b,c,d,e,f){a={HAVE_NOTHING:0,HAVE_METADATA:1,HAVE_CURRENT_DATA:2,HAVE_FUTURE_DATA:3,HAVE_ENOUGH_DATA:4};e.exports=a}),null);
__d("VideoFrameBuffer",["HTMLMediaElementReadyStates"],(function(a,b,c,d,e,f){__p&&__p();function a(a,b,c,d,e,f,g){d===void 0&&(d=null),e===void 0&&(e=null),f===void 0&&(f=null),g===void 0&&(g=null),this.$2=b,this.$1=a,this.$3=c||"contain",this.$6=d,this.$7=e,this.$8=f,this.$9=g}a.prototype.updateFrameBuffer=function(){"use strict";__p&&__p();this.$4&&(this.$1.width=this.$4,this.$4=null);this.$5&&(this.$1.height=this.$5,this.$5=null);if(this.$2.readyState<b("HTMLMediaElementReadyStates").HAVE_CURRENT_DATA)return;var a=this.$1.clientWidth||this.$1.width,c=this.$1.clientHeight||this.$1.height,d=a,e=c,f=this.$2.videoWidth/this.$2.videoHeight,g=d/e;this.$3==="cover"&&(g*=-1,f*=-1);g>f?d=e*f:g<f&&(e=d/f);g=this.$1.getContext("2d");if(!(g instanceof window.CanvasRenderingContext2D))return;try{if(this.$6||this.$7){g.drawImage(this.$2,(f=this.$8)!=null?f:0,(f=this.$9)!=null?f:0,(f=this.$6)!=null?f:a,(f=this.$7)!=null?f:c,0,0,a,c)}else g.drawImage(this.$2,(a-d)/2,(c-e)/2,d,e)}catch(a){if(a.name!=="NS_ERROR_NOT_AVAILABLE")throw a}};a.prototype.getDOMNode=function(){"use strict";return this.$1};a.prototype.updateDimensions=function(a,b){"use strict";this.$4=a,this.$5=b};e.exports=a}),null);
__d("enumerate",[],(function(a,b,c,d,e,f){"use strict";e.exports=function(b){return b.FB_enumerate}(a)}),null);
__d("BaseGraphQLSubscription",["regeneratorRuntime","Banzai","BanzaiLogger","ChannelClientID","CurrentLocale","CurrentUser","GQLSHeartbeatConfig","GraphQLSubscriptionsConfig","Random","SkywalkerManager","URI","gkx"],(function(a,b,c,d,e,f){__p&&__p();var g=b("GQLSHeartbeatConfig").heartbeat_interval,h=1e4,i=1,j=100,k="gqls_default_logging";a.prototype.getTopic=function(a){"use strict";throw new Error("getTopic() unimplemented by subclass of BaseGraphQLSubscription")};a.prototype.getQueryID=function(){"use strict";throw new Error("getQueryID() unimplemented by subclass of BaseGraphQLSubscription")};a.prototype.getQueryParameters=function(a){"use strict";throw new Error("getQueryParameters() unimplemented by subclass of BaseGraphQLSubscription")};a.prototype.getSubscriptionCallName=function(){"use strict";throw new Error("getSubscriptionCallName() unimplemented by subclass of BaseGraphQLSubscription")};a.subscribe=function(a,b,c){c===void 0&&(c={});return new this().subscribe(a,b,c)};a.prototype.subscribe=function(a,c,d){__p&&__p();d===void 0&&(d={});d.forceLogContext==null&&b("gkx")("676906")&&b("Random").coinflip(j)&&(d.forceLogContext=k);var e=this.getQueryParameters(a);d.forceLogContext!=null&&(e["%options"]={client_logged_context:d.forceLogContext});d.receiveLifecycleEvents&&(e["%options"]=babelHelpers["extends"]({},e["%options"],{heartbeat:{interval:g}}));var f={};f.transformContext=JSON.stringify(this.getTransformContext(a,e));d.policy!=null&&(f.policy=d.policy);d.customOptions!=null&&(f.customOptions=JSON.stringify(d.customOptions));a=this.getTopic(a);var h=b("SkywalkerManager").getSubscriptionType(a);this.$1("client_subscribe",e,d,h);var i=b("SkywalkerManager").subscribe(a,function(a){this.$1("receivepayload",e,d,h),c(babelHelpers["extends"]({__type:"data"},JSON.parse(a.payload)))}.bind(this),{context:f,onUnsubscribeEager:function(){this.$1("client_unsubscribe",e,d,h)}.bind(this),gqlsLifecycleHandler:function(a){return b("regeneratorRuntime").async(function(b){while(1)switch(b.prev=b.next){case 0:c({__type:"lifecycle_event",state:a});case 1:case"end":return b.stop()}},null,this)}});return{getContext:function(){return i.getContext()},unsubscribe:function(){i.unsubscribe()}}};a.subscribeWithIcebreaker_EXPERIMENTAL=function(a,b,c){"use strict";return new this().subscribeWithIcebreaker_EXPERIMENTAL(a,b,c)};a.prototype.subscribeWithIcebreaker_EXPERIMENTAL=function(a,c,d){"use strict";__p&&__p();var e=new(b("URI"))("https://streaming-graph.facebook.com/gqls_bore");e.setQueryData({access_token:d});d=this.getTopic(a);var f={topic:d,locale:b("CurrentLocale").get(),queryID:this.getQueryID(),serializedQueryParameters:JSON.stringify(this.getQueryParameters(a))};e.addQueryData(f);var g=new EventSource(e.toString(),{withCredentials:!0});g.addEventListener("message",function(a){c(JSON.parse(JSON.parse(a.data).payload))},!1);return{getContext:function(){return f},unsubscribe:function(){g.close()}}};a.prototype.getTransformContext=function(a,c){"use strict";var d=0;return{viewerID:this.getViewerID(a),appID:d,locale:b("CurrentLocale").get(),queryID:this.getQueryID(),serializedQueryParameters:JSON.stringify(c)}};a.prototype.getViewerID=function(a){"use strict";return b("CurrentUser").getID()};a.prototype.$1=function(a,c,d,e){"use strict";if(b("Banzai").isEnabled("gqls_web_logging")){var f=b("GraphQLSubscriptionsConfig").shouldAlwaysLog||d.forceLogContext?i:h;b("Random").coinflip(f)&&b("BanzaiLogger").log("GraphQLSubscriptionsLoggerConfig",{clienttime:Date.now()/1e3,client_sample_weight:f,event:a,force_log_context:d.forceLogContext,handle_type:e,mechanism:"skywalker",query_id:parseInt(this.getQueryID(),10),query_params:c,session_id:b("ChannelClientID").getID(),subscription_call:this.getSubscriptionCallName()})}};function a(){"use strict"}e.exports=a}),null);
__d("VideoPlayerLoggerEvent",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({AUTOPLAY_PREFERENCE_CHANGED:"autoplay_preference_changed",END_STALL_TIME:"end_stall_time",AUTOPLAY_PREFERENCE_STATUS:"autoplay_preference_status",ERROR_ALERT_SHOWN:"video_error_alert_shown",COMMERCIAL_BREAK_OFFSCREEN:"commercial_break_offscreen",COMMERCIAL_BREAK_ONSCREEN:"commercial_break_onscreen",NOT_AUTOPLAYING:"not_autoplaying",VIDEO_CHANNEL_NO_RELATED_VIDEO:"video_channel_no_related_video",VIDEO_ORIENTATION_CHANGED:"video_orientation_changed",AD_BREAK_STARTING_INDICATOR:"ad_break_starting_indicator",AD_BREAK_NON_INTERRUPTIVE_AD_START:"ad_break_non_interruptive_ad_start",AD_BREAK_NON_INTERRUPTIVE_AD_CLICK:"ad_break_non_interruptive_ad_click",AD_BREAK_PRE_ROLL_AD_START:"ad_break_pre_roll_ad_start",AD_BREAK_TAP_ON_TRAILER:"ad_break_tap_on_trailer",AD_BREAK_TAP_START_FROM_TRAILER:"ad_break_tap_start_from_trailer",ASSETS_LOADED:"assets_loaded",BUFFERED:"buffered",CANCELLED_REQUESTED_PLAYING:"cancelled_requested_playing",CAPTION_CHANGE:"caption_change",CAROUSEL_CHANGE:"carousel_change",CHROMECAST_AVAILABILITY_CHECKED:"chromecast_availabilty_checked",CHROMECAST_CAST_CLICKED:"chromecast_button_clicked",CHROMECAST_CAST_CONNECTED:"chromecast_connected",CHROMECAST_CAST_DISABLED:"chromecast_button_disabled",CHROMECAST_CAST_DISCONNECTED:"chromecast_disconnected",CHROMECAST_CAST_RECONNECTED:"chromecast_reconnected",CHROMECAST_CAST_VISIBLE:"chromecast_button_visible",CHROMECAST_NOT_SUPPORTED:"chromecast_not_supported",CLICK:"click",DISPLAYED:"displayed",ENTERED_FALLBACK:"entered_fallback",ENTERED_FS:"entered_fs",ENTERED_HD:"entered_hd",ERROR:"error",EXITED_FS:"exited_fs",EXITED_HD:"exited_hd",FINISHED_LOADING:"finished_loading",FINISHED_PLAYING:"finished_playing",HEADSET_CONNECTED:"headset_connected",HEADSET_DISCONNECTED:"headset_disconnected",HEART_BEAT:"heart_beat",HOST_ERROR:"host_error",HTTP_STATUS_UPDATE:"http_status_update",IMPRESSION:"impression",INVALID_URL:"invalid_url",MUTED:"muted",NO_SURFACE_UPDATE:"no_surface_update",PAUSED:"paused",PLAY_REQUESTED:"play_requested",PLAY_REQUESTED_OOB:"play_requested_oob",PLAYER_ALLOCATED:"player_allocated",PLAYER_FORMAT_CHANGED:"player_format_changed",PLAYER_LOADED:"player_loaded",PLAYING_LIVE_STARTED:"playing_live_started",PLAYING_LIVE_STOPPED:"playing_live_stopped",POP_FAILOVER:"pop_failover",PROGRESS:"progress",QUALITY_CHANGE:"quality_change",R2D2_SUMMARY:"r2d2_summary",R2D2_EVENT_VALIDATION:"r2d2_event_validation",READY_TO_PLAY:"ready_to_play",REPLAYED:"replayed",REPRESENTATION_ENDED:"representation_ended",REPRESENTATION_FIRST_ENDED:"representation_first_ended",REQUESTED:"requested",REQUESTED_PLAYING:"requested_playing",SCRUBBED:"scrubbed",SEEKED:"seeked",SPLASH_DISPLAYED:"splash_displayed",STALE:"stale",STARTED_PLAYING:"started_playing",STARTED_RECEIVING_BYTES:"started_receiving_bytes",STOPPED_PLAYING:"stopped_playing",STREAM_RESET:"stream_reset",SURFACE_UPDATED:"surface_updated",SWITCHED_IMPLEMENTATION:"switched_implementation",UNMUTED:"unmuted",UNPAUSED:"unpaused",USER_SELECTED_QUALITY:"user_selected_quality",VIDEO_CHAINING_IMPRESSION:"video_chaining_impression",VIDEO_CHAINING_TAP:"video_chaining_tap",VIDEO_CLICKED_WITHIN_PLAYER:"video_clicked_within_player",VIDEO_PLAYER_SERVICE_DISCONNECTED:"video_player_service_disconnected",VIDEO_PLAYER_SERVICE_RECONNECTED:"video_player_service_reconnected",VIDEO_PLAYER_SERVICE_UNAVAILABLE:"video_player_service_unavailable",VIDEO_PLAYING:"video_playing",VIDEO_SKIP_AD:"video_skip_ad",VOLUME_CHANGED:"volume_changed",VOLUME_DECREASE:"volume_decrease",VOLUME_INCREASE:"volume_increase",WATCH_AND_SCROLL_CHANNEL_ENTERED:"watch_and_scroll_channel_entered",WATCH_AND_SCROLL_EXITED:"watch_and_scroll_exited",WATCH_AND_SCROLL_ICON_HIGHLIGHTED:"watch_and_scroll_icon_highlighted",WATCH_AND_SCROLL_ICON_UNHIGHLIGHTED:"watch_and_scroll_icon_unhighlighted",WATCH_AND_SCROLL_PAUSED:"watch_and_scroll_paused",LIVE_SEGMENT_LOAD_ERROR:"live_segment_load_error",MANIFEST_DATA_TYPE_ERROR:"manifest_data_type_error",MANIFEST_LOAD_ERROR:"manifest_load_error",PLAYER_WARNING:"player_warning",PLAYHEAD_FELL_BEHIND_ERROR:"playhead_fell_behind_error",STREAM_SEGMENT_LOAD_ERROR:"stream_segment_load_error",UNEXPECTED_SEGMENT_ERROR:"unexpected_segment_error",NETWORK_TIMEOUT:"network_timeout",VIDEO_LOGGING_SESSION_TIMEOUT:"video_logging_session_timeout",REPLICA_SWITCH:"replica_switch",REPLICA_SWITCH_SUCCESS:"replica_switch_success",REPLICA_SWITCH_FAILED:"replica_switch_failed",COMPLETION:"completion",VIEW:"view",PLAYED_FOR_THREE_SECONDS:"played_for_three_seconds",GUIDE_ENTERED:"guide_entered",GUIDE_EXITED:"guide_exited",HEADING_RESET:"heading_reset",SPHERICAL_FALLBACK_ENTERED:"spherical_fallback_entered",SPHERICAL_VIDEO_FALLBACK_CTA_CLICKED:"spherical_video_fallback_cta_clicked",VIEWPORT_ROTATED:"viewport_rotated",VIEWPORT_ZOOMED:"viewport_zoomed",BANZAI_OAUTH_GK_ERROR:"banzai_oauth_gk_error",BANZAI_OAUTH_PARSE_ERROR:"banzai_oauth_parse_error",BANZAI_OAUTH_SESSION_ERROR:"banzai_oauth_session_error",VIEWABILITY_CHANGED:"viewability_changed",PLAYER_SEEK:"player_seek",VIDEO_CDN_URL_EXPIRED:"video_cdn_url_expired",VIDEO_CDN_URL_REFRESHED:"video_cdn_url_refreshed",VIDEO_CDN_URL_REFRESH_ERROR:"video_cdn_url_refresh_error"})}),null);
__d("VideoPlayerStates",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({READY:"ready",PLAYING:"playing",PAUSED:"paused",LOADING:"loading",FALLBACK:"fallback",FINISHED:"finished",DESTROYED:"destroyed",REPLAYED:"replayed",UNKNOWN:"unknown"})}),null);
__d("CacheStorage",["ErrorUtils","EventListener","ExecutionEnvironment","FBJSON","WebStorage","killswitch"],(function(a,b,c,d,e,f){__p&&__p();var g,h,i="_@_",j="3b",k="CacheStorageVersion";function a(a){"use strict";this._store=a}a.prototype.getStore=function(){"use strict";return this._store};a.prototype.keys=function(){"use strict";var a=[];for(var b=0;b<this._store.length;b++)a.push(this._store.key(b));return a};a.prototype.get=function(a){"use strict";return this._store.getItem(a)};a.prototype.set=function(a,b){"use strict";this._store.setItem(a,b)};a.prototype.remove=function(a){"use strict";this._store.removeItem(a)};a.prototype.clear=function(){"use strict";this._store.clear()};a.prototype.clearWithPrefix=function(a){"use strict";a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};f=babelHelpers.inherits(c,a);g=f&&f.prototype;function c(){"use strict";g.constructor.call(this,b("WebStorage").getLocalStorage())}c.available=function(){"use strict";return!!b("WebStorage").getLocalStorage()};f=babelHelpers.inherits(d,a);h=f&&f.prototype;function d(){"use strict";h.constructor.call(this,b("WebStorage").getSessionStorage())}d.available=function(){"use strict";return!!b("WebStorage").getSessionStorage()};function l(){"use strict";this._store={}}l.prototype.getStore=function(){"use strict";return this._store};l.prototype.keys=function(){"use strict";return Object.keys(this._store)};l.prototype.get=function(a){"use strict";return this._store[a]===void 0?null:this._store[a]};l.prototype.set=function(a,b){"use strict";this._store[a]=b};l.prototype.remove=function(a){"use strict";a in this._store&&delete this._store[a]};l.prototype.clear=function(){"use strict";this._store={}};l.prototype.clearWithPrefix=function(a){"use strict";a=a||"";var b=this.keys();for(var c=0;c<b.length;c++){var d=b[c];d.startsWith(a)&&this.remove(d)}};l.available=function(){"use strict";return!0};var m={memory:l,localstorage:c,sessionstorage:d};function n(a,c){"use strict";__p&&__p();this._exceptionMessage=null;this._key_prefix=c||"_cs_";if(a=="AUTO"||!a)for(var d in m){c=m[d];if(c.available()){a=d;break}}a&&(!m[a]||!m[a].available()?(b("ExecutionEnvironment").canUseDOM,this._backend=new l()):this._backend=new m[a]());c=this.useBrowserStorage();c&&b("EventListener").listen(window,"storage",this._onBrowserValueChanged.bind(this));a=c?this._backend.getStore().getItem(k):this._backend.getStore()[k];a!==j&&(b("killswitch")("CACHE_STORAGE_MODULE_CLEAR_OWN_KEYS")?this.clear():this.clearOwnKeys())}n.prototype.useBrowserStorage=function(){"use strict";return this._backend.getStore()===b("WebStorage").getLocalStorage()||this._backend.getStore()===b("WebStorage").getSessionStorage()};n.prototype.addValueChangeCallback=function(a){"use strict";this._changeCallbacks=this._changeCallbacks||[];this._changeCallbacks.push(a);return{remove:function(){this._changeCallbacks.slice(this._changeCallbacks.indexOf(a),1)}.bind(this)}};n.prototype._onBrowserValueChanged=function(a){"use strict";this._changeCallbacks&&String(a.key).startsWith(this._key_prefix)&&this._changeCallbacks.forEach(function(b){b(a.key,a.oldValue,a.newValue)})};n.prototype.keys=function(){"use strict";var a=[];b("ErrorUtils").guard(function(){if(this._backend){var b=this._backend.keys(),c=this._key_prefix.length;for(var d=0;d<b.length;d++)b[d].substr(0,c)==this._key_prefix&&a.push(b[d].substr(c))}}.bind(this),"CacheStorage")();return a};n.prototype.set=function(a,c,d){"use strict";__p&&__p();if(this._backend){var e;typeof c==="string"?e=i+c:!d?(e={__t:Date.now(),__v:c},e=b("FBJSON").stringify(e)):e=b("FBJSON").stringify(c);d=this._backend;c=this._key_prefix+a;a=!0;var f=null;while(a)try{f=null,d.set(c,e),a=!1}catch(b){f=b;var g=d.keys().length;this._evictCacheEntries();a=d.keys().length<g}if(f!==null){this._exceptionMessage=f.message;return!1}else{this._exceptionMessage=null;return!0}}this._exceptionMessage="no back end";return!1};n.prototype.getLastSetExceptionMessage=function(){"use strict";return this._exceptionMessage};n.prototype.getStorageKeyCount=function(){"use strict";var a=this._backend;return a?a.keys().length:0};n.prototype._evictCacheEntries=function(){"use strict";__p&&__p();var a=[],c=this._backend;c.keys().forEach(function(d){__p&&__p();if(d===k)return;var f=c.get(d);if(f===void 0){c.remove(d);return}if(n._hasMagicPrefix(f))return;try{f=b("FBJSON").parse(f,e.id)}catch(a){c.remove(d);return}f&&f.__t!==void 0&&f.__v!==void 0&&a.push([d,f.__t])});a.sort(function(a,b){return a[1]-b[1]});for(var d=0;d<Math.ceil(a.length/2);d++)c.remove(a[d][0])};n.prototype.get=function(a,c){"use strict";__p&&__p();var d;if(this._backend){b("ErrorUtils").applyWithGuard(function(){d=this._backend.get(this._key_prefix+a)},this,null,function(){d=null},"CacheStorage:get");if(d!==null)if(n._hasMagicPrefix(d))d=d.substr(i.length);else try{d=b("FBJSON").parse(d,e.id),d&&d.__t!==void 0&&d.__v!==void 0&&(d=d.__v)}catch(a){d=void 0}else d=void 0}d===void 0&&c!==void 0&&(d=c,this.set(a,d));return d};n.prototype.remove=function(a){"use strict";this._backend&&b("ErrorUtils").applyWithGuard(this._backend.remove,this._backend,[this._key_prefix+a],null,"CacheStorage:remove")};n.prototype._setVersion=function(){"use strict";this.useBrowserStorage()?this._backend.getStore().setItem(k,j):this._backend.getStore()[k]=j};n.prototype.clear=function(){"use strict";this._backend&&(b("ErrorUtils").applyWithGuard(this._backend.clear,this._backend,null,null,null,"CacheStorage:clear"),this._setVersion())};n.prototype.clearOwnKeys=function(){"use strict";this._backend&&(b("ErrorUtils").applyWithGuard(this._backend.clearWithPrefix,this._backend,[this._key_prefix],null,null,"CacheStorage:clearOwnKeys"),this._setVersion())};n.getAllStorageTypes=function(){"use strict";return Object.keys(m)};n._hasMagicPrefix=function(a){"use strict";return a.substr(0,i.length)===i};e.exports=n}),null);
__d("MarauderLogger",["Banzai","CacheStorage","MarauderConfig"],(function(a,b,c,d,e,f){__p&&__p();var g="client_event",h="navigation",i=18e4,j="marauder",k="marauder_last_event_time",l="marauder_last_session_id",m={},n=[],o=!1,p=null,q=null,r=null,s=0,t,u,v=!1,w=null,x=!1;function a(){G().set(k,y())}b("Banzai").subscribe(b("Banzai").SHUTDOWN,a);function y(){t=t||G().get(k)||0;return t}function z(){v||(u=G().get(l),v=!0);var a=Date.now();(!u||a-i>y())&&(u=a.toString(16)+"-"+(~~(Math.random()*16777215)).toString(16),G().set(l,u));return u}function A(){return{user_agent:window.navigator.userAgent,screen_height:window.screen.availHeight,screen_width:window.screen.availWidth,density:window.screen.devicePixelRatio||null,platform:window.navigator.platform||null,locale:window.navigator.language||null}}function B(){return{locale:navigator.language}}function C(b,a,c,d,f,g,h){var i=h||Date.now();t=h?Date.now():i;a=a||p;return{name:b,time:i/1e3,module:a,obj_type:d,obj_id:f,uuid:g,extra:c}}function D(a,b,c){return C("content",null,{flags:b},null,null,a,c)}function E(a){__p&&__p();var b=window.__mrdr;if(b)for(var c in b){var d=b[c];if(d[3]!==0){delete b[c];if(c==="1")if(r!==null)c=r;else continue;a.push(D(c,1,d[1]));a.push(D(c,2,d[2]));a.push(D(c,3,d[3]))}}}function F(a){__p&&__p();E(a);if(a.length===0)return;o&&a.push(C("counters",null,m));var c=b("Banzai").BASIC,d=b("MarauderConfig").gk_enabled;s===0&&d&&(a.push(C("device_status",null,B())),c={delay:5e3});d&&Math.random()<.01&&a.push(C("device_info",null,A()));if(r!==null)for(var d=0;d<a.length;d++){var e=a[d];(e.uuid===null||e.uuid===void 0)&&(e.uuid=r)}e={app_ver:b("MarauderConfig").app_version,data:a,log_type:g,seq:s++,session_id:z()};d=G().get("device_id");d&&(e.device_id=d);m={};o=!1;b("Banzai").post(j,e,c)}function G(){x||(x=!0,w=new(b("CacheStorage"))("localstorage",""));return w}function c(a){m[a]||(m[a]=0),m[a]++,o=!0}function H(b,a,c,d,f,g,h){F([C(b,a,c,d,f,g,h)])}function I(a,b){p!==b&&(n.push(C(h,p,{dest_module:b,source_url:q,destination_url:a})),p=b,q=a)}function d(a,b){p!==b&&(r=null,I(a,b))}function f(a,b,c){H(b?"show_module":"hide_module",a,c)}function J(a){p=a}function K(){return p}function L(a){r===null&&(r=a,a!==null&&(F(n),n=[]))}e.exports={count:c,log:H,navigateTo:d,navigateWithinSession:I,toggleModule:f,setUUID:L,setNavigationModule:J,getNavigationModule:K}}),null);
__d("WebGraphQLSubscriptionHelper",[],(function(a,b,c,d,e,f){"use strict";e.exports={getExports:function(a){var b=a.docID,c=a.queryID;return{getDocID:function(){return b},getLegacyQueryID:function(){return c}}}}}),null);