!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=372)}({367:function(e,t,n){e.exports=n.p+"css/archive.min.css"},368:function(e,t,n){
/*!
 * clipboard.js v2.0.1
 * https://zenorocha.github.io/clipboard.js
 * 
 * Licensed MIT Â© Zeno Rocha
 */
var a;a=function(){return function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:a})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){var a,i,o;i=[e,n(7)],void 0===(o="function"==typeof(a=function(e,t){"use strict";var n,a=(n=t)&&n.__esModule?n:{default:n},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),r=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.resolveOptions(t),this.initSelection()}return o(e,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action=e.action,this.container=e.container,this.emitter=e.emitter,this.target=e.target,this.text=e.text,this.trigger=e.trigger,this.selectedText=""}},{key:"initSelection",value:function(){this.text?this.selectFake():this.target&&this.selectTarget()}},{key:"selectFake",value:function(){var e=this,t="rtl"==document.documentElement.getAttribute("dir");this.removeFake(),this.fakeHandlerCallback=function(){return e.removeFake()},this.fakeHandler=this.container.addEventListener("click",this.fakeHandlerCallback)||!0,this.fakeElem=document.createElement("textarea"),this.fakeElem.style.fontSize="12pt",this.fakeElem.style.border="0",this.fakeElem.style.padding="0",this.fakeElem.style.margin="0",this.fakeElem.style.position="absolute",this.fakeElem.style[t?"right":"left"]="-9999px";var n=window.pageYOffset||document.documentElement.scrollTop;this.fakeElem.style.top=n+"px",this.fakeElem.setAttribute("readonly",""),this.fakeElem.value=this.text,this.container.appendChild(this.fakeElem),this.selectedText=(0,a.default)(this.fakeElem),this.copyText()}},{key:"removeFake",value:function(){this.fakeHandler&&(this.container.removeEventListener("click",this.fakeHandlerCallback),this.fakeHandler=null,this.fakeHandlerCallback=null),this.fakeElem&&(this.container.removeChild(this.fakeElem),this.fakeElem=null)}},{key:"selectTarget",value:function(){this.selectedText=(0,a.default)(this.target),this.copyText()}},{key:"copyText",value:function(){var e=void 0;try{e=document.execCommand(this.action)}catch(t){e=!1}this.handleResult(e)}},{key:"handleResult",value:function(e){this.emitter.emit(e?"success":"error",{action:this.action,text:this.selectedText,trigger:this.trigger,clearSelection:this.clearSelection.bind(this)})}},{key:"clearSelection",value:function(){this.trigger&&this.trigger.focus(),window.getSelection().removeAllRanges()}},{key:"destroy",value:function(){this.removeFake()}},{key:"action",set:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"copy";if(this._action=e,"copy"!==this._action&&"cut"!==this._action)throw new Error('Invalid "action" value, use either "copy" or "cut"')},get:function(){return this._action}},{key:"target",set:function(e){if(void 0!==e){if(!e||"object"!==(void 0===e?"undefined":i(e))||1!==e.nodeType)throw new Error('Invalid "target" value, use a valid Element');if("copy"===this.action&&e.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if("cut"===this.action&&(e.hasAttribute("readonly")||e.hasAttribute("disabled")))throw new Error('Invalid "target" attribute. You can\'t cut text from elements with "readonly" or "disabled" attributes');this._target=e}},get:function(){return this._target}}]),e}();e.exports=r})?a.apply(t,i):a)||(e.exports=o)},function(e,t,n){var a=n(6),i=n(5);e.exports=function(e,t,n){if(!e&&!t&&!n)throw new Error("Missing required arguments");if(!a.string(t))throw new TypeError("Second argument must be a String");if(!a.fn(n))throw new TypeError("Third argument must be a Function");if(a.node(e))return function(e,t,n){return e.addEventListener(t,n),{destroy:function(){e.removeEventListener(t,n)}}}(e,t,n);if(a.nodeList(e))return function(e,t,n){return Array.prototype.forEach.call(e,function(e){e.addEventListener(t,n)}),{destroy:function(){Array.prototype.forEach.call(e,function(e){e.removeEventListener(t,n)})}}}(e,t,n);if(a.string(e))return function(e,t,n){return i(document.body,e,t,n)}(e,t,n);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}},function(e,t){function n(){}n.prototype={on:function(e,t,n){var a=this.e||(this.e={});return(a[e]||(a[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var a=this;function i(){a.off(e,i),t.apply(n,arguments)}return i._=t,this.on(e,i,n)},emit:function(e){for(var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),a=0,i=n.length;a<i;a++)n[a].fn.apply(n[a].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),a=n[e],i=[];if(a&&t)for(var o=0,r=a.length;o<r;o++)a[o].fn!==t&&a[o].fn._!==t&&i.push(a[o]);return i.length?n[e]=i:delete n[e],this}},e.exports=n},function(e,t,n){var a,i,o;i=[e,n(0),n(2),n(1)],void 0===(o="function"==typeof(a=function(e,t,n,a){"use strict";var i=s(t),o=s(n),r=s(a);function s(e){return e&&e.__esModule?e:{default:e}}var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),d=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return a.resolveOptions(n),a.listenClick(e),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),c(t,[{key:"resolveOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.action="function"==typeof e.action?e.action:this.defaultAction,this.target="function"==typeof e.target?e.target:this.defaultTarget,this.text="function"==typeof e.text?e.text:this.defaultText,this.container="object"===l(e.container)?e.container:document.body}},{key:"listenClick",value:function(e){var t=this;this.listener=(0,r.default)(e,"click",function(e){return t.onClick(e)})}},{key:"onClick",value:function(e){var t=e.delegateTarget||e.currentTarget;this.clipboardAction&&(this.clipboardAction=null),this.clipboardAction=new i.default({action:this.action(t),target:this.target(t),text:this.text(t),container:this.container,trigger:t,emitter:this})}},{key:"defaultAction",value:function(e){return u("action",e)}},{key:"defaultTarget",value:function(e){var t=u("target",e);if(t)return document.querySelector(t)}},{key:"defaultText",value:function(e){return u("text",e)}},{key:"destroy",value:function(){this.listener.destroy(),this.clipboardAction&&(this.clipboardAction.destroy(),this.clipboardAction=null)}}],[{key:"isSupported",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["copy","cut"],t="string"==typeof e?[e]:e,n=!!document.queryCommandSupported;return t.forEach(function(e){n=n&&!!document.queryCommandSupported(e)}),n}}]),t}(o.default);function u(e,t){var n="data-clipboard-"+e;if(t.hasAttribute(n))return t.getAttribute(n)}e.exports=d})?a.apply(t,i):a)||(e.exports=o)},function(e,t){var n=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}e.exports=function(e,t){for(;e&&e.nodeType!==n;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}},function(e,t,n){var a=n(4);function i(e,t,n,i,o){var r=function(e,t,n,i){return function(n){n.delegateTarget=a(n.target,t),n.delegateTarget&&i.call(e,n)}}.apply(this,arguments);return e.addEventListener(n,r,o),{destroy:function(){e.removeEventListener(n,r,o)}}}e.exports=function(e,t,n,a,o){return"function"==typeof e.addEventListener?i.apply(null,arguments):"function"==typeof n?i.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return i(e,t,n,a,o)}))}},function(e,t){t.node=function(e){return void 0!==e&&e instanceof HTMLElement&&1===e.nodeType},t.nodeList=function(e){var n=Object.prototype.toString.call(e);return void 0!==e&&("[object NodeList]"===n||"[object HTMLCollection]"===n)&&"length"in e&&(0===e.length||t.node(e[0]))},t.string=function(e){return"string"==typeof e||e instanceof String},t.fn=function(e){return"[object Function]"===Object.prototype.toString.call(e)}},function(e,t){e.exports=function(e){var t;if("SELECT"===e.nodeName)e.focus(),t=e.value;else if("INPUT"===e.nodeName||"TEXTAREA"===e.nodeName){var n=e.hasAttribute("readonly");n||e.setAttribute("readonly",""),e.select(),e.setSelectionRange(0,e.value.length),n||e.removeAttribute("readonly"),t=e.value}else{e.hasAttribute("contenteditable")&&e.focus();var a=window.getSelection(),i=document.createRange();i.selectNodeContents(e),a.removeAllRanges(),a.addRange(i),t=a.toString()}return t}}])},e.exports=a()},369:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a,i=n(368),o=(a=i)&&a.__esModule?a:{default:a};function r(e,t){var n=e.querySelector("output");n||((n=document.createElement("output")).setAttribute("role","alert"),e.appendChild(n)),n.textContent="",n.textContent=t}function s(e){e.querySelector("input")&&(e.appendChild(function(e){var t=document.createElement("button");return t.type="button",t.textContent="Copy",t.title="Copy to clipboard",t.setAttribute("data-clipboard-target","#"+e.querySelector("input").id),t}(e)),e.setAttribute("data-copyable-text-ready",""))}t.default=function(){var e,t=document.querySelectorAll("[data-copyable-text]:not([data-copyable-text-ready])");t.length<=0||o.default.isSupported()&&([].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(t)).forEach(s),(e=new o.default("[data-copyable-text] [data-clipboard-target]")).on("success",function(e){var t=e.trigger.parentElement;r(t,t.getAttribute("data-copyable-text-success-message")||"Text copied to clipboard.")}),e.on("error",function(e){var t=e.trigger.parentElement;r(t,t.getAttribute("data-copyable-text-error-message")||"Something went wrong.")}))}},370:function(e,t){!function(e){var t={};function n(a){if(t[a])return t[a].exports;var i=t[a]={i:a,l:!1,exports:{}};return e[a].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}({"./src/scripts/index.js":
/*!******************************!*\
  !*** ./src/scripts/index.js ***!
  \******************************/
/*! no static exports found */function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={}},"./src/styles/index.less":
/*!*******************************!*\
  !*** ./src/styles/index.less ***!
  \*******************************/
/*! no static exports found */function(e,t){},0:
/*!************************************************************!*\
  !*** multi ./src/scripts/index.js ./src/styles/index.less ***!
  \************************************************************/
/*! no static exports found */function(e,t,n){n(/*! /home-local/petabox/.cache/yarn/v1/.tmp/f85d5c6dbf48ced4703e8bc19ab1e947.5c04a7b880a402fa16e48933f5ca7327747203dc.prepare/src/scripts/index.js */"./src/scripts/index.js"),e.exports=n(/*! /home-local/petabox/.cache/yarn/v1/.tmp/f85d5c6dbf48ced4703e8bc19ab1e947.5c04a7b880a402fa16e48933f5ca7327747203dc.prepare/src/styles/index.less */"./src/styles/index.less")}})},371:function(e,t,n){"use strict";var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),o=(s(n(370)),s(n(369))),r=s(n(91));function s(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var c=window.jQuery,d="www-"!==location.host.substr(0,4)?function(){}:console.log.bind(console);var u=function(){function e(){l(this,e)}return i(e,null,[{key:"tvAD",value:function(e){var t=c(e).parents(".shows"),n=void 0,a=void 0,i=void 0;if(t.length){var o=c(e).parent().find(".shows");if(o.length)return o.toggle(),!1;a=t.attr("data-chan"),i=c(e).text()}else{a=c(e).text(),n="menu-chan-".concat(a);var r=c("#"+n);if(r.length)return r.toggle(),!1}var s=location.href+"?channel="+a;return t.length&&(s+="&program=".concat(encodeURIComponent(i))),d(s),c.get(s,function(i){t.length?c(e).parent().append('<div data-chan="'+a+'" class="shows"><h5>Air date</h5><div>'+i+"</div></div>"):c(e).parent().append('<div id="'+n+'" data-chan="'+a+'" class="shows"><h4>Show</h4><div>'+i+"</div></div>")}),!1}},{key:"nav_tophat_setup",value:function(){c("#nav-tophat").length&&(e.isTouchDevice()?c("body").addClass("touch"):e.logoText(),c("#nav-tophat").on("show.bs.collapse",function(){return c("#navwrap1").addClass("hatted")}).on("hide.bs.collapse",function(){return c("#navwrap1").removeClass("hatted")}),c(".navbar a.navia-link").on("click",function(e){var t=!c("#nav-tophat-helper:visible").length,n=c("#nav-tophat").hasClass("in"),a=this,i=c(e.target).attr("data-top-kind")||c(e.currentTarget).attr("data-top-kind"),o=c(".navbar .dropdown-ia.hatted a").attr("data-top-kind");return t&&n&&o!==i||(c(".toprow").hide(),c(".toprow."+i).show()),n||c("#nav-tophat").collapse("show"),void 0!==o&&d("isnow",o),d("shouldB",i),o===i?(c("#nav-tophat").collapse("hide"),!1):t&&n&&o!==i?(c("#nav-tophat").one("hidden.bs.collapse",function(){setTimeout(function(){return c(a).click()},100)}),c("#nav-tophat").collapse("hide"),!1):(window.archive_analytics&&archive_analytics.send_event("TopNav","MediaIcon-"+i),c(".navbar .dropdown-ia").removeClass("hatted").has("."+i).addClass("hatted"),c("#nav-tophat").on("hidden.bs.collapse",function(){return c(".navbar .dropdown-ia").removeClass("hatted")}),c(document).one("click.tophat.nixer",function(e){var t=c(e.target);"nav-wb-url"!==t.attr("id")&&(t.is("a")||t.hasClass("item-img")||t.hasClass("item-ia")||c("#nav-tophat.in").collapse("hide"))}),!1)}))}},{key:"isTouchDevice",value:function(){return"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch}},{key:"footer",value:function(){e.isTouchDevice()||void 0===c.fn.tooltip||c('.navbar [data-toggle="tooltip"], .container-ia [data-toggle="tooltip"], #cols [data-toggle="tooltip"], #tvbanner [data-toggle="tooltip"]').tooltip({})}},{key:"wrapdark_watcher",value:function(){if(e.$sharedown||(e.$sharedown=c("#sharedown"),e.$wrapdark=c("#wrapdark")),e.wrapdark_watcher_ptr||(e.wrapdark_watcher_ptr=setInterval(e.wrapdark_watcher,1e3)),e.$sharedown.length&&e.$wrapdark.length){var t=e.$sharedown.offset().top+e.$sharedown.find(".panel-heading").innerHeight();parseInt(e.$wrapdark.css("height"),10)!==t&&(e.$wrapdark.css({height:t}).show(),d("       WRAPDARK-ED to ",t))}else clearInterval(e.wrapdark_watcher_ptr)}},{key:"mute_click",value:function(){var t=!c.cookie("unmute");if(this.emulator)this.emulator.setMute(!t);else{var n=jwplayer("jw6");if(n){var a=n.getVolume();a?(e.mute_click_prior_volume=a,n.setVolume(0)):n.setVolume(void 0===e.mute_click_prior_volume?100:e.mute_click_prior_volume)}}return c("#theatre-ia .iconochive-mute, #theatre-ia .iconochive-unmute").toggle(),t?c.cookie("unmute",1,{path:"/details",expires:30}):c.cookie("unmute",null,{path:"/details"}),!1}},{key:"emulate_setup",value:function(t){t.toString=function(){return t.identifier},e.emulator=new IALoader(c("#canvas").get(0),t,null,t.scale?parseFloat(t.scale):1,0===t.module.indexOf("dosbox")?"/images/dosbox.png":"/images/mame.png"),c("#theatre-ia .iconochive-unmute, #theatre-ia .iconochive-mute").hide(),c.cookie("unmute")?(c("#theatre-ia .iconochive-unmute").show(),e.emulator.unmute()):(c("#theatre-ia .iconochive-mute").show(),e.emulator.mute()),e.theatre_controls_position(),c(window).on("resize  orientationchange",function(){clearTimeout(e.theatre_controls_position_throttler),e.theatre_controls_position_throttler=setTimeout(e.theatre_controls_position,250)})}},{key:"emulate",value:function(){c(".ui-keyboard").prepend('\n      <button style="position:relative;top:-5px;right:-8px;" type="button" class="close"\n              onclick="$(\'.ui-keyboard\').removeClass(\'showing\').hide()" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span></button>').appendTo(c("#emulate .posrel")).addClass("showing"),c("#jsmessSS").fadeOut("slow"),c("#canvasholder").css("visibility","visible"),e.emulator.start({hasCustomCSS:!0});var t=JSMESS||DOSBOX||!1;return t&&(canvas.webkitRequestFullScreen||canvas.mozRequestFullScreen||canvas.requestFullScreen)&&(c("#gofullscreen").on("click",function(){return Module.requestFullScreen(1,0)}),"onfullscreenchange"in document?document.addEventListener("fullscreenchange",t.fullScreenChangeHandler):"onmozfullscreenchange"in document?document.addEventListener("mozfullscreenchange",t.fullScreenChangeHandler):"onwebkitfullscreenchange"in document&&document.addEventListener("webkitfullscreenchange",t.fullScreenChangeHandler)),setTimeout(e.theatre_controls_position,100),setTimeout(e.theatre_controls_position,500),setTimeout(e.theatre_controls_position,3e3),setTimeout(e.theatre_controls_position,1e4),!1}},{key:"theatre_controls_position",value:function(e,t,n,a){var i=e,o=a&&!e;if(o||(e||(i=c("#canvas")),i.length)){var r=o?a:i.height(),s=o?n:i.width();o||void 0===t||c("#theatre-controls").offset({top:t});var l=Math.round((c("#theatre-ia-wrap").width()-c("#theatre-controls").width()-s)/2);d("width",s),d("right_gutter_width",l),c("#theatre-controls").css({height:r,visibility:"visible",right:Math.max(20,l/2)})}}},{key:"booksize",value:function(){if(c("#texty").length){e.theatresize();var t=c("#texty iframe"),n=function(){var e=c(t.get(0).contentDocument);return e.find("#BookReader").length>0&&(e.find("body, #BookReader").css("background-color","transparent"),!0)};if(!n())var a=setInterval(function(){n()&&clearInterval(a)},200);if(!(void 0!==c("#texty").data("lendable-book"))&&!e.booksize_controls_hidden){e.booksize_controls();var i=setInterval(function(){e.booksize_controls_hidden?clearInterval(i):e.booksize_controls()},200)}}}},{key:"booksize_controls",value:function(){var t=c("iframe:first");if(t.length){var n=c(t.get(0).contentDocument);if(n.length){if(!e.booksize_controls_hidden){if(!n.find("#BRnav").length)return void d("BOOK NOT READY YET");n.find("#BRtwopageview").length>0&&n.find("#BRnav").hide(),e.booksize_controls_hidden=!0,c("#texty iframe").css("visibility","visible"),d("BOOK CONTROLS HIDDEN!")}n.find("body, #BookReader").css("background-color","transparent");var a=n.find("#BRtwopageview, #BRpageview"),i=c(".navbar"),o=i.offset().top+i.height()+parseInt(c("#texty").css("padding-top"),10);e.theatre_controls_position(a,o),d("book top",t.offset().top+a.offset().top," -v- pegTop",o),c("#theatre-ia").css({overflow:"hidden"})}}}},{key:"popcornsize",value:function(){var t=function(){var e=c(window).height()-c("iframe:first").offset().top-100,t=c("#theatre-ia .row").outerWidth(),n={width:t,height:Math.min(e,9*t/16+43)};d("popcorn resize: ",n),c("iframe:first").css(n)};t(),c(window).on("resize  orientationchange",function(){clearTimeout(e.popcorn_throttler),e.popcorn_throttler=setTimeout(t,250)})}},{key:"theatresize",value:function(t){e.theatresize_maxheight||(e.theatresize_maxheight=null);var n=function(){var n=Math.min(c(window).width(),400),a=c(window).height()-c("#navwrap1").height()-100;e.theatresize_maxheight&&(a=Math.min(a,e.theatresize_maxheight)),a=Math.max(a,n);var i=Math.min(a,1e3);c("#theatre-ia-wrap").addClass("resized").css("height",i),t&&t(c("#theatre-ia-wrap").height())};n(),c(window).on("resize  orientationchange",function(){clearTimeout(e.theatresize_throttler),e.theatresize_throttler=setTimeout(n,250)})}},{key:"carouselsize",value:function(t,n){var a=c(t),i=a.find("img.carousel-image").map(function(e,t){var n=c.Deferred(),a=void 0;return t.complete?a=n.resolve(t.naturalHeight).promise():(t.addEventListener("load",function(){n.resolve(t.naturalHeight)}),a=n),a});c.when.apply(c,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(i)).then(function(){var t=a.height(),i=Math.max.apply(Math,arguments);t>i&&(a.css("maxHeight",i),n&&(e.theatresize_maxheight=i,c(window).trigger("resize")))})}},{key:"pause",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"jw6",t=jwplayer(e);t&&t.getState&&"playing"===t.getState().toLowerCase()&&t.pause()}},{key:"morf",value:function(t,n){var a=c(t).attr("href");n&&"-"===n[0]?c.cookie(n.substr(1).concat("A2Z"),1,{path:"/",expires:1}):n&&c.cookie(n.concat("A2Z"),null,{path:"/",expires:1});var i={selectorID:"morf-modal"},o="#"+i.selectorID,r=React.createElement("div",{className:"modal-dialog"},React.createElement("div",{className:"modal-content"},React.createElement("div",{className:"modal-header modal-header-std"},React.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-hidden":"true"},React.createElement("span",{className:"iconochive-remove-circle"})),React.createElement("h2",{className:"modal-title"})),React.createElement("div",{className:"modal-body",id:i.selectorID.concat("-body")})));return c(o).length||c("body").prepend(c('<div id="'+i.selectorID+'" class="modal fade" role="dialog" aria-hidden="true"/>')),ReactDOM.render(r,c(o).get(0)),c(o).modal("show"),ReactDOM.render(React.createElement(e.MORFreact,{href:a}),c(o+"-body").get(0)),!1}},{key:"add2list",value:function(t){var n=c(t).attr("href");return c.get(n+"&headless=1&titlelist="+c(t).text(),function(n){e.modal_go(t,{title:"Add To List",headerClass:"modal-header-new-list",ignore_lnk:!0,auto_remove:!0,body:n})}),!1}},{key:"newlist",value:function(t){var n=c(t).attr("href");return c.get(n.concat("&headless=1"),function(n){e.modal_go(t,{title:"Create New List",headerClass:"modal-header-new-list",ignore_lnk:!0,body:n})}),!1}},{key:"newlist_submit",value:function(){var e=c("#new-list-form input[name=title]").val();if(!e.length)return alert("Please enter a title for your List"),!1;var t=e.replace(/[^a-zA-Z0-9_\-.]/g,"").replace(/^[_\-.]+/,"");return d(t),!!t.length||(alert("Please try another title that contains more alphanumeric characters"),!1)}},{key:"popover_menu",value:function(e,t){var n={trigger:"hover focus click",container:e,content:t.content,html:!0};t.title&&(n.title=t.title),t.placement&&(n.placement=t.placement),t.trigger&&(n.trigger=t.trigger),c(e).popover(n)}},{key:"date_switcher",value:function(e){var t="#date_switcher";c(t).tooltip({html:!0,trigger:"manual",placement:"bottom",title:e}).on("mouseenter focusin",function(){c(t).parent().find(".tooltip").length||c(this).tooltip("show")}),c(".sortbar").on("mouseleave",function(){d("not hovering sortbar anymore"),c(t).tooltip("hide")}),c(t).on("shown.bs.tooltip",function(){c(t).parent().find(".date_switcher").on("click",function(){c(this).parents(".tooltip").find(".date_switcher.in").removeClass("in"),c(this).addClass("in")})})}},{key:"tiles_to_list",value:function(){var t=e.selector(),n=c(t).first();d("lister() SELECTOR",t);var a=n.find(".results .item-ia:first   .C3").outerWidth(),i=n.find(".results .item-ia:first .C234").outerWidth(),o=i-a-20,r=Math.max(80,Math.round(.6*o)),s=Math.max(80,Math.round(.4*o));d("C3  ",a),d("C234",i),d("C2  ",r),d("C4  ",s),d(" ==> availWidth: ",o,"(",r,"+",s,")"),n.find(".results .item-ia .C2").css({width:r,"max-width":r}),n.find(".results .item-ia .C4").css({width:s,"max-width":s})}},{key:"lists_v_tiles_setup",value:function(e){var t=c.cookie("view-"+e),n=c.cookie("showdetails-"+e),a="showdetails"===n||null===n&&!1;if("lists"===t){if(a)return;c("body").removeClass("showdetails")}else c("body").removeClass("lists".concat(a?"":" showdetails")).addClass("tiles")}},{key:"showdetails_toggle",value:function(e,t){var n=c("body"),a=n.hasClass("showdetails")?"":"showdetails";d("showdetails_toggle() going to: ",a),c.cookie("showdetails-"+t,a,{path:"/",expires:30,domain:".archive.org"}),n.toggleClass("showdetails")}},{key:"tiles_toggle",value:function(t,n){var a=c("body"),i=a.hasClass("tiles")?"lists":"tiles";return d("tiles_toggle() going to",i),a.removeClass("lists tiles").addClass(i),e.tiler(),c.cookie("view-"+n,i,{path:"/",expires:30,domain:".archive.org"}),!1}},{key:"selector",value:function(){var e=c(".welcome .tabby.in .tabby-text").first().text().toLowerCase().trim();if("forum"===e||"posts"===e||"about"===e)return!1;var t=!1;if(e){d("inTab",e);var n="#tabby-"+e.replace(" ","-");if("collection"===e||"collections"===e||"uploads"===e||"reviews"===e||"web archives"===e)t="#".concat(c(n.concat(" div.ikind.in:first")).attr("id"));else{var a=c(n.concat(" .ikind.stealth.in:first")).text().toLowerCase().replace(/ /,"-");t="#ikind-"+e+(""===a?"":"-")+a}}else t="#ikind-".concat(c(".ikind.stealth.in:first").text().toLowerCase().replace(/ /,"-")),c(t).length||(t="#ikind-search");return d("SELECTOR",t),t}},{key:"tilebars",value:function(){c(".row .tilebars").find(".results").parents(".row").each(function(e,t){var n=!1;c(t).find(".results").each(function(e,t){c(t).show().css({visibility:"hidden"}),n||(n=c(t).offset()),c(t).offset().top!==n.top?c(t).hide():c(t).css({visibility:"visible"})})})}},{key:"parent_hover",value:function(e){e.find(".item-ia:not(.hov):not(.collection-ia):not(.account-ia)").addClass("hov").mouseover(function(e){return c(e.currentTarget).find(".item-parent").addClass("hoverin")}).mouseout(function(e){return c(e.currentTarget).find(".item-parent").removeClass("hoverin")})}},{key:"tiler",value:function(t,n){c("body").hasClass("tiles")||c("body").hasClass("showdetails")&&c(".sortbar input[name=showdetails]").prop("checked",!0);var a=t||e.selector();if(!1!==a){var i=c(a).first(),o=i.attr("id"),r=i.parents(".row");if(c("body").hasClass("tiles")){if(e.tilerPREV||(e.tilerPREV={winW:0,pad:0,nPerRow:1,gutter:17,tileWidth:e.TILE_WIDTH,unsourced:{},firstLeft:0},e.parent_hover(i)),c(window).width()!==e.tilerPREV.winW){r.css({"padding-left":"","padding-right":""}),e.tilerPREV.firstLeft=0;var s=r.find(".columns-facets:visible"),l=s.outerWidth()||0;l&&(l+=1+parseInt(s.css("padding-right"),10));var u=r.width()-l,f=u<400?5:17,h=c(".item-ia:first").outerWidth()>=e.TILE_WIDTH?e.TILE_WIDTH:e.TILE_WIDTH_SMALL,p=Math.max(1,Math.floor((u+f)/(h+f))),m=Math.max(0,u-p*(h+f)+f);d("tiling",o,"parentRowW",r.width(),"facetsWidth",l,"availWidth: ",u,"number per row",p,". ","With gutter margin",f,"had ",m,"extra pixels"),e.tilerPREV.pad=Math.round(m/2),e.tilerPREV.winW=c(window).width(),e.tilerPREV.nPerRow=p,e.tilerPREV.gutter=f,e.tilerPREV.tileWidth=h}e.tilerPREV.nPerRow>1?r.css({"padding-left":e.tilerPREV.pad,"padding-right":e.tilerPREV.pad}):e.tilerPREV.firstLeft=e.tilerPREV.pad;for(var v=0,g=[],b=0,y={0:0},w={0:e.tilerPREV.firstLeft},k=1;k<e.tilerPREV.nPerRow;k++)w[k]=w[k-1]+e.tilerPREV.gutter+e.tilerPREV.tileWidth,y[k]=0;e.tilerPREV.unsourced[o]||(d("unsourcing",o),i.find(".item-ia img[source]").each(function(e,t){c(t).attr({src:c(t).attr("source"),onError:'$(this).attr("src","/images/notfound.png")'}).removeAttr("source")}),e.tilerPREV.unsourced[o]=1),e.colPREV=-1,i.find(".item-ia").not(".mobile-header").css("visibility","hidden").each(function(t,n){var a=c(n),i=a.innerHeight(),o={},r=0;if(e.tilerPREV.nPerRow>1&&t>=e.tilerPREV.nPerRow){var s=(e.colPREV+1)%e.tilerPREV.nPerRow;r=s;for(var l=y[s]-i,d=0;d<e.tilerPREV.nPerRow;d++)if(d!==s&&l>y[d]){r=d;break}}else r=t%e.tilerPREV.nPerRow;e.colPREV=r,o.visibility="visible",o.top=y[r],o.left=w[r],y[r]+=i+30,b=Math.max(b,y[r]),a.css(o);var u=a.find(".item-img");u.length&&!a.find(".item-img").height()&&(v+=1,(u=a.attr("data-id"))&&g.push(u))}),d("maxtop",b),i.find(".results").css({height:b}),c("body").hasClass("manage")&&c(".item-ia:not(.removable)").addClass("removable").append('\n        <div class="xer" onclick="return AJS.unmanage(this)" title="remove item from being submitted to item management"></div>'),v&&!n&&(d(v," img (still w/o height); recall tiler(",a,")...",g.join(",")),clearTimeout(e.tiler_throttler),e.tiler_throttler=setTimeout(function(){return e.tiler(a,0)},1500))}else r.css({"padding-left":"","padding-right":""})}}},{key:"ikind",value:function(t,n){var a="#"+n;d("ikind",n),c(a).parent().find("div.ikind.in").hide(),c(a).removeClass("hidden").addClass("in").show(),c(a).parents(".tabby-data").find("a.ikind").removeClass("in"),c(t).addClass("in"),e.tiler(a);var i=c(a).parents(".tabby-data").find("select.ikind-mobile"),o=i.find("option:contains(".concat(c(t).text(),")")),r=i.find("option:selected");return o.text().trim()!==r.text().trim()&&(d("changing ikind mobile now to ",o.text()),e.ikind_mobile_change_ignore_next=!0,o.attr("selected","selected")),!1}},{key:"ikind_mobile_change",value:function(t){if(e.ikind_mobile_change_ignore_next)e.ikind_mobile_change_ignore_next=!1;else{var n=c(t).find("option:selected");d("ikind mobile changed to: ",n.text());var a=c(t).parents(".tabby-data").find("a.ikind");if(a.length||(a=c("body").find("a.ikind")),a.length){var i=a.filter(function(e,t){return c(t).text()===n.text()}).attr("href");d("goto",i),i&&("#"===i.substr(0,1)?c("a.ikind[data-id="+i.substr(1)+"]").click():location.href=i)}}}},{key:"popState",value:function(t){if(e.pushState=void 0!==history.pushState,d("popState(",t,") called, modern browser: ",e.pushState?"y":"n"),!t){var n=function(t){var n=e.arg("tab",!0);n=n?"#tabby-"+n+"-finder":t?"#tabby-"+t+"-finder":".tabby-default-finder",e.pushState&&d("goto tab: ",n," ################################################### STATE"),e.tabby_no_pushState_next_click=!0,c(n).click()};e.pushState&&c(window).on("popstate",function(){return n()}),n()}}},{key:"tabby",value:function(t,n){d("AJS.tabby()",n);var a=n.replace(/tabby-/,"").trim();if("uploads"===a||"reviews"===a||"collections"===a||"loans"===a||"web archives"===a)return!0;if(c(".tabby-data.in").removeClass("in").hide(),c("#"+n).removeClass("hidden").addClass("in").show(),c(".tabby").removeClass("in"),c(t).parents(".tabby").addClass("in"),e.tabby_no_pushState_next_click)delete e.tabby_no_pushState_next_click;else if(e.pushState&&void 0!==history.pushState){var i=c(t).attr("href"),o=location.href,r=location.protocol.concat("//",location.host,i);o!==r&&(d("pushState: ",i," ################################################### STATE"),history.pushState({},"",r))}return"collection"!==a&&"about"!==a||("about"===a&&e.grafs(),e.tiler()),!e.pushState}},{key:"colclick",value:function(e){var t=c(e),n=t.attr("data-id");n&&c("body").hasClass("tiles")&&!t.hasClass("removable")&&(location.href="/details/"+n)}},{key:"setUpRelatedItems",value:function(){var t=c("#also-found-result");if(0!==t.length){var n=c(window),a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,a=void 0,i=void 0;return function(){for(var o=arguments.length,r=Array(o),s=0;s<o;s++)r[s]=arguments[s];var l=+new Date;function c(){a=l,e.apply(n,r)}a&&l<a+t?(clearTimeout(i),i=setTimeout(c,t)):c()}}(function(){var i=c("#also-found"),o=i.offset().top,r=n.height(),s=o-r/2;n.scrollTop()+r>=s&&""===t.text()&&(i.find(".tilebars").show(),ReactDOM.render(React.createElement(e.LoadingMessage,{message:"Fetching items"}),t[0]),e.doWhenScrolledToRelatedSection().then(function(){return n.off("scroll",a)}))},100);n.scroll(a)}}},{key:"doWhenScrolledToRelatedSection",value:function(){var t=c("#also-found").data("identifier"),n=c("#also-found-result");return e.getRelatedItems(t).then(function(t){n.html(t),e.tilebars()}).catch(function(t){c("#also-found").show(),ReactDOM.render(React.createElement(e.ErrorMessage,{errorMsg:t.message}),n[0])})}},{key:"getRelatedItems",value:function(e){return new Promise(function(t,n){var a="/details/"+encodeURIComponent(e)+"&RelatedItemsGet=1";c.get(a,function(e){""===e&&n(new Error("No similar items found")),t(e)}).error(function(){n(new Error("Similar items not found"))})})}},{key:"make_items_removable",value:function(){c("body").hasClass("lists")&&c(".tiles-button:visible").click(),c(".item-ia .xer").length?(c(".item-ia").removeClass("removable"),c(".item-ia .xer").remove()):c(".item-ia").addClass("removable").append('<div onclick="AJS.remove_favorite_item(this)" class="xer" alt="remove this item from list" title="remove this item from list"></div>')}},{key:"remove_favorite_item",value:function(t,n){var a=c(t),i=a.attr("data-id"),o="";if(n){a.removeClass("favorited");var r=a.attr("data-fav-collection");o=location.protocol.concat("//",location.host,"/details/",r)}else i=(a=a.parents(".item-ia")).attr("data-id"),o=location.href.replace(/#.*$/,"");return o=o.concat("?remove_item="+encodeURIComponent(i)+"&kind=favorite"),c.get(o,function(){if(!0===n){var t=a.attr("data-target"),i=a.attr("data-favorite");a.attr({href:i,"data-original-title":"Favorite"});var o={title:"Unfavorited",body:'<center><span style="font-size:100px;" class="iconochive-No_Favorite"></span></center>'};e._modal_add(t,o),c(t).modal("show"),c(t.concat(" .modal-dialog")).center(),setTimeout(function(){return c(t).modal("hide")},e.modalInterval),c(t).on("hidden.bs.modal",function(){c(t).remove()})}else a.remove(),e.tiler()}),!1}},{key:"setUpNewsStories",value:function(){var t=c(".news-stories-section");0!==t.length&&c.getJSON("https://archive.org/cors/press_mentions/mention.json",function(n){var a=[];c.each(n.mentions,function(e,t){var n={news_source:t.news_source,url:t.url,headline:t.headline,date:t.date||"?"!==t.date?t.date:"-",about:t.about||null===t.about?t.about:"-"};a.push(n)}),ReactDOM.render(React.createElement(e.NewsStoriesReactSection,{dataHash:a}),t[0])})}},{key:"filterNewsStories",value:function(e){var t=c(".news-stories-section").find(".css-grid-row").hide();""!==e?(t.filter(":contains('Source')").filter(":contains('Headline')").filter(":contains('Topic')").show(),t.filter(":Contains("+e+")").show()):t.show()}},{key:"unmanage",value:function(e){return c(e).parent(".item-ia").next().remove(),c(e).parent(".item-ia").remove(),!1}},{key:"manage",value:function(){var e=c(".item-ia[data-id]").toArray().reduce(function(e,t){var n=c(t).attr("data-id");return"__mobile_header__"===n?e:e.concat(n,",")},"");if(d("MANAGE",e),""!==e){var t=c('\n        <form id="manage-ids" method="POST" action="/manage/"\n              style="visibility:hidden;position:absolute;top:0;left:0;width:1px;height:1px;">\n          <input type="text" name="identifier" value="'+e+'"/>\n        </form>');c("body").append(t),t.submit()}return!1}},{key:"head_img_dragdrop_setup",value:function(t){e.head_img_dragdrop_setup_done||(d("head_img_dragdrop_setup"),e.head_img_dragdrop_setup_done=!0,c("#file-dropper-wrap").bind("mouseenter",function(){d("enter"),e.head_img_replaceable(t),c("#file-dropper").show()}).bind("mouseleave",function(){d("ouddie"),e.file_picked||c("#file-dropper").hide()}),c("body").bind("dragover",function(n){return d("dragover"),n.stopPropagation(),n.preventDefault(),e.head_img_replaceable(t),c("#file-dropper").addClass("drag_over").show(),!1}),c("body").bind("dragleave",function(e){d("dragleave");var t=c("#file-dropper-wrap").is(":hover")||c("#file-dropper     ").is(":hover")||c("#file-dropper-img ").is(":hover"),n=e.pageX||e.originalEvent.pageX,a=e.pageY||e.originalEvent.pageY;if(!t){var i=c("#file-dropper-wrap"),o=i.offset(),r=o.left,s=o.top;n>=r&&n<=r+i.outerWidth()&&a>=s&&a<=s+i.outerHeight()&&(t=!0)}if(!t){var l=c("#file-dropper"),u=l.offset(),f=u.left,h=u.top;n>=f&&n<=f+l.outerWidth()&&a>=h&&a<=h+l.outerHeight()&&(t=!0)}t||c("#file-dropper").removeClass("drag_over").hide()}))}},{key:"head_img_replaceable",value:function(t){if(""===c("#file-dropper").html().trim()){c("#file-dropper").show().html('\n<div>\n<button id="file-cancel" type="button" class="close" data-dismiss="alert" aria-hidden="true"\n        title="cancel file upload" alt="cancel file upload">\n  &times;\n</button>\n<b>\n  <span style="font-size:40px; color:#aaa" class="iconochive-plus-circle" />\n</b><br/>\n<b>\n  Drag & Drop an image file here or\n</b>\n<button type="button" class="btn btn-info btn-xs" onclick="$(\'#file-selector\').click();">\n  Pick image to upload\n</button>\n<form method="POST" action="/services/post-file.php?submit=1&identifier='+t+'"\n      enctype="multipart/form-data" id="poster">\n  <div class="hidden">\n    <input id="file-selector" name="file" type="file" accept="image/*"/>\n  </div>\n  <input type="hidden" name="identifier" value="'+t+'"/>\n  <input id="file-submit" type="submit" name="submit" value="SUBMIT" class="btn btn-success"/>\n  <div id="file-uploading">\n    Uploading your file..\n  </div>\n</form>\n</div>'),c("#file-cancel").bind("click",function(t){return e.cancelFile(),t.stopPropagation(),t.preventDefault(),!1}),c.event.props.push("dataTransfer");c("#file-selector").bind("click",function(){e.file_picked="selected"}).bind("change",function(t){if(d("file dropdown selected!"),c("#file-submit, #file-cancel").show(),d(t),t.target&&t.target.files&&t.target.files.length){var n=a(t.target.files,1);e.file2post=n[0],e.previewFile()}}),c("#file-dropper").bind("drop",function(t){if(t.stopPropagation(),t.preventDefault(),d(t.dataTransfer.files),c("#file-dropper").removeClass("drag_over"),c("#file-submit, #file-cancel").show(),t.dataTransfer.files.length){e.file_picked="dropped";var n=a(t.dataTransfer.files,1);e.file2post=n[0],e.previewFile()}}),c("#poster").bind("focusin",function(e){d(e.type),c("#file-uploading").show()}).bind("submit",function(n){d("submit!"),c("#file-uploading").show();var a=function(){var n=!1;"undefined"==typeof XMLHttpRequest&&(n="browser appears to not have HTML5 functionality"),n||(n=e.badFile());var a=new XMLHttpRequest;if(n||(d(e.file2post),a.upload||(n="browser submit setup failed")),n)return n;d("post"),a.open("POST",location.protocol.concat("//",location.host,"/services/post-file.php?submit=1&identifier=",t,"&fname=",encodeURIComponent(e.file2post.name)),!1),a.setRequestHeader("Content-Type","multipart/form-data; charset=UTF-8"),a.send(e.file2post);var i=a.responseText,o=i.match(/SUCCESS \(task_id=(\d+)\)/);if(o&&o.length){var r=o[1];d("STALKING TASK_ID: ",r),c("#file-dropper").html("waiting for updates..");var s=!1;s=setInterval(function(){d("STALKING..."),c.ajax({type:"GET",url:"/catalog_status.php?where=task_id=".concat(r,"&rand=",Math.random()),dataType:"xml",success:function(e){d(e);var t={green:parseInt(c(e).find("wait_admin0").text(),10)||0,blue:parseInt(c(e).find("wait_admin1").text(),10)||0,red:parseInt(c(e).find("wait_admin2").text(),10)||0};d(t);var n=t.green+t.blue+t.red;c("#file-dropper").html("waiting for "+n+" tasks to run"),n?t.red&&(c("#file-dropper").html('<div class="alert alert-danger">status task failure -- an admin will need to resolve</div>'),clearInterval(s)):(d("task(s) done!"),clearInterval(s),c("#file-dropper").html("reloading page with your image"),location.href=location.href)}})},2e3)}else d(i);return d("post done"),""}();return""===a?(d("success!"),n.stopPropagation(),n.preventDefault(),!1):"dropped"!==e.file_picked||(e.cancelFile(),alert("Failure: "+a),n.stopPropagation(),n.preventDefault(),!1)});var n=c("#file-dropper-img").outerWidth(),i=c("#file-dropper-img").outerHeight(),o=c("#file-dropper").outerWidth(),r=c("#file-dropper").outerHeight();c("#file-dropper").css({left:Math.round((n-o)/2),top:Math.round((i-r)/2)}),e.ios&&(c("#file-dropper > form > div.hidden").removeClass("hidden"),c("#file-dropper > button").addClass("hidden"))}}},{key:"previewFile",value:function(){if(c("#file-dropper .uppreview").remove(),e.badFile())return e.cancelFile(),!1;if("undefined"==typeof FileReader)return!1;var t=new FileReader;return t.onload=function(e){d(e.target);var t=new Image;t.src=e.target.result,c("#file-dropper").append(t),c(t).addClass("uppreview")},d(e.file2post),t.readAsDataURL(e.file2post),!0}},{key:"cancelFile",value:function(){c("#file-dropper .uppreview").remove(),c("#file-dropper, file-submit, #file-cancel, #file-uploading").hide(),e.file_picked&&delete e.file_picked,e.file2post&&delete e.file2post}},{key:"badFile",value:function(){var t=!1;if(t||e.file2post||(t="file is missing"),!t&&e.file2post.size>8e6&&(t="file is over 8MB in size"),!t){var n=e.file2post.type.toLowerCase();"image/jpeg"!==n&&"image/png"!==n&&"image/gif"!==n&&(t="file not required format of JPEG or PNG or GIF")}return t&&alert(t),t}},{key:"drawPDF",value:function(e,t){var n="/download/".concat(e,"/",e,"_pdf.zip/",e,"_pdf/",e,"_"),a=!1,i=!1;for(var o in t){var r=o.substr(0,4);if(!1===i&&(i=r),i!==r){a=!0;break}}var s="",l=666;for(var d in t){var u=t[d].split(","),f=d.substr(0,4),h=parseInt(d.substr(4,2),10),p=parseInt(d.substr(6,2),10),m=f.concat("-",h),v=!1,g="";m!==l&&(g=1===h?"January":2===h?"February":3===h?"March":4===h?"April":5===h?"May":6===h?"June":7===h?"July":8===h?"August":9===h?"September":10===h?"October":11===h?"November":12===h?"December":void 0===h?"Single Page PDFs":"Unknown_".concat(h),a&&(g=f.concat(" ",g)),s+=s?"</div>\x3c!--mo--\x3e<br/>":"",s+='\n<a href="#'+g+","+f+'" onclick="$(\'#m'+m+'\').toggle(); return false">\n<span class="iconochive-folder" /> '+g+'\n</a>\n<div class="mo" id="m'+m+'">'),void 0!==p&&""!==p||(v=!0),s+=v?'<div class="day">':'\n<div class="day">\n<a href="#'+m+"-"+p+'"\n    onclick="$(\'#m'+m+"d"+p+'\').toggle();return false;">\n  <span class="iconochive-folder" /> '+p+'\n</a>\n<div class="pages" id="m'+m+"d"+p+'">';for(var b=1,y=void 0,w=void 0,k=0;k<u.length;k++){if(y=u[k])b>0&&(b=1-y),w=parseInt(y,10)+b,y=(y="0000".concat(y)).substr(y.length-4,4),s+='<a href="'+n.concat(y,".pdf")+'">['+w+"]</a> "}s+=v?"</div>":"</div>\x3c!--pages--\x3e</div>\x3c!--day--\x3e",l=m}s+="</div>\x3c!--mo--\x3e",c("#pdfs .replaced").html(s)}},{key:"grafs",value:function(){var t=c("#grafs_views_api"),n=c("#grafs1"),a=c("#grafs2");if(n.length&&void 0!==n.attr("data-id")){var i=n.attr("data-id");n.attr("data-id",null),d("loading grafs"),t.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),n.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show(),a.html('<i><small>loading graph <img src="/images/loading.gif"/></small></i>').show();var o="<h2>";c.get("/details/".concat(i,"&grafs=1&v=3"),function(e){var i=e.split(o);i.length>=3&&(c("#activity-reviewsN").html(i[1]).parents(".activity-box").show(),c("#activity-forumN  ").html(i[2]).parents(".activity-box").show()),6===i.length?(t.html(o+i[3]),n.html(o+i[4]),a.html(o+i[5])):(t.html("(graph data not available)"),n.html("(graph data not available)"),a.html("(graph data not available)"))}),e.setUpTopRegionsTable()}}},{key:"quick_down",value:function(e,t){var n="#"+e;if(c(".format-group.in").length)c(".format-group").slideDown(400),setTimeout(function(){c(".format-group.in").removeClass("in"),c(".download-button").html("DOWNLOAD OPTIONS")},400),c(n).slideUp();else{var a=c(t).text(),i=c(n).parents(".format-group");c(".download-button").html(a.concat(" FILES")),i.addClass("in"),c(".format-group:not(.in)").slideUp(),c(n).slideDown()}return!1}},{key:"arg",value:function(e,t){for(var n=t&&""===location.search?location.href.slice(1).split("&"):location.search.slice(1).split("&"),a=0;a<n.length;a++)if(n[a].slice(0,n[a].indexOf("="))===e){var i=n[a].slice(n[a].indexOf("=")+1);return i.length>0?unescape(i).split(","):""}return""}},{key:"logoText",value:function(){var e=!1;c(".navbar-nav:first").on("mouseenter focusin",function(t){c(t.target).is("ul, .navbar-brand, .iconochive-logo, .logo-text-hider")&&(e=setTimeout(function(){c("#internet-archive").length?c("#internet-archive").fadeOut("slow",function(){c("#internet-archive").remove(),c("#exit-er").show()}):(c("#exit-er").hide(),c(".navbar-nav:first").prepend(c('\n<div id="internet-archive" class="hidden-xs logo-text-hider"\n  style="position:absolute; top:10px; width:100%; text-align:center;">\n<div class="topinblock logo-text-hider" style="width:100px; padding-left:10px;">\n  <div class="logo-text-hider"\n      style="display:none; width:85px; height:30px; background:transparent -35px top no-repeat url(/images/footer.png)" />\n</div><div class="topinblock logo-text-hider" style="width:35px;height:1px;" /><div class="topinblock logo-text-hider" style="width:100px;">\n  <div class="logo-text-hider" style="display:none; width:85px; height:30px; background:transparent -116px top no-repeat url(/images/footer.png)" />\n</div>\n</div>')),c("#internet-archive > div > div").fadeIn("slow"))},1e3))}).mouseleave(function(){e&&clearTimeout(e)})}},{key:"scrolled",value:function(){var t=c(window).scrollTop(),n=c(".more_search:visible");if(n.length){var a=n.offset().top+n.outerHeight()-c(window).height()-40;t>a&&(d("hit rock bottom > ",a),e.more_searching||c(".more_search:visible".concat(" > a")).click())}}},{key:"more_search",value:function(t,n,a){var i=e.selector();if(!1===i)return!1;var o=i.replace(/#ikind-/,""),r=c(i.concat(" .more_search")),s=i;if(void 0===e.page_map[s]&&(e.page_map[s]=a||1),e.page_map[s]<0)return!1;e.page_map[s]+=1;var l=e.page_map[s];r.find(".more-search-fetching").show(),e.more_searching=!0;var u=n+l,f=location.protocol.concat("//",location.host,u);return d("url: ",u+="&scroll=1"),d("urlreplace",f),d("more_search(selector=",i,"sort=",o,"page=",l,"url=",u,")"),c.get(u,function(t){if(t.length<100&&c(t).find("div.no-results"))return r.find(".more-search-fetching, a.btn").hide(),e.page_map[s]=-1,void(e.more_searching=!1);e.pushState&&void 0!==history.replaceState&&history.replaceState({},"",f);var n=c(i).attr("id");e.tilerPREV&&e.tilerPREV.unsourced&&e.tilerPREV.unsourced[n]&&delete e.tilerPREV.unsourced[n];var a=c(i.concat(" .results"));a.append(e.addNotes(e.addingNotesKind,t)),e.tiler(i),r.find(".more-search-fetching").hide(),e.more_searching=!1,e.parent_hover(a),c(i.concat(" img")).on("load",function(){clearTimeout(e.more_search_throttler),e.more_search_throttler=setTimeout(e.tiler,1e3)}),"undefined"!=typeof archive_analytics&&archive_analytics.send_scroll_fetch_event(l)}),!1}},{key:"embed_codes_adjust",value:function(){d("showing embeds!");for(var e=["embedcodehere","embedcodehereWP"],t=0;t<e.length;t++){var n=e[t],a=c("#"+n);a.removeAttr("rows").css("height","");var i=a.text();c("body").prepend(c("<div/>").attr({id:n+"Shadow",class:"textarea-invert-readonly roundbox5"}).css({position:"absolute",visibility:"hidden",top:60,left:10,padding:"5px 15px 5px 15px",width:a.width(),"font-size":a.css("font-size")}).text(i));var o=c("#"+n+"Shadow").outerHeight()+15;d(n,"bestie height",o,"for current width",a.width()),c("#"+n+"Shadow").remove(),a.height(o)}}},{key:"modal",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.prepend,n=void 0===t?"body":t,a=e.selector,i=void 0===a?"#my-modal":a,o=e.title,r=void 0===o?"confirmed":o,s=e.body,l=void 0===s?"":s,d=i.replace(/#/,"");c(i).remove(),c(n).prepend('\n<div id="'+d+'" class="modal fade" role="dialog" aria-hidden="true">\n<div class="modal-dialog modal-lg">\n  <div class="modal-content" style="padding:10px;">\n    <div class="modal-header">\n      <button\n        type="button"\n        class="close"\n        data-dismiss="modal"\n        aria-hidden="true">\n        <span class="iconochive-remove-circle" aria-hidden="true"></span><span class="sr-only">remove-circle</span></button>\n      <h3 class="modal-title">'+r+'</h3>\n    </div>\n    <div id="'+d+'-body">'+l+"</div>\n  </div>\n</div>\n</div>"),c(i).modal("show")}},{key:"_modal_add",value:function(e,t){if(!c(e).length){var n=e.replace(/#/,"");c("body").prepend('\n<div id="'+n+'" class="modal fade" role="dialog" aria-hidden="true">\n<div class="modal-dialog modal-lg">\n  <div class="modal-content">\n    <div class="modal-header '+(t.headerClass?t.headerClass:"modal-header-std")+'">\n      <button type="button" class="close" data-dismiss="modal" aria-hidden="true">\n        <span class="iconochive-remove-circle"></span>\n      </button>\n      <h2 class="modal-title">\n        '+(void 0===t.title?"Confirmed":t.title)+'\n      </h2>\n    </div>\n    <div id="'+n+'-body">\n      '+(void 0===t.body?"":t.body)+"\n    </div>\n  </div>\n</div>\n</div>")}}},{key:"modal_beta",value:function(t,n){var a=n;a.title="<center>Give Us Feedback!</center>",c.cookie("beta-modal","open",{path:"/",expires:1,domain:".archive.org"});var i=c(t).attr("data-target");return a.href=location.href,a.href=a.href.replace(/&ui3=1$/,""),a.href=a.href.replace(/\/v2$/,""),a.body='\n<style> #fback h4 { margin-top:30px; } </style>\n<div id="fback" style="padding:20px">\n  <a target="_blank" href="/details/v2tour20150420">\n    <div style="text-align:center; float:right">\n      <img src="/download/v2tour20150420/v2tour20150420.thumbs/April202015Tour_000375.jpg"/><br/>\n      TUTORIAL VIDEO\n    </div>\n  </a>\n  <div style="font-size:18px">\n    Please take a moment to give us feedback below.\n    We consider these comments as we make changes to the site.\n  </div>\n  <h5 style="display:none">\n    <br/><br/><br/>\n    THANK YOU for your valuable feedback!\n  </h5>\n  <form id="modal_beta_form" method="POST" action="/services/exit.php">\n    <input type="hidden" name="feedback_only" value="1"/><br/>\n\n    <h4>Feedback (details are helpful):</h4>\n    <textarea class="form-control input-sm" name="feedback" rows="4"></textarea>\n\n    <h4>May we contact you about your feedback?</h4>\n    <input type="radio" name="contact" value="yes"/> yes, here\'s my email address:<br/>\n    <input class="form-control input-sm" type="text" name="eml"/> <br/>\n    <input type="radio" name="contact" value="no"/> no<br/>\n    <hr style="border-color:black;background-color:black;color:black" />\n    You can use the classic version of archive.org for a limited period of time.<br/>\n    <a target="_blank" href="https://blog.archive.org/2014/11/05/redesign/">\n      Learn more\n    </a>\n    about why archive.org changed.<br/>',a.feedback_only?a.body+='\n        <input class="btn btn-primary" type="submit" style="margin-top:20px" value="Submit"/>':a.body+='\n        <input class="btn btn-primary" type="submit" style="margin-top:20px" value="Submit Feedback"/>\n        <input id="modal_beta_form_exit" class="btn" type="button" style="margin-top:20px" value="Exit to Classic Site"/>',a.body+='\n    <br/><br/>\n    <i>What\'s New?</i>\n    [\n      <a target="top" href="https://blog.archive.org/2015/02/12/whats-new-with-v2/">recent changes</a> |\n      <a target="top" href="/CHANGELOG.txt">detailed CHANGELOG</a>\n    ]\n  </form>\n</div>',e._modal_add(i,a),c("#modal_beta_form_exit").on("click",function(){c("#modal_beta_form input[name=feedback_only]").val(0),a.feedback_only=!1,a.exiting=!0,c("#modal_beta_form").submit()}),c("#modal_beta_form").on("submit",function(){return d("submit clicked!"),a.submitted=!0,a.postdata=c("#modal_beta_form").serialize(),c(i.concat(" h5")).fadeIn("slow"),c(i.concat(" form")).fadeOut("slow"),setTimeout(function(){c.post("/services/exit.php",a.postdata,function(){if(d("POSTED ",a.postdata),(!a.feedback_only||a.exiting)&&""===document.cookie)return d("EXITING BUT HAS NO COOKIES!"),void(location.href="/services/exit.php");c("body").removeClass("blurry"),c(i).modal("hide")})},2500),!1}),c(i).modal("show").on("hidden.bs.modal",function(){d("beta modal hidden"),c("body").removeClass("blurry"),!a.feedback_only&&a.exiting?("undefined"!=typeof archive_analytics&&archive_analytics.send_ping({kind:"event",ec:"in_beta",ea:"exit",cache_bust:Math.random()}),a.submitted?(c(i).remove(),d("going to ",a.href),location.href=a.href):location.href="/services/exit.php"):c(i).remove()}),!1}},{key:"isFavoriteSuccessful",value:function(e){return-1!==e.indexOf('<meta name="ia-favorite-success" content="1">')}},{key:"toggle_list_status",value:function(t){return c(t).hasClass("favorited")?e.remove_favorite_item(t,!0):e.modal_go(t,{favorite:1}),!1}},{key:"modal_go",value:function(t,n){var a=n,i=c(t);a.favorite&&(i.addClass("favorited"),a.center=!0,a.auto_close=!0,a.title="Favorited",a.body='<center><span style="font-size:100px;" class="iconochive-favorite"></span></center>',a.login=!0);var o=i.attr("data-target"),r=i.attr("href");if(e._modal_add(o,a),a.shown&&c(o).on("shown.bs.modal",function(){a.shown()}),a.follow_link_on_dismiss&&c(o).on("hidden.bs.modal",function(){d("modal hidden, going to ",r,".."),c("body").removeClass("blurry"),location.href=r}),a.login&&null===c.cookie("logged-in-user")){if("https:"!==location.protocol)return location.href="https://archive.org/account/login.php",!1;var s="/account/login.php";return c.get(s,function(n){c(o.concat(" .modal-title")).text("Nearly there!  Please login first"),c(o).modal("show");var r=c(n).find(".container-ia > div").length?c(n).find(".container-ia > div").get(0):n;c(o.concat("-body")).html(r);var l=c(o.concat("-body form:has(input[type=submit])"));i.removeClass("favorited"),l.length&&l.on("submit",function(n){n.preventDefault(),n.stopPropagation();var i={};return l.find("input").each(function(e,t){c(t).attr("name").length&&(i[c(t).attr("name")]=c(t).val())}),c.post(s,i,function(){d("SUBMITTED"),null!==c.cookie("logged-in-user")?(c(o).on("hidden.bs.modal",function(){c(o).remove(),d("SUCCESS"),e.modal_go(t,a)}),c("body").removeClass("blurry"),c(o).modal("hide")):alert("Please try logging in again")}),!1})}),!1}if(a.auto_remove&&(a.auto_close=!0,c(o).on("hidden.bs.modal",function(){c(o).remove(),c("body").removeClass("blurry")})),a.ignore_lnk)c(o).modal("show");else{var l=t.href;c.get(l,function(t){if(a.favorite)if("undefined"!=typeof archive_analytics&&archive_analytics.send_ping({kind:"event",ec:"page_action",ea:"favorite",el:location.pathname,cache_bust:Math.random()}),e.isFavoriteSuccessful(t))i.attr({href:"#","data-original-title":"Unfavorite"}),setTimeout(function(){return location.reload(!0)},e.modalInterval);else{i.removeClass("favorited");var n=c(o);n.find(".modal-title").html("Failed"),n.find(o+"-body").html('\n              <center>\n                <p class="favorite-failure-message">\n                  There was an error adding the favorite. If the problem persists, please contact support.\n                </p>\n              </center>\n            ')}c(o).modal("show"),a.auto_close&&setTimeout(function(){return c(o).modal("hide")},e.modalInterval)}),c(o).on("hidden.bs.modal",function(){c(o).remove()})}return a.center&&c(o.concat(" .modal-dialog")).center(),a.auto_close&&a.ignore_lnk&&setTimeout(function(){return c(o).modal("hide")},e.modalInterval),!1}},{key:"check1",value:function(e,t){e.checked&&((t?c(t):c(e).parents("form")).find("input[type=checkbox]").attr("checked",!1),e.checked=!0)}},{key:"addCommas",value:function(e){for(var t=(""+e).split("."),n=t[0],a=t.length>1?".".concat(t[1]):"",i=/(\d+)(\d{3})/;i.test(n);)n=n.replace(i,"$1,$2");return n+a}},{key:"suffixFmt",value:function(e,t){return t.min>=0&&t.max<=5?Math.round(10*e,1)/10:e>=1e6?(e/1e6).toFixed(0).concat(" M"):e>=1e3?(e/1e3).toFixed(0).concat(" K"):e.toFixed(0)}},{key:"suffixFmtPercent",value:function(t,n){return e.suffixFmt(t,n).concat("%")}},{key:"descript",value:function(){var e=c("#descript").get(0);e&&e.offsetHeight<e.scrollHeight&&c("#descript-more").show()}},{key:"plotter",value:function(t){if(void 0===e.plotters&&(e.plotters=[]),t)e.plotters.push(t),t();else{d("plotter() resize/orient change",e.plotters.length,"graphs to resize");for(var n=0;n<e.plotters.length;n++)e.plotters[n]()}}},{key:"plot",value:function(e,t,n,a,i){var o=t;o.xaxis||(o.xaxis={mode:"time",color:o.dark?"#ccc":"#545454"}),o.yaxis||(o.yaxis={color:o.dark?"#ccc":"#545454"});var r=void 0;r=i&&o.barWidth?1*o.barWidth:o.barWidth?86400*o.barWidth*1e3:86400*(o.dayBarsNoPoints?1:7)*1e3,o.color||(o.color="#385C74"),o.stack?o.series={stack:!0,bars:{show:!0,barWidth:r,fill:!0},legend:{show:!0}}:o.series={bars:{show:!0,barWidth:r,fill:.6,color:o.color},color:o.color,points:{show:!o.dayBarsNoPoints}},void 0===o.grid&&(o.grid={borderColor:o.dark?"#333":"#aaa",hoverable:!0}),o.dark&&(o.grid.backgroundColor="#002b36"),o.tip||(o.tip={}),o.tip.id||(o.tip.id=e),void 0===window.GraphPriorIndex&&(window.GraphPriorIndex={});var s=[];o.series.stack?s=a:(s=i?a:void 0===a.data?[{data:a}]:[a],o.dayBarsNoPoints&&!o.noLabel&&(s[0].label=e));var l="#"+e;c.plot(c(l),s,o),n&&c(l).bind("plothover",function(e,t,a){if(!a)return window.GraphPriorDatapoint=[0,0,0],void c("#gtip").remove();if(window.GraphPriorDatapoint!==a.datapoint){window.GraphPriorDatapoint=a.datapoint,c("#gtip").remove();var i=n(a.datapoint[0],a.datapoint[1],a),r=c(l),s=r.offset(),u=o.tip.pegTo;u||(u=t.pageX-s.left>r.width()/2?"right":"left");var f="right"===u?r.width()-(t.pageX-s.left-20):t.pageX-s.left+20;d(u,f),c("#"+o.tip.id).append('<div id="gtip" class="roundbox5 grafs-tooltip" style="top:'+(t.pageY-s.top)+"px; "+u+":"+f+'px">'+i+"</div>").fadeIn(200)}})}},{key:"welcome_recolor",value:function(t){if("undefined"!=typeof ColorThief&&t.length&&!e.welcome_recolored){e.welcome_recolored=!0;var n=c(t)[0];d("welcome_recolor",n.src);var a=(new ColorThief).getPalette(n,5);if(d(a),a){var i=a[0];if(i){d(i);var o=Math.round(c(i).map(function(e,t){return t}).toArray().reduce(function(e,t){return e+t})/i.length),r=o>=128?"black":"white";d("avgVal",o),c(".welcome").css({color:r,"background-color":"rgb("+i.join(",")+")"}),c(".welcome .stealth:not(.tabby .stealth)").css({color:r})}}}}},{key:"makeMouseElementAccessible",value:function(e){c(e).attr("tabindex","0").on("keypress keydown",function(e){if("click"!==e.type){var t=e.keyCode||e.which;-1!==[32,13].indexOf(t)&&c(this).click()}})}},{key:"autocomplete",value:function(e,t,n){c(e).autocomplete({appendTo:"#autocompletee",minLength:0,source:function(e,n){n(c.ui.autocomplete.filter(t,e.term.split(/,\s*/).pop()))},focus:function(){return!1},select:function(e,t){if(n){var a=this.value.split(/,\s*/);a.pop(),a.push(t.item.value),a.push(""),this.value=a.join(", ")}else this.value=t.item.value;return!1}})}},{key:"addNotes",value:function(t,n){if("favorite"!==t&&"list"!==t)return n;if(!n&&c("body").hasClass("editable")&&(e.addingNotesKind=t),!e.addingNotesKind)return n;if(e.addNoteHTM=c('\n<div class="note">\n  <span class="edit">\n    <a href="#" onclick="return AJS.editNote(this)">Add a Note</a>\n  </span>\n</div>'),d("addNotes"),n){var a=c("<div>"+n+"</div>");return a.find('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM),a.html()}return c('.details-ia .C234:not(:has(".note"))').append(e.addNoteHTM)}},{key:"editNote",value:function(e){var t=c(e);if(!t.parents(".details-ia").prev().attr("data-id"))return!1;var n=t.parents(".note"),a="";return"edit"===t.text()&&(a=(a=n.find("span:first").text()).replace(/</g,"&lt;").replace(/>/g,"&gt;")),n.hide(),n.parent().append(c('\n<form class="form form-horizontal note" role="form" onsubmit="AJS.editedNote(this);return false">\n  <div class="form-group">\n    <div class="col-xs-2 col-md-1 col-lg-1">\n      <b>Note:</b>\n    </div>\n    <div class="col-xs-10 col-md-6 col-lg-7">\n      <textarea class="form-control" name="comments">'+a+'</textarea>\n      <div class="clearfix visible-xs-block"></div>\n    </div>\n    <div class="clearfix visible-xs-block"></div>\n    <div class="col-xs-12 col-md-5 col-lg-4 btns">\n      <button type="button" onclick="AJS.editedNote(this)" class="btn btn-success btn-xs">Save</button>\n      <button type="button" onclick="AJS.editedNote(this)" class="btn btn-info btn-cancel btn-xs">Cancel</button>\n      <button type="button" onclick="AJS.editedNote(this)" class="btn btn-danger btn-xs '+(a?"":"hidden")+'">Remove</button>\n    </div>\n  </div>\n</form>')),!1}},{key:"editedNote",value:function(t){var n=c(t),a=n.parents(".details-ia").prev().attr("data-id");if(a){n.is("form")&&(n=n.find('button:contains("Save")'));var i=n.text(),o=n.parents(".note"),r=o.prev();if("Save"===i||"Remove"===i){var s="Save"===i?o.find("textarea").val():"",l="/bookmarks.php?identifier=".concat(a,"&kind=",e.addingNotesKind,"&add_comment=",encodeURIComponent(s));return d("get ",l),void c.get(l,function(){var t=s?'Note: "<span>'+s.replace(/</g,"&lt;").replace(/>/g,"&gt;")+'</span>"\n          <span class="edit">(<a href="#" onclick="return AJS.editNote(this)">edit</a>)</span>':e.addNoteHTM.html();r.html(t).show(),o.remove()})}r.show(),o.remove()}}},{key:"thumbzilla",value:function(t){var n=c("body").hasClass("tv");n&&TV2.unplay("thumbzilla");var a="";if(c(e.thumbzillas).each(function(e,i){var o=parseInt(i,10);if(n){var r="/start/"+o+"/end/"+(o+TV3.CLIP_SEC_MAX2);a+="<a onclick=\"$('#opscreen1M').fadeOut('slow'); TV2.seekURL('"+r+'\')" href="'+r+'">'}else{a+="<a onclick=\"$('#opscreen1M').fadeOut('slow'); return Play.seek(this)\" href=\""+("/details/"+t+"&start="+o)+'">'}a+='<img src="/download/'+t+"/"+t+".thumbs/"+t+"_"+i+'.jpg"/></a>'}),""===a)return alert("coming soon!"),!1;c("#opscreen1M").remove(),c("body").prepend(c("<div />").attr({id:"opscreen1M"})),c("<div/>").attr({id:"thumbzilla"}).html("<div>"+a+"</div>").appendTo("#opscreen1M"),c("#opscreen1M").css("visibility","hidden").show();for(var i=c(window).height()+(e.ios?60:0),o=160;o>=10;o-=10){var r=Math.round(.6875*o);if(d("TRYING",o,"x",r),c("#thumbzilla img").css({width:o,height:r}),c("#thumbzilla img:last").offset().top+r<=i)break}return c("#thumbzilla div").center(),c("#opscreen1M").hide().css("visibility","visible").fadeIn("slow").one("click.opscreen1M.nixer",function(){return c("#opscreen1M").fadeOut("slow")}),!1}},{key:"nav_tophat_wb_setup",value:function(){var e="https://web.archive.org",t=e+"/web/*/",n=e+"/web/*/",a=!1;var i=c("#nav-wb-url"),o=i.parent("form");o.submit(function(e){return"undefined"==typeof archive_analytics||a||(archive_analytics.send_event("TopNav","WaybackSearchForm-Submit"),a=!0),function(e){0===e.indexOf("http://")||0===e.indexOf("https://")||e.match(/[\w.]{2,256}\.[a-z]{2,4}/gi)?document.location.href=t+e:document.location.href=n+encodeURIComponent(e)}(i.val()),e.preventDefault(),e.stopPropagation(),!1}),i.on("focus input paste",function(){void 0===i.typeahead&&c.ajax({url:"/includes/node_modules/bootstrap-3-typeahead/bootstrap3-typeahead.min.js",dataType:"script",cache:!0}).done(function(){i.typeahead({source:function(e,t){return i.focus(),c.get("https://web.archive.org/__wb/search/host?q="+encodeURIComponent(e),function(n){return void 0!==n.hosts&&n.hosts.length>0?t(n.hosts):void 0!==n.isUrl&&!0===n.isUrl&&void 0===n.excluded?t([{display_name:e}]):c.get("https://web.archive.org/__wb/search/anchor?q="+encodeURIComponent(e),function(e){if(void 0!==e&&e.length>0)return t(e.slice(0,5))})})},matcher:function(){return!0},displayText:function(e){return e.display_name},autoSelect:!1,delay:400,fitToElement:!1,minLength:3,items:8}).change(function(){var e=i.typeahead("getActive");e&&e.display_name===i.val()&&o.submit()})})})}},{key:"openPopup",value:function(e,t,n){var a={height:t,width:e,scrollbars:"yes",resizable:"yes",toolbar:"no",directories:"no",location:"yes",menubar:"no",status:"yes"},i=Object.keys(a).filter(function(e){return a[e]}).reduce(function(e,t){return e.concat(t+"="+a[t])},[]).join(",");window.open(n,"popup",i)}},{key:"PopupLink",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.children,a=t.href,i=t.height,o=t.width,r=t.title;return React.createElement("a",{href:a,title:r,onClick:function(t){return t.preventDefault(),e.openPopup(o,i,a)}},n)}},{key:"setUpCreativeCommonsLicenseLink",value:function(){var t=document.querySelector("#creative_commons_license_link_react");t&&ReactDOM.render(React.createElement(e.CreativeCommonsLicenseLink,{href:t.dataset.href,licenseName:t.dataset.licenseName,licenseSelected:"true"===t.dataset.licenseSelected}),t)}},{key:"setUpSearchForms",value:function(){var e=c(document.body);function t(t){var n=c(t),a=n.find(".js-search-bar"),i=n.find(".js-search-options"),o=i.data("keepOpenWhenChanged"),r=!1;function s(e){!e||n[0].contains(e)||o&&r||i.removeClass("is-open").attr("aria-expanded",!1)}n.length&&(n.on("submit",function(e){var t=this.dataset.waybackMachineSearchUrl,n=c(this.elements),a=n.filter('[name="sin"]:checked'),i=n.filter('[name="search"]'),o=a.length?a[0].value:"",r=i.length?i[0].value:"";t&&"WEB"===o&&(e.preventDefault(),window.location=[t.replace(/\/$/,""),r].join("/"))}),i.hasClass("is-open")||(e.on("click",function(e){s(e.target)}),n.on("change",function(){r=!0}).on("focusout",function(e){s(e.relatedTarget)}),a.on("focusin",function(){i.addClass("is-open").attr("aria-expanded",!0)})))}c(".js-search-form").each(function(e,n){return t(n)})}},{key:"setUpBookReaderIframe",value:function(){var e=document.querySelector("#texty iframe");e&&e.hasAttribute("data-book-reader-sync-urls")&&window.addEventListener("message",function(e){e.data&&"bookReaderFragmentChange"===e.data.type&&function(e){if("history"in window){var t,n,a,i=(t=window.location.pathname,n=e,a=/(\/((page|mode|search)\/[^/?$]+))+\/?(?=\?|$)/g,(t.match(a)?t.replace(a,"/"+n):(t+"/"+n).replace(/\/+/g,"/"))+window.location.search+window.location.hash);window.history.replaceState({fragment:e},window.title,i)}}(e.data.fragment)})}},{key:"setUpAccordions",value:function(){Array.from(document.querySelectorAll("[data-accordion]")).forEach(function(e){function t(t){var n,a;t.target.open&&(n=e.querySelectorAll("details"),a=t.target,Array.from(n).forEach(function(e){e!==a&&(e.open=!1)}),c("html, body").animate({scrollTop:c(t.target).offset().top},400))}Array.from(e.querySelectorAll("details")).forEach(function(e){e.addEventListener("toggle",t)}),e.setAttribute("data-accordion-ready","")})}},{key:"advanced_search",value:function(t){if(!e.is_advanced_TV_search(t))return!0;e.adv||(e.adv={mapping:!1});var n=(new Date).toISOString().substr(0,10);c.ajaxSetup({cache:!0});var a="https://archive.org/includes/";return c.when("undefined"!=typeof TV||c.getScript(a.concat("tv.min.js?",n)),"undefined"!=typeof TVSearch||c.getScript(a.concat("build/js/tvsearch.min.js?",n)),c.ui||c.getScript(a.concat("jquery-ui-1.10.3.min.js")),c.ui||c.get("/includes/redmond/jquery-ui-1.10.3.min.css",function(e){c("<style />").html(e).appendTo("head")}),e.adv.mapping||c.getJSON("/details/tv?mappings&output=json&".concat(n),function(t){e.adv.mapping=t})).then(function(){2===e.adv.mapping.length?TVSearch.proPick(e.adv.mapping,t):alert("failed to get network and program mappings!")}),!1}},{key:"is_advanced_TV_search",value:function(e){if("web.archive.org"===location.hostname)return!1;if(c(document.body).hasClass("top"))return!1;var t=c(e).parents("form");return!!t.find(".js-search-options input[value=TV]").is(":checked")&&t}},{key:"setupPopupLink",value:function(){c(document.body).on("click","[data-popup-link]",function(t){t.preventDefault();var n=c(t.currentTarget),a=n.data("popup-link-width")||500,i=n.data("popup-link-height")||500;e.openPopup(a,i,t.currentTarget.href)})}},{key:"NewsStoriesReactSection",value:function(e){var t=e.dataHash,n=void 0===t?[]:t;return React.createElement("section",{"aria-label":"News Stories"},n.map(function(e){return React.createElement("div",{className:"css-grid-row"},React.createElement("div",{className:"source box"},e.news_source),React.createElement("div",{className:"url box"},React.createElement("a",{href:""+e.url,className:"link"},e.headline)),React.createElement("div",{className:"date box"},e.date),React.createElement("div",{className:"topic box"},e.about))}))}},{key:"RegionsTable",value:function(e){var t=e.caption,n=void 0===t?"Regions":t,a=e.captionClass,i=void 0===a?"":a,o=e.counts,r=void 0===o?[]:o;return React.createElement("table",{className:"stats-table"},React.createElement("caption",{className:i},n),React.createElement("thead",null,React.createElement("tr",null,React.createElement("th",{scope:"col"},"Region"),React.createElement("th",{scope:"col"},"Country"),React.createElement("th",{className:"stats-table__numeric-column",scope:"col"},"Views"))),React.createElement("tbody",null,r.map(function(e){return React.createElement("tr",{key:e.state.code+"_"+e.country.code+"_"+e.count},React.createElement("td",null,e.state.formattedName),React.createElement("td",null,e.country.formattedName),React.createElement("td",{className:"stats-table__numeric-column"},e.formattedCount))})))}},{key:"LoadingMessage",value:function(e){var t=e.message,n=void 0===t?"Loading":t;return React.createElement("small",{className:"loading-message"},n)}},{key:"ErrorMessage",value:function(e){var t=e.errorMsg;return React.createElement("small",null,t)}},{key:"setUpTopRegionsTable",value:function(){var t=c(".js-top-regions-table"),n=t.find(".js-top-regions-message"),a=n.text();if(t&&n){ReactDOM.render(React.createElement(e.LoadingMessage,{message:"loading data"}),n[0]);var i={uaKinds:["non_robot","unrecognized"]};t.data("days")&&(i.days=parseInt(t.data("days"),10)),t.data("limit")&&(i.limit=parseInt(t.data("limit"),10)),e.StatsApiClient.getGeoCounts(t.data("identifier"),i).then(function(n){ReactDOM.render(React.createElement(e.RegionsTable,{caption:t.data("caption"),captionClass:t.data("captionClass"),counts:n}),t[0])},function(){n.text(a)})}}}]),e}();u.TILE_WIDTH=180,u.TILE_WIDTH_SMALL=150,u.ios=navigator.userAgent.indexOf("iPhone")>0||navigator.userAgent.indexOf("iPad")>0||navigator.userAgent.indexOf("iPod")>0,u.page_map={},u.cgi_args={};var f=function(){function e(){l(this,e)}return i(e,null,[{key:"setup",value:function(t,n,a,i){e.c.realGraphWidth=e.c.GRAPH_WIDTH-e.c.GRAPH_PADDING,e.c.maxSlide=Math.floor((i.getTime()-a.getTime())/864e5);var o=a.getTime()/1e3,r=t>0?Math.floor((t-o)/86400):0,s=n>0?Math.floor((n-o)/86400):e.c.maxSlide,l=c("<div />").attr({id:"slider"}).css({width:e.c.realGraphWidth,position:"absolute",top:e.c.GRAPH_HEIGHT-10,left:0,zIndex:1});c("#timegraf").append(l),l.append("<br />"),d(r,s),c("#slider").slider({range:!0,max:e.c.maxSlide,values:[r,s],slide:function(t,n){var i=a.getTime(),o=new Date(i),r=new Date(i);o.setDate(o.getDate()+n.values[0]),r.setDate(r.getDate()+n.values[1]),c("#from ").html(c.datepicker.formatDate("M d",o)),c("#to   ").html(c.datepicker.formatDate("M d",r)),c("#fromB").html(c.datepicker.formatDate("yymmdd",o)),c("#toB  ").html(c.datepicker.formatDate("yymmdd",r)),c("#datepickL").val(c.datepicker.formatDate("mm/dd/yy",o)),c("#datepickR").val(c.datepicker.formatDate("mm/dd/yy",r)),clearTimeout(e.hideL),clearTimeout(e.hideR);var s={left:c("#slider .ptrL").offset().left-c("#from").width()+10},l={left:c("#slider .ptrR").offset().left};c("#from").offset(s).show(0,function(){e.hideL=setTimeout(function(){return c("#from").hide("slow")},2e3)}),c("#to  ").offset(l).show(0,function(){e.hideR=setTimeout(function(){return c("#to  ").hide("slow")},2e3)}),e.pinkme(n.values[0],n.values[1])},stop:function(t,n){e.adjust(n.values[0],n.values[1]),e.timechanged=!0;var a=location.href.replace(/^http[s]*:/,""),i="//"+location.host+e.c.q+e.args();a!==i&&(d(a),d(i),c("#opscreen1M").remove(),c("body").append(c('<div id="opscreen1M"/>')),c("#opscreen1M").show("slow",function(){location.href=i}))}}),(r>0||s>0)&&e.pinkme(r,s)}},{key:"pinkme",value:function(t,n){var a=Math.round(e.c.GRAPH_PADDING/2),i=Math.round(t/e.c.maxSlide*e.c.realGraphWidth)+2,o="rect(0px,"+(Math.round(n/e.c.maxSlide*e.c.realGraphWidth)-2+a)+"px,"+e.c.GRAPH_HEIGHT+"px,"+i+"px)";d(o),c("#timegraf-clip").css("clip",o);var r={"data-title":"click and drag this to change time period","data-toggle":"tooltip","data-placement":"bottom"};c(c("#slider a").get(0)).attr(r).removeClass("ui-state-default").addClass("ptrL"),c(c("#slider a").get(1)).attr(r).removeClass("ui-state-default").addClass("ptrR"),e.adjust(t,n)}},{key:"adjust",value:function(e,t){var n=t-e<2;d("left:",e,"rite:",t),n?(c("#to").hide(),c("#slider .ui-widget-header").css("borderColor","#d33682"),c("#slider .ui-widget-header").css("border-left-width",0)):(c("#slider .ui-widget-header").css("borderColor","#d33682"),c("#slider .ui-widget-header").css("border-left-width",2))}},{key:"args",value:function(){if(!e.timechanged)return"";var t=c("#fromB").text().trim(),n=c("#toB  ").text().trim();return"&time="+t+(t===n?"":"-"+n)}}]),e}();f.timechanged=!1,f.c={},function(){var e=function(){function e(t){var n=t.code,a=t.name;l(this,e),this.code=n,this.name=a}return i(e,[{key:"formattedName",get:function(){return(e=this.name).charAt(0).toUpperCase()+e.slice(1);var e}}]),e}(),t=function(){function e(t){var n=t.count,a=t.country,i=t.state;l(this,e),this.count=parseInt(n,10),this.country=a,this.state=i}return i(e,[{key:"formattedCount",get:function(){return u.addCommas(this.count)}}]),e}();function n(n){return new t({count:n.sum_count_value,country:new e({code:n.geo_country,name:n.country}),state:new e({code:n.geo_state,name:n.state})})}u.StatsApiClient=function(){function e(){l(this,e)}return i(e,null,[{key:"getGeoCounts",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=t.days,i=void 0===a?30:a,o=t.limit,r=void 0===o?100:o,s=t.uaKinds,l=void 0===s?["robot","non_robot","unrecognized"]:s,d="https://be-api.us.archive.org/views/v1/detail/collection/"+e+"/"+i;return c.get(d).then(function(e){try{return function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).uaKinds,a=void 0===t?["robot","non_robot","unrecognized"]:t;if(!e.counts_geo)throw new RangeError("API response doesn't contain property 'counts_geo'.");for(var i,o={},r=0;r<e.counts_geo.length;r++){var s=e.counts_geo[r];if(i=s.ua_kind,-1!==a.indexOf(i)&&"unknown"!==s.country){var l=s.geo_country+"_"+s.geo_state;o[l]?o[l].count+=s.sum_count_value:o[l]=n(s)}}return Object.keys(o).map(function(e){return o[e]})}(e,{uaKinds:l}).sort(function(e,t){return e.count<t.count?1:-1}).slice(0,r)}catch(e){return c.Deferred().reject(e)}})}}]),e}()}(),u.CreativeCommonsLicenseLink=React.createClass({displayName:"CreativeCommonsLicenseLink",DEFAULT_LINK_TEXT:"Choose license",defaultProps:{licenseName:void 0,licenseSelected:!1},getInitialState:function(){return{licenseSelected:this.props.licenseSelected,linkText:this.props.licenseName||this.DEFAULT_LINK_TEXT,oldLicenseName:this.props.licenseName}},componentWillReceiveProps:function(e){this.setState({licenseSelected:e.licenseSelected,linkText:e.licenseName||this.DEFAULT_LINK_TEXT})},removeLicense:function(){this.setState({licenseSelected:!1,linkText:this.DEFAULT_LINK_TEXT}),this.removeRetainLicenseInput()},removeRetainLicenseInput:function(){var e=document.getElementById("retaincclicense");e.parentNode.removeChild(e)},wasLicensedChanged:function(){return this.state.oldLicenseName!==this.state.linkText},getLicenseChangeMessage:function(){return this.state.oldLicenseName&&this.wasLicensedChanged()?"Change license (currently "+this.state.oldLicenseName+")":""},render:function(){return React.createElement("span",null,React.createElement(u.PopupLink,{href:this.props.href,height:"600",width:"600",title:this.getLicenseChangeMessage()},this.state.linkText)," ",this.state.licenseSelected&&React.createElement("span",null,"(",React.createElement("button",{type:"button",className:"creativecommons-remove-license-button",onClick:this.removeLicense},"remove"),")"))}}),u.MORFreact=React.createClass({displayName:"MORFreact",FACETS_PER_PAGE:100,getInitialState:function(){return{page:1,href:"",mounted:!1,hdr:"",options:[]}},getFacets:function(){var e=this;c.getJSON(this.props.href+"&headless=1&output=json",function(t){t.href=e.props.href,t.mounted=!0,d(t),e.setState(t);for(var n=0;n<t.checked.length;n++)for(var a=0;a<e.state.options.length;a++){var i=e.state.options[a].val;if(t.checked[n]==i){e.refs[i].checked=!0;break}}})},componentDidMount:function(){d("mounted"),this.getFacets()},pageClick:function(e){e.stopPropagation(),e.preventDefault();var t=""===c(e.target).text()?this.state.page+1:parseInt(c(e.target).text(),10);this.setState({page:t})},submitClick:function(){d("submitted");for(var e=this.state.submit,t=0;t<this.state.options.length;t++){var n=this.state.options[t].val;if(this.refs[n].checked){var a="&and[]="+this.state.morf+'%3A"'+encodeURIComponent(n)+'"';d("checked",n,"=>",a),e+=a}}d(e),location.href=e},render:function(){var e=this;d("rendering..");var t=!this.state.mounted;""!==this.state.href&&this.props.href!==this.state.href&&(t=!0,this.getFacets()),c("#morf-modal .modal-title").html(t?"":this.state.hdr);var n=(this.state.page-1)*this.FACETS_PER_PAGE,a=n+this.FACETS_PER_PAGE-1,i=this.state.options.map(function(i,o){var r=i.txt?i.txt:i.val,s=o>=n&&o<=a&&!t?"farow":"farow hidden";return React.createElement("div",{className:s,key:i.val},React.createElement("div",{className:"facell"},React.createElement("input",{onClick:e.handleClick,type:"checkbox",name:i.val,value:i.val,ref:i.val})),React.createElement("div",{className:"facell"},u.addCommas(i.n)),React.createElement("div",{className:"facell"},e.state.href.match(/morf=collection$/)?React.createElement("a",{href:"/details/"+i.val},r):r))}),o=[],r=Math.ceil(this.state.options.length/this.FACETS_PER_PAGE),s="";if(t)s=React.createElement("div",{style:{"font-style":"italic",margin:"25px","text-align":"center"}},"loading filters...",React.createElement("img",{alt:"",style:{width:"25px"},key:t,src:"/images/loading.gif"}));else{var l=1;for(l=1;l<=r;l++)this.state.page===l?o.push(React.createElement("div",{key:"p".concat(l),className:"topinblock"},l)):o.push(React.createElement("a",{href:"#".concat(l),key:"p".concat(l),onClick:this.pageClick},l)),o.push(" ");if(this.state.page<r){var f=React.createElement("a",{href:"#".concat(l),key:"pp".concat(l),onClick:this.pageClick},React.createElement("span",{className:"iconochive-right-solid"}));o.push(f)}}return React.createElement("div",{id:"morf-page"},React.createElement("form",null,React.createElement("div",{className:"fatable facet-subject"},i),s,React.createElement("div",{id:"morf-paging"},o),React.createElement("center",null,React.createElement("input",{className:t?"btn-primary hidden":"btn-primary",type:"button",value:"Apply your filters",onClick:this.submitClick}))))}}),c.cookie=function(e,t,n){if(void 0!==t){n=n||{},null===t&&(t="",n.expires=-1);var a,i="";if(n.expires&&("number"==typeof n.expires||n.expires.toUTCString))"number"==typeof n.expires?(a=new Date).setTime(a.getTime()+24*n.expires*60*60*1e3):a=n.expires,i="; expires="+a.toUTCString();var o=n.path?"; path="+n.path:"",r=n.domain?"; domain="+n.domain:"",s=n.secure?"; secure":"";return navigator.userAgent.indexOf("MSIE 9.")>0&&(r="",o=""),document.cookie=[e,"=",encodeURIComponent(t),i,o,r,s].join(""),!0}var l=null;if(document.cookie&&""!=document.cookie)for(var d=document.cookie.split(";"),u=0;u<d.length;u++){var f=c.trim(d[u]);if(f.substring(0,e.length+1)==e+"="){l=decodeURIComponent(f.substring(e.length+1));break}}return l},c.fn.center=function(){var e=this.height()+parseInt(this.css("padding-top"),10)+parseInt(this.css("padding-bottom"),10);d("myheight",e),d("mywidth",this.width()),d("w.height",c(window).height(),"w.width",c(window).width(),"w.scrollTop",c(window).scrollTop(),"w.scrollLeft",c(window).scrollLeft());var t=void 0,n=void 0;if(u.ios){var a=window.innerWidth,i=window.innerHeight;d("vpH",i),d("vpW",a),t=(i-e)/2+c(window).scrollTop(),n=(a-this.width())/2+c(window).scrollLeft()}else t=(c(window).height()-e)/2,n=(c(window).width()-this.width())/2;return t=Math.max(20,t),n=Math.max(20,n),this.css({position:u.ios?"absolute":"fixed",display:"block",top:t,left:n}),this},c(function(){u.makeMouseElementAccessible(".accessible-link"),"undefined"!=typeof archive_analytics&&archive_analytics.set_up_event_tracking(),u.nav_tophat_setup(),u.nav_tophat_wb_setup(),u.setupPopupLink(),u.setUpCreativeCommonsLicenseLink(),u.setUpSearchForms(),u.setUpBookReaderIframe(),u.setUpAccordions(),u.setUpRelatedItems(),u.setUpNewsStories(),(0,o.default)(),(0,r.default)(),"undefined"!=typeof archive_setup&&c(function(){var e=!0,t=!1,n=void 0;try{for(var a,i=archive_setup[Symbol.iterator]();!(e=(a=i.next()).done);e=!0){(0,a.value)()}}catch(e){t=!0,n=e}finally{try{!e&&i.return&&i.return()}finally{if(t)throw n}}}),u.footer(),u.modalInterval=2e3}),window.AJS=u,window.Timegraf=f},372:function(e,t,n){n(371),e.exports=n(367)},91:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],a=!0,i=!1,o=void 0;try{for(var r,s=e[Symbol.iterator]();!(a=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);a=!0);}catch(e){i=!0,o=e}finally{try{!a&&s.return&&s.return()}finally{if(i)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),i=window.jQuery;function o(e,t){var n=e.querySelector(t);return n?n.value:""}t.default=function(){Array.from(document.querySelectorAll(".js-disability-eligibility")).forEach(function(e){var t=e.dataset.disabilityEligibilityType;e.addEventListener("submit",function(n){var r=o(e,".disability-eligibility-password"),s=o(e,".disability-eligibility-token"),l={type:t,password:r,token:s},c=location.href.match(/\?.*login=([^&]+)/);if(c){var d=a(c,2);l.login=d[1]}var u=document.createElement("img");u.src="/images/loading.gif",e.querySelector('input[type="submit"]').parentNode.appendChild(u),i.ajax({type:"POST",url:"/services/disability_eligibility.php",dataType:"json",data:l,success:function(e){"success"!==e.status?"not logged in"!==e.message?(alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: "+e.status_code+", "+e.message)):alert("Please login first."):alert("Success! Your eligibility has been verified.")},error:function(e,t,n){alert("Sorry. We could not verify your eligibility at this time."),console.log("Verification error: "+t+", "+n)},complete:function(){u.remove()}}),n.preventDefault()})})}}});
//# sourceMappingURL=archive.min.js.map